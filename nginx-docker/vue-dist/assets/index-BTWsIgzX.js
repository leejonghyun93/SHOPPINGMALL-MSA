var Zd=Object.defineProperty;var Xd=(e,t,s)=>t in e?Zd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Ps=(e,t,s)=>Xd(e,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=s(r);fetch(r.href,a)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Oa(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Fe={},Ds=[],qt=()=>{},Yd=()=>!1,wr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Na=e=>e.startsWith("onUpdate:"),Ye=Object.assign,La=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Qd=Object.prototype.hasOwnProperty,qe=(e,t)=>Qd.call(e,t),Ce=Array.isArray,Ms=e=>Rn(e)==="[object Map]",zs=e=>Rn(e)==="[object Set]",ii=e=>Rn(e)==="[object Date]",Ae=e=>typeof e=="function",Ke=e=>typeof e=="string",Ft=e=>typeof e=="symbol",Ve=e=>e!==null&&typeof e=="object",Uc=e=>(Ve(e)||Ae(e))&&Ae(e.then)&&Ae(e.catch),jc=Object.prototype.toString,Rn=e=>jc.call(e),ef=e=>Rn(e).slice(8,-1),Bc=e=>Rn(e)==="[object Object]",Da=e=>Ke(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,un=Oa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kr=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},tf=/-(\w)/g,Ct=kr(e=>e.replace(tf,(t,s)=>s?s.toUpperCase():"")),sf=/\B([A-Z])/g,ys=kr(e=>e.replace(sf,"-$1").toLowerCase()),Sr=kr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Vr=kr(e=>e?`on${Sr(e)}`:""),fs=(e,t)=>!Object.is(e,t),er=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},ua=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},lr=e=>{const t=parseFloat(e);return isNaN(t)?e:t},nf=e=>{const t=Ke(e)?Number(e):NaN;return isNaN(t)?e:t};let li;const Cr=()=>li||(li=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"?globalThis:{});function Ma(e){if(Ce(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=Ke(n)?lf(n):Ma(n);if(r)for(const a in r)t[a]=r[a]}return t}else if(Ke(e)||Ve(e))return e}const rf=/;(?![^(]*\))/g,of=/:([^]+)/,af=/\/\*[^]*?\*\//g;function lf(e){const t={};return e.replace(af,"").split(rf).forEach(s=>{if(s){const n=s.split(of);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function $e(e){let t="";if(Ke(e))t=e;else if(Ce(e))for(let s=0;s<e.length;s++){const n=$e(e[s]);n&&(t+=n+" ")}else if(Ve(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const cf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",uf=Oa(cf);function qc(e){return!!e||e===""}function df(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Ts(e[n],t[n]);return s}function Ts(e,t){if(e===t)return!0;let s=ii(e),n=ii(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=Ft(e),n=Ft(t),s||n)return e===t;if(s=Ce(e),n=Ce(t),s||n)return s&&n?df(e,t):!1;if(s=Ve(e),n=Ve(t),s||n){if(!s||!n)return!1;const r=Object.keys(e).length,a=Object.keys(t).length;if(r!==a)return!1;for(const i in e){const l=e.hasOwnProperty(i),c=t.hasOwnProperty(i);if(l&&!c||!l&&c||!Ts(e[i],t[i]))return!1}}return String(e)===String(t)}function Ua(e,t){return e.findIndex(s=>Ts(s,t))}const Hc=e=>!!(e&&e.__v_isRef===!0),T=e=>Ke(e)?e:e==null?"":Ce(e)||Ve(e)&&(e.toString===jc||!Ae(e.toString))?Hc(e)?T(e.value):JSON.stringify(e,Fc,2):String(e),Fc=(e,t)=>Hc(t)?Fc(e,t.value):Ms(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],a)=>(s[Wr(n,a)+" =>"]=r,s),{})}:zs(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Wr(s))}:Ft(t)?Wr(t):Ve(t)&&!Ce(t)&&!Bc(t)?String(t):t,Wr=(e,t="")=>{var s;return Ft(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ut;class ff{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ut,!t&&ut&&(this.index=(ut.scopes||(ut.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=ut;try{return ut=this,t()}finally{ut=s}}}on(){++this._on===1&&(this.prevScope=ut,ut=this)}off(){this._on>0&&--this._on===0&&(ut=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function pf(){return ut}let We;const zr=new WeakSet;class Vc{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ut&&ut.active&&ut.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,zr.has(this)&&(zr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||zc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ci(this),Jc(this);const t=We,s=Tt;We=this,Tt=!0;try{return this.fn()}finally{Gc(this),We=t,Tt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)qa(t);this.deps=this.depsTail=void 0,ci(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?zr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){da(this)&&this.run()}get dirty(){return da(this)}}let Wc=0,dn,fn;function zc(e,t=!1){if(e.flags|=8,t){e.next=fn,fn=e;return}e.next=dn,dn=e}function ja(){Wc++}function Ba(){if(--Wc>0)return;if(fn){let t=fn;for(fn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;dn;){let t=dn;for(dn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function Jc(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Gc(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),qa(n),hf(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function da(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Kc(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Kc(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===_n)||(e.globalVersion=_n,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!da(e))))return;e.flags|=2;const t=e.dep,s=We,n=Tt;We=e,Tt=!0;try{Jc(e);const r=e.fn(e._value);(t.version===0||fs(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{We=s,Tt=n,Gc(e),e.flags&=-3}}function qa(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let a=s.computed.deps;a;a=a.nextDep)qa(a,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function hf(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Tt=!0;const Zc=[];function es(){Zc.push(Tt),Tt=!1}function ts(){const e=Zc.pop();Tt=e===void 0?!0:e}function ci(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=We;We=void 0;try{t()}finally{We=s}}}let _n=0;class mf{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ha{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!We||!Tt||We===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==We)s=this.activeLink=new mf(We,this),We.deps?(s.prevDep=We.depsTail,We.depsTail.nextDep=s,We.depsTail=s):We.deps=We.depsTail=s,Xc(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=We.depsTail,s.nextDep=void 0,We.depsTail.nextDep=s,We.depsTail=s,We.deps===s&&(We.deps=n)}return s}trigger(t){this.version++,_n++,this.notify(t)}notify(t){ja();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Ba()}}}function Xc(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Xc(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const fa=new WeakMap,Es=Symbol(""),pa=Symbol(""),bn=Symbol("");function st(e,t,s){if(Tt&&We){let n=fa.get(e);n||fa.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new Ha),r.map=n,r.key=s),r.track()}}function Zt(e,t,s,n,r,a){const i=fa.get(e);if(!i){_n++;return}const l=c=>{c&&c.trigger()};if(ja(),t==="clear")i.forEach(l);else{const c=Ce(e),f=c&&Da(s);if(c&&s==="length"){const u=Number(n);i.forEach((d,m)=>{(m==="length"||m===bn||!Ft(m)&&m>=u)&&l(d)})}else switch((s!==void 0||i.has(void 0))&&l(i.get(s)),f&&l(i.get(bn)),t){case"add":c?f&&l(i.get("length")):(l(i.get(Es)),Ms(e)&&l(i.get(pa)));break;case"delete":c||(l(i.get(Es)),Ms(e)&&l(i.get(pa)));break;case"set":Ms(e)&&l(i.get(Es));break}}Ba()}function Os(e){const t=Ue(e);return t===e?t:(st(t,"iterate",bn),kt(e)?t:t.map(et))}function Ir(e){return st(e=Ue(e),"iterate",bn),e}const vf={__proto__:null,[Symbol.iterator](){return Jr(this,Symbol.iterator,et)},concat(...e){return Os(this).concat(...e.map(t=>Ce(t)?Os(t):t))},entries(){return Jr(this,"entries",e=>(e[1]=et(e[1]),e))},every(e,t){return zt(this,"every",e,t,void 0,arguments)},filter(e,t){return zt(this,"filter",e,t,s=>s.map(et),arguments)},find(e,t){return zt(this,"find",e,t,et,arguments)},findIndex(e,t){return zt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return zt(this,"findLast",e,t,et,arguments)},findLastIndex(e,t){return zt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return zt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Gr(this,"includes",e)},indexOf(...e){return Gr(this,"indexOf",e)},join(e){return Os(this).join(e)},lastIndexOf(...e){return Gr(this,"lastIndexOf",e)},map(e,t){return zt(this,"map",e,t,void 0,arguments)},pop(){return Qs(this,"pop")},push(...e){return Qs(this,"push",e)},reduce(e,...t){return ui(this,"reduce",e,t)},reduceRight(e,...t){return ui(this,"reduceRight",e,t)},shift(){return Qs(this,"shift")},some(e,t){return zt(this,"some",e,t,void 0,arguments)},splice(...e){return Qs(this,"splice",e)},toReversed(){return Os(this).toReversed()},toSorted(e){return Os(this).toSorted(e)},toSpliced(...e){return Os(this).toSpliced(...e)},unshift(...e){return Qs(this,"unshift",e)},values(){return Jr(this,"values",et)}};function Jr(e,t,s){const n=Ir(e),r=n[t]();return n!==e&&!kt(e)&&(r._next=r.next,r.next=()=>{const a=r._next();return a.value&&(a.value=s(a.value)),a}),r}const gf=Array.prototype;function zt(e,t,s,n,r,a){const i=Ir(e),l=i!==e&&!kt(e),c=i[t];if(c!==gf[t]){const d=c.apply(e,a);return l?et(d):d}let f=s;i!==e&&(l?f=function(d,m){return s.call(this,et(d),m,e)}:s.length>2&&(f=function(d,m){return s.call(this,d,m,e)}));const u=c.call(i,f,n);return l&&r?r(u):u}function ui(e,t,s,n){const r=Ir(e);let a=s;return r!==e&&(kt(e)?s.length>3&&(a=function(i,l,c){return s.call(this,i,l,c,e)}):a=function(i,l,c){return s.call(this,i,et(l),c,e)}),r[t](a,...n)}function Gr(e,t,s){const n=Ue(e);st(n,"iterate",bn);const r=n[t](...s);return(r===-1||r===!1)&&Wa(s[0])?(s[0]=Ue(s[0]),n[t](...s)):r}function Qs(e,t,s=[]){es(),ja();const n=Ue(e)[t].apply(e,s);return Ba(),ts(),n}const yf=Oa("__proto__,__v_isRef,__isVue"),Yc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ft));function _f(e){Ft(e)||(e=String(e));const t=Ue(this);return st(t,"has",e),t.hasOwnProperty(e)}class Qc{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,a=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return a;if(s==="__v_raw")return n===(r?a?Tf:nu:a?su:tu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const i=Ce(t);if(!r){let c;if(i&&(c=vf[s]))return c;if(s==="hasOwnProperty")return _f}const l=Reflect.get(t,s,rt(t)?t:n);return(Ft(s)?Yc.has(s):yf(s))||(r||st(t,"get",s),a)?l:rt(l)?i&&Da(s)?l:l.value:Ve(l)?r?ou(l):ss(l):l}}class eu extends Qc{constructor(t=!1){super(!1,t)}set(t,s,n,r){let a=t[s];if(!this._isShallow){const c=ps(a);if(!kt(n)&&!ps(n)&&(a=Ue(a),n=Ue(n)),!Ce(t)&&rt(a)&&!rt(n))return c?!1:(a.value=n,!0)}const i=Ce(t)&&Da(s)?Number(s)<t.length:qe(t,s),l=Reflect.set(t,s,n,rt(t)?t:r);return t===Ue(r)&&(i?fs(n,a)&&Zt(t,"set",s,n):Zt(t,"add",s,n)),l}deleteProperty(t,s){const n=qe(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&Zt(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!Ft(s)||!Yc.has(s))&&st(t,"has",s),n}ownKeys(t){return st(t,"iterate",Ce(t)?"length":Es),Reflect.ownKeys(t)}}class bf extends Qc{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const wf=new eu,kf=new bf,Sf=new eu(!0);const ha=e=>e,qn=e=>Reflect.getPrototypeOf(e);function Cf(e,t,s){return function(...n){const r=this.__v_raw,a=Ue(r),i=Ms(a),l=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,f=r[e](...n),u=s?ha:t?cr:et;return!t&&st(a,"iterate",c?pa:Es),{next(){const{value:d,done:m}=f.next();return m?{value:d,done:m}:{value:l?[u(d[0]),u(d[1])]:u(d),done:m}},[Symbol.iterator](){return this}}}}function Hn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function If(e,t){const s={get(r){const a=this.__v_raw,i=Ue(a),l=Ue(r);e||(fs(r,l)&&st(i,"get",r),st(i,"get",l));const{has:c}=qn(i),f=t?ha:e?cr:et;if(c.call(i,r))return f(a.get(r));if(c.call(i,l))return f(a.get(l));a!==i&&a.get(r)},get size(){const r=this.__v_raw;return!e&&st(Ue(r),"iterate",Es),Reflect.get(r,"size",r)},has(r){const a=this.__v_raw,i=Ue(a),l=Ue(r);return e||(fs(r,l)&&st(i,"has",r),st(i,"has",l)),r===l?a.has(r):a.has(r)||a.has(l)},forEach(r,a){const i=this,l=i.__v_raw,c=Ue(l),f=t?ha:e?cr:et;return!e&&st(c,"iterate",Es),l.forEach((u,d)=>r.call(a,f(u),f(d),i))}};return Ye(s,e?{add:Hn("add"),set:Hn("set"),delete:Hn("delete"),clear:Hn("clear")}:{add(r){!t&&!kt(r)&&!ps(r)&&(r=Ue(r));const a=Ue(this);return qn(a).has.call(a,r)||(a.add(r),Zt(a,"add",r,r)),this},set(r,a){!t&&!kt(a)&&!ps(a)&&(a=Ue(a));const i=Ue(this),{has:l,get:c}=qn(i);let f=l.call(i,r);f||(r=Ue(r),f=l.call(i,r));const u=c.call(i,r);return i.set(r,a),f?fs(a,u)&&Zt(i,"set",r,a):Zt(i,"add",r,a),this},delete(r){const a=Ue(this),{has:i,get:l}=qn(a);let c=i.call(a,r);c||(r=Ue(r),c=i.call(a,r)),l&&l.call(a,r);const f=a.delete(r);return c&&Zt(a,"delete",r,void 0),f},clear(){const r=Ue(this),a=r.size!==0,i=r.clear();return a&&Zt(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Cf(r,e,t)}),s}function Fa(e,t){const s=If(e,t);return(n,r,a)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(qe(s,r)&&r in n?s:n,r,a)}const $f={get:Fa(!1,!1)},Ef={get:Fa(!1,!0)},xf={get:Fa(!0,!1)};const tu=new WeakMap,su=new WeakMap,nu=new WeakMap,Tf=new WeakMap;function Af(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Rf(e){return e.__v_skip||!Object.isExtensible(e)?0:Af(ef(e))}function ss(e){return ps(e)?e:Va(e,!1,wf,$f,tu)}function ru(e){return Va(e,!1,Sf,Ef,su)}function ou(e){return Va(e,!0,kf,xf,nu)}function Va(e,t,s,n,r){if(!Ve(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=Rf(e);if(a===0)return e;const i=r.get(e);if(i)return i;const l=new Proxy(e,a===2?n:s);return r.set(e,l),l}function Us(e){return ps(e)?Us(e.__v_raw):!!(e&&e.__v_isReactive)}function ps(e){return!!(e&&e.__v_isReadonly)}function kt(e){return!!(e&&e.__v_isShallow)}function Wa(e){return e?!!e.__v_raw:!1}function Ue(e){const t=e&&e.__v_raw;return t?Ue(t):e}function Pf(e){return!qe(e,"__v_skip")&&Object.isExtensible(e)&&ua(e,"__v_skip",!0),e}const et=e=>Ve(e)?ss(e):e,cr=e=>Ve(e)?ou(e):e;function rt(e){return e?e.__v_isRef===!0:!1}function H(e){return au(e,!1)}function Of(e){return au(e,!0)}function au(e,t){return rt(e)?e:new Nf(e,t)}class Nf{constructor(t,s){this.dep=new Ha,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Ue(t),this._value=s?t:et(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||kt(t)||ps(t);t=n?t:Ue(t),fs(t,s)&&(this._rawValue=t,this._value=n?t:et(t),this.dep.trigger())}}function Ne(e){return rt(e)?e.value:e}const Lf={get:(e,t,s)=>t==="__v_raw"?e:Ne(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return rt(r)&&!rt(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function iu(e){return Us(e)?e:new Proxy(e,Lf)}class Df{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Ha(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_n-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&We!==this)return zc(this,!0),!0}get value(){const t=this.dep.track();return Kc(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Mf(e,t,s=!1){let n,r;return Ae(e)?n=e:(n=e.get,r=e.set),new Df(n,r,s)}const Fn={},ur=new WeakMap;let Cs;function Uf(e,t=!1,s=Cs){if(s){let n=ur.get(s);n||ur.set(s,n=[]),n.push(e)}}function jf(e,t,s=Fe){const{immediate:n,deep:r,once:a,scheduler:i,augmentJob:l,call:c}=s,f=S=>r?S:kt(S)||r===!1||r===0?Xt(S,1):Xt(S);let u,d,m,y,P=!1,R=!1;if(rt(e)?(d=()=>e.value,P=kt(e)):Us(e)?(d=()=>f(e),P=!0):Ce(e)?(R=!0,P=e.some(S=>Us(S)||kt(S)),d=()=>e.map(S=>{if(rt(S))return S.value;if(Us(S))return f(S);if(Ae(S))return c?c(S,2):S()})):Ae(e)?t?d=c?()=>c(e,2):e:d=()=>{if(m){es();try{m()}finally{ts()}}const S=Cs;Cs=u;try{return c?c(e,3,[y]):e(y)}finally{Cs=S}}:d=qt,t&&r){const S=d,A=r===!0?1/0:r;d=()=>Xt(S(),A)}const N=pf(),M=()=>{u.stop(),N&&N.active&&La(N.effects,u)};if(a&&t){const S=t;t=(...A)=>{S(...A),M()}}let E=R?new Array(e.length).fill(Fn):Fn;const O=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(t){const A=u.run();if(r||P||(R?A.some((k,w)=>fs(k,E[w])):fs(A,E))){m&&m();const k=Cs;Cs=u;try{const w=[A,E===Fn?void 0:R&&E[0]===Fn?[]:E,y];E=A,c?c(t,3,w):t(...w)}finally{Cs=k}}}else u.run()};return l&&l(O),u=new Vc(d),u.scheduler=i?()=>i(O,!1):O,y=S=>Uf(S,!1,u),m=u.onStop=()=>{const S=ur.get(u);if(S){if(c)c(S,4);else for(const A of S)A();ur.delete(u)}},t?n?O(!0):E=u.run():i?i(O.bind(null,!0),!0):u.run(),M.pause=u.pause.bind(u),M.resume=u.resume.bind(u),M.stop=M,M}function Xt(e,t=1/0,s){if(t<=0||!Ve(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,rt(e))Xt(e.value,t,s);else if(Ce(e))for(let n=0;n<e.length;n++)Xt(e[n],t,s);else if(zs(e)||Ms(e))e.forEach(n=>{Xt(n,t,s)});else if(Bc(e)){for(const n in e)Xt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Xt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Pn(e,t,s,n){try{return n?e(...n):e()}catch(r){$r(r,t,s)}}function Rt(e,t,s,n){if(Ae(e)){const r=Pn(e,t,s,n);return r&&Uc(r)&&r.catch(a=>{$r(a,t,s)}),r}if(Ce(e)){const r=[];for(let a=0;a<e.length;a++)r.push(Rt(e[a],t,s,n));return r}}function $r(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||Fe;if(t){let l=t.parent;const c=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const u=l.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,c,f)===!1)return}l=l.parent}if(a){es(),Pn(a,null,10,[e,c,f]),ts();return}}Bf(e,s,r,n,i)}function Bf(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const at=[];let Ut=-1;const js=[];let as=null,Ns=0;const lu=Promise.resolve();let dr=null;function Ht(e){const t=dr||lu;return e?t.then(this?e.bind(this):e):t}function qf(e){let t=Ut+1,s=at.length;for(;t<s;){const n=t+s>>>1,r=at[n],a=wn(r);a<e||a===e&&r.flags&2?t=n+1:s=n}return t}function za(e){if(!(e.flags&1)){const t=wn(e),s=at[at.length-1];!s||!(e.flags&2)&&t>=wn(s)?at.push(e):at.splice(qf(t),0,e),e.flags|=1,cu()}}function cu(){dr||(dr=lu.then(du))}function Hf(e){Ce(e)?js.push(...e):as&&e.id===-1?as.splice(Ns+1,0,e):e.flags&1||(js.push(e),e.flags|=1),cu()}function di(e,t,s=Ut+1){for(;s<at.length;s++){const n=at[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;at.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function uu(e){if(js.length){const t=[...new Set(js)].sort((s,n)=>wn(s)-wn(n));if(js.length=0,as){as.push(...t);return}for(as=t,Ns=0;Ns<as.length;Ns++){const s=as[Ns];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}as=null,Ns=0}}const wn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function du(e){try{for(Ut=0;Ut<at.length;Ut++){const t=at[Ut];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Pn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ut<at.length;Ut++){const t=at[Ut];t&&(t.flags&=-2)}Ut=-1,at.length=0,uu(),dr=null,(at.length||js.length)&&du()}}let dt=null,fu=null;function fr(e){const t=dt;return dt=e,fu=e&&e.type.__scopeId||null,t}function Je(e,t=dt,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&ki(-1);const a=fr(t);let i;try{i=e(...r)}finally{fr(a),n._d&&ki(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}function _e(e,t){if(dt===null)return e;const s=Rr(dt),n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[a,i,l,c=Fe]=t[r];a&&(Ae(a)&&(a={mounted:a,updated:a}),a.deep&&Xt(i),n.push({dir:a,instance:s,value:i,oldValue:void 0,arg:l,modifiers:c}))}return e}function bs(e,t,s,n){const r=e.dirs,a=t&&t.dirs;for(let i=0;i<r.length;i++){const l=r[i];a&&(l.oldValue=a[i].value);let c=l.dir[n];c&&(es(),Rt(c,s,8,[e.el,l,e,t]),ts())}}const Ff=Symbol("_vte"),pu=e=>e.__isTeleport,is=Symbol("_leaveCb"),Vn=Symbol("_enterCb");function Vf(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ze(()=>{e.isMounted=!0}),ku(()=>{e.isUnmounting=!0}),e}const wt=[Function,Array],hu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:wt,onEnter:wt,onAfterEnter:wt,onEnterCancelled:wt,onBeforeLeave:wt,onLeave:wt,onAfterLeave:wt,onLeaveCancelled:wt,onBeforeAppear:wt,onAppear:wt,onAfterAppear:wt,onAppearCancelled:wt},mu=e=>{const t=e.subTree;return t.component?mu(t.component):t},Wf={name:"BaseTransition",props:hu,setup(e,{slots:t}){const s=qp(),n=Vf();return()=>{const r=t.default&&yu(t.default(),!0);if(!r||!r.length)return;const a=vu(r),i=Ue(e),{mode:l}=i;if(n.isLeaving)return Kr(a);const c=fi(a);if(!c)return Kr(a);let f=ma(c,i,n,s,d=>f=d);c.type!==lt&&kn(c,f);let u=s.subTree&&fi(s.subTree);if(u&&u.type!==lt&&!Is(c,u)&&mu(s).type!==lt){let d=ma(u,i,n,s);if(kn(u,d),l==="out-in"&&c.type!==lt)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete d.afterLeave,u=void 0},Kr(a);l==="in-out"&&c.type!==lt?d.delayLeave=(m,y,P)=>{const R=gu(n,u);R[String(u.key)]=u,m[is]=()=>{y(),m[is]=void 0,delete f.delayedLeave,u=void 0},f.delayedLeave=()=>{P(),delete f.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return a}}};function vu(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==lt){t=s;break}}return t}const zf=Wf;function gu(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function ma(e,t,s,n,r){const{appear:a,mode:i,persisted:l=!1,onBeforeEnter:c,onEnter:f,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:m,onLeave:y,onAfterLeave:P,onLeaveCancelled:R,onBeforeAppear:N,onAppear:M,onAfterAppear:E,onAppearCancelled:O}=t,S=String(e.key),A=gu(s,e),k=(z,X)=>{z&&Rt(z,n,9,X)},w=(z,X)=>{const J=X[1];k(z,X),Ce(z)?z.every(x=>x.length<=1)&&J():z.length<=1&&J()},C={mode:i,persisted:l,beforeEnter(z){let X=c;if(!s.isMounted)if(a)X=N||c;else return;z[is]&&z[is](!0);const J=A[S];J&&Is(e,J)&&J.el[is]&&J.el[is](),k(X,[z])},enter(z){let X=f,J=u,x=d;if(!s.isMounted)if(a)X=M||f,J=E||u,x=O||d;else return;let q=!1;const se=z[Vn]=ie=>{q||(q=!0,ie?k(x,[z]):k(J,[z]),C.delayedLeave&&C.delayedLeave(),z[Vn]=void 0)};X?w(X,[z,se]):se()},leave(z,X){const J=String(e.key);if(z[Vn]&&z[Vn](!0),s.isUnmounting)return X();k(m,[z]);let x=!1;const q=z[is]=se=>{x||(x=!0,X(),se?k(R,[z]):k(P,[z]),z[is]=void 0,A[J]===e&&delete A[J])};A[J]=e,y?w(y,[z,q]):q()},clone(z){const X=ma(z,t,s,n,r);return r&&r(X),X}};return C}function Kr(e){if(Er(e))return e=hs(e),e.children=null,e}function fi(e){if(!Er(e))return pu(e.type)&&e.children?vu(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&Ae(s.default))return s.default()}}function kn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,kn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function yu(e,t=!1,s){let n=[],r=0;for(let a=0;a<e.length;a++){let i=e[a];const l=s==null?i.key:String(s)+String(i.key!=null?i.key:a);i.type===Ee?(i.patchFlag&128&&r++,n=n.concat(yu(i.children,t,l))):(t||i.type!==lt)&&n.push(l!=null?hs(i,{key:l}):i)}if(r>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function _u(e,t){return Ae(e)?Ye({name:e.name},t,{setup:e}):e}function bu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function pn(e,t,s,n,r=!1){if(Ce(e)){e.forEach((P,R)=>pn(P,t&&(Ce(t)?t[R]:t),s,n,r));return}if(hn(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&pn(e,t,s,n.component.subTree);return}const a=n.shapeFlag&4?Rr(n.component):n.el,i=r?null:a,{i:l,r:c}=e,f=t&&t.r,u=l.refs===Fe?l.refs={}:l.refs,d=l.setupState,m=Ue(d),y=d===Fe?()=>!1:P=>qe(m,P);if(f!=null&&f!==c&&(Ke(f)?(u[f]=null,y(f)&&(d[f]=null)):rt(f)&&(f.value=null)),Ae(c))Pn(c,l,12,[i,u]);else{const P=Ke(c),R=rt(c);if(P||R){const N=()=>{if(e.f){const M=P?y(c)?d[c]:u[c]:c.value;r?Ce(M)&&La(M,a):Ce(M)?M.includes(a)||M.push(a):P?(u[c]=[a],y(c)&&(d[c]=u[c])):(c.value=[a],e.k&&(u[e.k]=c.value))}else P?(u[c]=i,y(c)&&(d[c]=i)):R&&(c.value=i,e.k&&(u[e.k]=i))};i?(N.id=-1,mt(N,s)):N()}}}Cr().requestIdleCallback;Cr().cancelIdleCallback;const hn=e=>!!e.type.__asyncLoader,Er=e=>e.type.__isKeepAlive;function Jf(e,t){wu(e,"a",t)}function Gf(e,t){wu(e,"da",t)}function wu(e,t,s=tt){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(xr(t,n,s),s){let r=s.parent;for(;r&&r.parent;)Er(r.parent.vnode)&&Kf(n,t,s,r),r=r.parent}}function Kf(e,t,s,n){const r=xr(t,e,n,!0);Js(()=>{La(n[t],r)},s)}function xr(e,t,s=tt,n=!1){if(s){const r=s[e]||(s[e]=[]),a=t.__weh||(t.__weh=(...i)=>{es();const l=On(s),c=Rt(t,s,e,i);return l(),ts(),c});return n?r.unshift(a):r.push(a),a}}const ns=e=>(t,s=tt)=>{(!Cn||e==="sp")&&xr(e,(...n)=>t(...n),s)},Zf=ns("bm"),Ze=ns("m"),Xf=ns("bu"),Yf=ns("u"),ku=ns("bum"),Js=ns("um"),Qf=ns("sp"),ep=ns("rtg"),tp=ns("rtc");function sp(e,t=tt){xr("ec",e,t)}const np="components";function vt(e,t){return op(np,e,!0,t)||e}const rp=Symbol.for("v-ndc");function op(e,t,s=!0,n=!1){const r=dt||tt;if(r){const a=r.type;{const l=zp(a,!1);if(l&&(l===t||l===Ct(t)||l===Sr(Ct(t))))return a}const i=pi(r[e]||a[e],t)||pi(r.appContext[e],t);return!i&&n?a:i}}function pi(e,t){return e&&(e[t]||e[Ct(t)]||e[Sr(Ct(t))])}function De(e,t,s,n){let r;const a=s,i=Ce(e);if(i||Ke(e)){const l=i&&Us(e);let c=!1,f=!1;l&&(c=!kt(e),f=ps(e),e=Ir(e)),r=new Array(e.length);for(let u=0,d=e.length;u<d;u++)r[u]=t(c?f?cr(et(e[u])):et(e[u]):e[u],u,void 0,a)}else if(typeof e=="number"){r=new Array(e);for(let l=0;l<e;l++)r[l]=t(l+1,l,void 0,a)}else if(Ve(e))if(e[Symbol.iterator])r=Array.from(e,(l,c)=>t(l,c,void 0,a));else{const l=Object.keys(e);r=new Array(l.length);for(let c=0,f=l.length;c<f;c++){const u=l[c];r[c]=t(e[u],u,c,a)}}else r=[];return r}const va=e=>e?Hu(e)?Rr(e):va(e.parent):null,mn=Ye(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>va(e.parent),$root:e=>va(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Cu(e),$forceUpdate:e=>e.f||(e.f=()=>{za(e.update)}),$nextTick:e=>e.n||(e.n=Ht.bind(e.proxy)),$watch:e=>$p.bind(e)}),Zr=(e,t)=>e!==Fe&&!e.__isScriptSetup&&qe(e,t),ap={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:a,accessCache:i,type:l,appContext:c}=e;let f;if(t[0]!=="$"){const y=i[t];if(y!==void 0)switch(y){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return a[t]}else{if(Zr(n,t))return i[t]=1,n[t];if(r!==Fe&&qe(r,t))return i[t]=2,r[t];if((f=e.propsOptions[0])&&qe(f,t))return i[t]=3,a[t];if(s!==Fe&&qe(s,t))return i[t]=4,s[t];ga&&(i[t]=0)}}const u=mn[t];let d,m;if(u)return t==="$attrs"&&st(e.attrs,"get",""),u(e);if((d=l.__cssModules)&&(d=d[t]))return d;if(s!==Fe&&qe(s,t))return i[t]=4,s[t];if(m=c.config.globalProperties,qe(m,t))return m[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:a}=e;return Zr(r,t)?(r[t]=s,!0):n!==Fe&&qe(n,t)?(n[t]=s,!0):qe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,propsOptions:a}},i){let l;return!!s[i]||e!==Fe&&qe(e,i)||Zr(t,i)||(l=a[0])&&qe(l,i)||qe(n,i)||qe(mn,i)||qe(r.config.globalProperties,i)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:qe(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function hi(e){return Ce(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let ga=!0;function ip(e){const t=Cu(e),s=e.proxy,n=e.ctx;ga=!1,t.beforeCreate&&mi(t.beforeCreate,e,"bc");const{data:r,computed:a,methods:i,watch:l,provide:c,inject:f,created:u,beforeMount:d,mounted:m,beforeUpdate:y,updated:P,activated:R,deactivated:N,beforeDestroy:M,beforeUnmount:E,destroyed:O,unmounted:S,render:A,renderTracked:k,renderTriggered:w,errorCaptured:C,serverPrefetch:z,expose:X,inheritAttrs:J,components:x,directives:q,filters:se}=t;if(f&&lp(f,n,null),i)for(const te in i){const L=i[te];Ae(L)&&(n[te]=L.bind(s))}if(r){const te=r.call(s,s);Ve(te)&&(e.data=ss(te))}if(ga=!0,a)for(const te in a){const L=a[te],v=Ae(L)?L.bind(s,s):Ae(L.get)?L.get.bind(s,s):qt,g=!Ae(L)&&Ae(L.set)?L.set.bind(s):qt,j=ke({get:v,set:g});Object.defineProperty(n,te,{enumerable:!0,configurable:!0,get:()=>j.value,set:D=>j.value=D})}if(l)for(const te in l)Su(l[te],n,s,te);if(c){const te=Ae(c)?c.call(s):c;Reflect.ownKeys(te).forEach(L=>{tr(L,te[L])})}u&&mi(u,e,"c");function he(te,L){Ce(L)?L.forEach(v=>te(v.bind(s))):L&&te(L.bind(s))}if(he(Zf,d),he(Ze,m),he(Xf,y),he(Yf,P),he(Jf,R),he(Gf,N),he(sp,C),he(tp,k),he(ep,w),he(ku,E),he(Js,S),he(Qf,z),Ce(X))if(X.length){const te=e.exposed||(e.exposed={});X.forEach(L=>{Object.defineProperty(te,L,{get:()=>s[L],set:v=>s[L]=v})})}else e.exposed||(e.exposed={});A&&e.render===qt&&(e.render=A),J!=null&&(e.inheritAttrs=J),x&&(e.components=x),q&&(e.directives=q),z&&bu(e)}function lp(e,t,s=qt){Ce(e)&&(e=ya(e));for(const n in e){const r=e[n];let a;Ve(r)?"default"in r?a=At(r.from||n,r.default,!0):a=At(r.from||n):a=At(r),rt(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:i=>a.value=i}):t[n]=a}}function mi(e,t,s){Rt(Ce(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Su(e,t,s,n){let r=n.includes(".")?Mu(s,n):()=>s[n];if(Ke(e)){const a=t[e];Ae(a)&&Ge(r,a)}else if(Ae(e))Ge(r,e.bind(s));else if(Ve(e))if(Ce(e))e.forEach(a=>Su(a,t,s,n));else{const a=Ae(e.handler)?e.handler.bind(s):t[e.handler];Ae(a)&&Ge(r,a,e)}}function Cu(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:a,config:{optionMergeStrategies:i}}=e.appContext,l=a.get(t);let c;return l?c=l:!r.length&&!s&&!n?c=t:(c={},r.length&&r.forEach(f=>pr(c,f,i,!0)),pr(c,t,i)),Ve(t)&&a.set(t,c),c}function pr(e,t,s,n=!1){const{mixins:r,extends:a}=t;a&&pr(e,a,s,!0),r&&r.forEach(i=>pr(e,i,s,!0));for(const i in t)if(!(n&&i==="expose")){const l=cp[i]||s&&s[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const cp={data:vi,props:gi,emits:gi,methods:an,computed:an,beforeCreate:ot,created:ot,beforeMount:ot,mounted:ot,beforeUpdate:ot,updated:ot,beforeDestroy:ot,beforeUnmount:ot,destroyed:ot,unmounted:ot,activated:ot,deactivated:ot,errorCaptured:ot,serverPrefetch:ot,components:an,directives:an,watch:dp,provide:vi,inject:up};function vi(e,t){return t?e?function(){return Ye(Ae(e)?e.call(this,this):e,Ae(t)?t.call(this,this):t)}:t:e}function up(e,t){return an(ya(e),ya(t))}function ya(e){if(Ce(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ot(e,t){return e?[...new Set([].concat(e,t))]:t}function an(e,t){return e?Ye(Object.create(null),e,t):t}function gi(e,t){return e?Ce(e)&&Ce(t)?[...new Set([...e,...t])]:Ye(Object.create(null),hi(e),hi(t??{})):t}function dp(e,t){if(!e)return t;if(!t)return e;const s=Ye(Object.create(null),e);for(const n in t)s[n]=ot(e[n],t[n]);return s}function Iu(){return{app:null,config:{isNativeTag:Yd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fp=0;function pp(e,t){return function(n,r=null){Ae(n)||(n=Ye({},n)),r!=null&&!Ve(r)&&(r=null);const a=Iu(),i=new WeakSet,l=[];let c=!1;const f=a.app={_uid:fp++,_component:n,_props:r,_container:null,_context:a,_instance:null,version:Gp,get config(){return a.config},set config(u){},use(u,...d){return i.has(u)||(u&&Ae(u.install)?(i.add(u),u.install(f,...d)):Ae(u)&&(i.add(u),u(f,...d))),f},mixin(u){return a.mixins.includes(u)||a.mixins.push(u),f},component(u,d){return d?(a.components[u]=d,f):a.components[u]},directive(u,d){return d?(a.directives[u]=d,f):a.directives[u]},mount(u,d,m){if(!c){const y=f._ceVNode||we(n,r);return y.appContext=a,m===!0?m="svg":m===!1&&(m=void 0),e(y,u,m),c=!0,f._container=u,u.__vue_app__=f,Rr(y.component)}},onUnmount(u){l.push(u)},unmount(){c&&(Rt(l,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(u,d){return a.provides[u]=d,f},runWithContext(u){const d=Bs;Bs=f;try{return u()}finally{Bs=d}}};return f}}let Bs=null;function tr(e,t){if(tt){let s=tt.provides;const n=tt.parent&&tt.parent.provides;n===s&&(s=tt.provides=Object.create(n)),s[e]=t}}function At(e,t,s=!1){const n=tt||dt;if(n||Bs){let r=Bs?Bs._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&Ae(t)?t.call(n&&n.proxy):t}}const $u={},Eu=()=>Object.create($u),xu=e=>Object.getPrototypeOf(e)===$u;function hp(e,t,s,n=!1){const r={},a=Eu();e.propsDefaults=Object.create(null),Tu(e,t,r,a);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);s?e.props=n?r:ru(r):e.type.props?e.props=r:e.props=a,e.attrs=a}function mp(e,t,s,n){const{props:r,attrs:a,vnode:{patchFlag:i}}=e,l=Ue(r),[c]=e.propsOptions;let f=!1;if((n||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let m=u[d];if(Tr(e.emitsOptions,m))continue;const y=t[m];if(c)if(qe(a,m))y!==a[m]&&(a[m]=y,f=!0);else{const P=Ct(m);r[P]=_a(c,l,P,y,e,!1)}else y!==a[m]&&(a[m]=y,f=!0)}}}else{Tu(e,t,r,a)&&(f=!0);let u;for(const d in l)(!t||!qe(t,d)&&((u=ys(d))===d||!qe(t,u)))&&(c?s&&(s[d]!==void 0||s[u]!==void 0)&&(r[d]=_a(c,l,d,void 0,e,!0)):delete r[d]);if(a!==l)for(const d in a)(!t||!qe(t,d))&&(delete a[d],f=!0)}f&&Zt(e.attrs,"set","")}function Tu(e,t,s,n){const[r,a]=e.propsOptions;let i=!1,l;if(t)for(let c in t){if(un(c))continue;const f=t[c];let u;r&&qe(r,u=Ct(c))?!a||!a.includes(u)?s[u]=f:(l||(l={}))[u]=f:Tr(e.emitsOptions,c)||(!(c in n)||f!==n[c])&&(n[c]=f,i=!0)}if(a){const c=Ue(s),f=l||Fe;for(let u=0;u<a.length;u++){const d=a[u];s[d]=_a(r,c,d,f[d],e,!qe(f,d))}}return i}function _a(e,t,s,n,r,a){const i=e[s];if(i!=null){const l=qe(i,"default");if(l&&n===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&Ae(c)){const{propsDefaults:f}=r;if(s in f)n=f[s];else{const u=On(r);n=f[s]=c.call(null,t),u()}}else n=c;r.ce&&r.ce._setProp(s,n)}i[0]&&(a&&!l?n=!1:i[1]&&(n===""||n===ys(s))&&(n=!0))}return n}const vp=new WeakMap;function Au(e,t,s=!1){const n=s?vp:t.propsCache,r=n.get(e);if(r)return r;const a=e.props,i={},l=[];let c=!1;if(!Ae(e)){const u=d=>{c=!0;const[m,y]=Au(d,t,!0);Ye(i,m),y&&l.push(...y)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!a&&!c)return Ve(e)&&n.set(e,Ds),Ds;if(Ce(a))for(let u=0;u<a.length;u++){const d=Ct(a[u]);yi(d)&&(i[d]=Fe)}else if(a)for(const u in a){const d=Ct(u);if(yi(d)){const m=a[u],y=i[d]=Ce(m)||Ae(m)?{type:m}:Ye({},m),P=y.type;let R=!1,N=!0;if(Ce(P))for(let M=0;M<P.length;++M){const E=P[M],O=Ae(E)&&E.name;if(O==="Boolean"){R=!0;break}else O==="String"&&(N=!1)}else R=Ae(P)&&P.name==="Boolean";y[0]=R,y[1]=N,(R||qe(y,"default"))&&l.push(d)}}const f=[i,l];return Ve(e)&&n.set(e,f),f}function yi(e){return e[0]!=="$"&&!un(e)}const Ja=e=>e[0]==="_"||e==="$stable",Ga=e=>Ce(e)?e.map(jt):[jt(e)],gp=(e,t,s)=>{if(t._n)return t;const n=Je((...r)=>Ga(t(...r)),s);return n._c=!1,n},Ru=(e,t,s)=>{const n=e._ctx;for(const r in e){if(Ja(r))continue;const a=e[r];if(Ae(a))t[r]=gp(r,a,n);else if(a!=null){const i=Ga(a);t[r]=()=>i}}},Pu=(e,t)=>{const s=Ga(t);e.slots.default=()=>s},Ou=(e,t,s)=>{for(const n in t)(s||!Ja(n))&&(e[n]=t[n])},yp=(e,t,s)=>{const n=e.slots=Eu();if(e.vnode.shapeFlag&32){const r=t.__;r&&ua(n,"__",r,!0);const a=t._;a?(Ou(n,t,s),s&&ua(n,"_",a,!0)):Ru(t,n)}else t&&Pu(e,t)},_p=(e,t,s)=>{const{vnode:n,slots:r}=e;let a=!0,i=Fe;if(n.shapeFlag&32){const l=t._;l?s&&l===1?a=!1:Ou(r,t,s):(a=!t.$stable,Ru(t,r)),i=t}else t&&(Pu(e,t),i={default:1});if(a)for(const l in r)!Ja(l)&&i[l]==null&&delete r[l]},mt=Op;function bp(e){return wp(e)}function wp(e,t){const s=Cr();s.__VUE__=!0;const{insert:n,remove:r,patchProp:a,createElement:i,createText:l,createComment:c,setText:f,setElementText:u,parentNode:d,nextSibling:m,setScopeId:y=qt,insertStaticContent:P}=e,R=(p,h,I,U=null,Z=null,K=null,me=void 0,ne=null,ue=!!h.dynamicChildren)=>{if(p===h)return;p&&!Is(p,h)&&(U=V(p),D(p,Z,K,!0),p=null),h.patchFlag===-2&&(ue=!1,h.dynamicChildren=null);const{type:le,ref:ye,shapeFlag:ve}=h;switch(le){case Ar:N(p,h,I,U);break;case lt:M(p,h,I,U);break;case sr:p==null&&E(h,I,U,me);break;case Ee:x(p,h,I,U,Z,K,me,ne,ue);break;default:ve&1?A(p,h,I,U,Z,K,me,ne,ue):ve&6?q(p,h,I,U,Z,K,me,ne,ue):(ve&64||ve&128)&&le.process(p,h,I,U,Z,K,me,ne,ue,ae)}ye!=null&&Z?pn(ye,p&&p.ref,K,h||p,!h):ye==null&&p&&p.ref!=null&&pn(p.ref,null,K,p,!0)},N=(p,h,I,U)=>{if(p==null)n(h.el=l(h.children),I,U);else{const Z=h.el=p.el;h.children!==p.children&&f(Z,h.children)}},M=(p,h,I,U)=>{p==null?n(h.el=c(h.children||""),I,U):h.el=p.el},E=(p,h,I,U)=>{[p.el,p.anchor]=P(p.children,h,I,U,p.el,p.anchor)},O=({el:p,anchor:h},I,U)=>{let Z;for(;p&&p!==h;)Z=m(p),n(p,I,U),p=Z;n(h,I,U)},S=({el:p,anchor:h})=>{let I;for(;p&&p!==h;)I=m(p),r(p),p=I;r(h)},A=(p,h,I,U,Z,K,me,ne,ue)=>{h.type==="svg"?me="svg":h.type==="math"&&(me="mathml"),p==null?k(h,I,U,Z,K,me,ne,ue):z(p,h,Z,K,me,ne,ue)},k=(p,h,I,U,Z,K,me,ne)=>{let ue,le;const{props:ye,shapeFlag:ve,transition:W,dirs:B}=p;if(ue=p.el=i(p.type,K,ye&&ye.is,ye),ve&8?u(ue,p.children):ve&16&&C(p.children,ue,null,U,Z,Xr(p,K),me,ne),B&&bs(p,null,U,"created"),w(ue,p,p.scopeId,me,U),ye){for(const xe in ye)xe!=="value"&&!un(xe)&&a(ue,xe,null,ye[xe],K,U);"value"in ye&&a(ue,"value",null,ye.value,K),(le=ye.onVnodeBeforeMount)&&Dt(le,U,p)}B&&bs(p,null,U,"beforeMount");const fe=kp(Z,W);fe&&W.beforeEnter(ue),n(ue,h,I),((le=ye&&ye.onVnodeMounted)||fe||B)&&mt(()=>{le&&Dt(le,U,p),fe&&W.enter(ue),B&&bs(p,null,U,"mounted")},Z)},w=(p,h,I,U,Z)=>{if(I&&y(p,I),U)for(let K=0;K<U.length;K++)y(p,U[K]);if(Z){let K=Z.subTree;if(h===K||ju(K.type)&&(K.ssContent===h||K.ssFallback===h)){const me=Z.vnode;w(p,me,me.scopeId,me.slotScopeIds,Z.parent)}}},C=(p,h,I,U,Z,K,me,ne,ue=0)=>{for(let le=ue;le<p.length;le++){const ye=p[le]=ne?ls(p[le]):jt(p[le]);R(null,ye,h,I,U,Z,K,me,ne)}},z=(p,h,I,U,Z,K,me)=>{const ne=h.el=p.el;let{patchFlag:ue,dynamicChildren:le,dirs:ye}=h;ue|=p.patchFlag&16;const ve=p.props||Fe,W=h.props||Fe;let B;if(I&&ws(I,!1),(B=W.onVnodeBeforeUpdate)&&Dt(B,I,h,p),ye&&bs(h,p,I,"beforeUpdate"),I&&ws(I,!0),(ve.innerHTML&&W.innerHTML==null||ve.textContent&&W.textContent==null)&&u(ne,""),le?X(p.dynamicChildren,le,ne,I,U,Xr(h,Z),K):me||L(p,h,ne,null,I,U,Xr(h,Z),K,!1),ue>0){if(ue&16)J(ne,ve,W,I,Z);else if(ue&2&&ve.class!==W.class&&a(ne,"class",null,W.class,Z),ue&4&&a(ne,"style",ve.style,W.style,Z),ue&8){const fe=h.dynamicProps;for(let xe=0;xe<fe.length;xe++){const be=fe[xe],Me=ve[be],Oe=W[be];(Oe!==Me||be==="value")&&a(ne,be,Me,Oe,Z,I)}}ue&1&&p.children!==h.children&&u(ne,h.children)}else!me&&le==null&&J(ne,ve,W,I,Z);((B=W.onVnodeUpdated)||ye)&&mt(()=>{B&&Dt(B,I,h,p),ye&&bs(h,p,I,"updated")},U)},X=(p,h,I,U,Z,K,me)=>{for(let ne=0;ne<h.length;ne++){const ue=p[ne],le=h[ne],ye=ue.el&&(ue.type===Ee||!Is(ue,le)||ue.shapeFlag&198)?d(ue.el):I;R(ue,le,ye,null,U,Z,K,me,!0)}},J=(p,h,I,U,Z)=>{if(h!==I){if(h!==Fe)for(const K in h)!un(K)&&!(K in I)&&a(p,K,h[K],null,Z,U);for(const K in I){if(un(K))continue;const me=I[K],ne=h[K];me!==ne&&K!=="value"&&a(p,K,ne,me,Z,U)}"value"in I&&a(p,"value",h.value,I.value,Z)}},x=(p,h,I,U,Z,K,me,ne,ue)=>{const le=h.el=p?p.el:l(""),ye=h.anchor=p?p.anchor:l("");let{patchFlag:ve,dynamicChildren:W,slotScopeIds:B}=h;B&&(ne=ne?ne.concat(B):B),p==null?(n(le,I,U),n(ye,I,U),C(h.children||[],I,ye,Z,K,me,ne,ue)):ve>0&&ve&64&&W&&p.dynamicChildren?(X(p.dynamicChildren,W,I,Z,K,me,ne),(h.key!=null||Z&&h===Z.subTree)&&Nu(p,h,!0)):L(p,h,I,ye,Z,K,me,ne,ue)},q=(p,h,I,U,Z,K,me,ne,ue)=>{h.slotScopeIds=ne,p==null?h.shapeFlag&512?Z.ctx.activate(h,I,U,me,ue):se(h,I,U,Z,K,me,ue):ie(p,h,ue)},se=(p,h,I,U,Z,K,me)=>{const ne=p.component=Bp(p,U,Z);if(Er(p)&&(ne.ctx.renderer=ae),Hp(ne,!1,me),ne.asyncDep){if(Z&&Z.registerDep(ne,he,me),!p.el){const ue=ne.subTree=we(lt);M(null,ue,h,I)}}else he(ne,p,h,I,Z,K,me)},ie=(p,h,I)=>{const U=h.component=p.component;if(Rp(p,h,I))if(U.asyncDep&&!U.asyncResolved){te(U,h,I);return}else U.next=h,U.update();else h.el=p.el,U.vnode=h},he=(p,h,I,U,Z,K,me)=>{const ne=()=>{if(p.isMounted){let{next:ve,bu:W,u:B,parent:fe,vnode:xe}=p;{const Le=Lu(p);if(Le){ve&&(ve.el=xe.el,te(p,ve,me)),Le.asyncDep.then(()=>{p.isUnmounted||ne()});return}}let be=ve,Me;ws(p,!1),ve?(ve.el=xe.el,te(p,ve,me)):ve=xe,W&&er(W),(Me=ve.props&&ve.props.onVnodeBeforeUpdate)&&Dt(Me,fe,ve,xe),ws(p,!0);const Oe=bi(p),pe=p.subTree;p.subTree=Oe,R(pe,Oe,d(pe.el),V(pe),p,Z,K),ve.el=Oe.el,be===null&&Pp(p,Oe.el),B&&mt(B,Z),(Me=ve.props&&ve.props.onVnodeUpdated)&&mt(()=>Dt(Me,fe,ve,xe),Z)}else{let ve;const{el:W,props:B}=h,{bm:fe,m:xe,parent:be,root:Me,type:Oe}=p,pe=hn(h);ws(p,!1),fe&&er(fe),!pe&&(ve=B&&B.onVnodeBeforeMount)&&Dt(ve,be,h),ws(p,!0);{Me.ce&&Me.ce._def.shadowRoot!==!1&&Me.ce._injectChildStyle(Oe);const Le=p.subTree=bi(p);R(null,Le,I,U,p,Z,K),h.el=Le.el}if(xe&&mt(xe,Z),!pe&&(ve=B&&B.onVnodeMounted)){const Le=h;mt(()=>Dt(ve,be,Le),Z)}(h.shapeFlag&256||be&&hn(be.vnode)&&be.vnode.shapeFlag&256)&&p.a&&mt(p.a,Z),p.isMounted=!0,h=I=U=null}};p.scope.on();const ue=p.effect=new Vc(ne);p.scope.off();const le=p.update=ue.run.bind(ue),ye=p.job=ue.runIfDirty.bind(ue);ye.i=p,ye.id=p.uid,ue.scheduler=()=>za(ye),ws(p,!0),le()},te=(p,h,I)=>{h.component=p;const U=p.vnode.props;p.vnode=h,p.next=null,mp(p,h.props,U,I),_p(p,h.children,I),es(),di(p),ts()},L=(p,h,I,U,Z,K,me,ne,ue=!1)=>{const le=p&&p.children,ye=p?p.shapeFlag:0,ve=h.children,{patchFlag:W,shapeFlag:B}=h;if(W>0){if(W&128){g(le,ve,I,U,Z,K,me,ne,ue);return}else if(W&256){v(le,ve,I,U,Z,K,me,ne,ue);return}}B&8?(ye&16&&de(le,Z,K),ve!==le&&u(I,ve)):ye&16?B&16?g(le,ve,I,U,Z,K,me,ne,ue):de(le,Z,K,!0):(ye&8&&u(I,""),B&16&&C(ve,I,U,Z,K,me,ne,ue))},v=(p,h,I,U,Z,K,me,ne,ue)=>{p=p||Ds,h=h||Ds;const le=p.length,ye=h.length,ve=Math.min(le,ye);let W;for(W=0;W<ve;W++){const B=h[W]=ue?ls(h[W]):jt(h[W]);R(p[W],B,I,null,Z,K,me,ne,ue)}le>ye?de(p,Z,K,!0,!1,ve):C(h,I,U,Z,K,me,ne,ue,ve)},g=(p,h,I,U,Z,K,me,ne,ue)=>{let le=0;const ye=h.length;let ve=p.length-1,W=ye-1;for(;le<=ve&&le<=W;){const B=p[le],fe=h[le]=ue?ls(h[le]):jt(h[le]);if(Is(B,fe))R(B,fe,I,null,Z,K,me,ne,ue);else break;le++}for(;le<=ve&&le<=W;){const B=p[ve],fe=h[W]=ue?ls(h[W]):jt(h[W]);if(Is(B,fe))R(B,fe,I,null,Z,K,me,ne,ue);else break;ve--,W--}if(le>ve){if(le<=W){const B=W+1,fe=B<ye?h[B].el:U;for(;le<=W;)R(null,h[le]=ue?ls(h[le]):jt(h[le]),I,fe,Z,K,me,ne,ue),le++}}else if(le>W)for(;le<=ve;)D(p[le],Z,K,!0),le++;else{const B=le,fe=le,xe=new Map;for(le=fe;le<=W;le++){const ht=h[le]=ue?ls(h[le]):jt(h[le]);ht.key!=null&&xe.set(ht.key,le)}let be,Me=0;const Oe=W-fe+1;let pe=!1,Le=0;const bt=new Array(Oe);for(le=0;le<Oe;le++)bt[le]=0;for(le=B;le<=ve;le++){const ht=p[le];if(Me>=Oe){D(ht,Z,K,!0);continue}let Lt;if(ht.key!=null)Lt=xe.get(ht.key);else for(be=fe;be<=W;be++)if(bt[be-fe]===0&&Is(ht,h[be])){Lt=be;break}Lt===void 0?D(ht,Z,K,!0):(bt[Lt-fe]=le+1,Lt>=Le?Le=Lt:pe=!0,R(ht,h[Lt],I,null,Z,K,me,ne,ue),Me++)}const Nt=pe?Sp(bt):Ds;for(be=Nt.length-1,le=Oe-1;le>=0;le--){const ht=fe+le,Lt=h[ht],ai=ht+1<ye?h[ht+1].el:U;bt[le]===0?R(null,Lt,I,ai,Z,K,me,ne,ue):pe&&(be<0||le!==Nt[be]?j(Lt,I,ai,2):be--)}}},j=(p,h,I,U,Z=null)=>{const{el:K,type:me,transition:ne,children:ue,shapeFlag:le}=p;if(le&6){j(p.component.subTree,h,I,U);return}if(le&128){p.suspense.move(h,I,U);return}if(le&64){me.move(p,h,I,ae);return}if(me===Ee){n(K,h,I);for(let ve=0;ve<ue.length;ve++)j(ue[ve],h,I,U);n(p.anchor,h,I);return}if(me===sr){O(p,h,I);return}if(U!==2&&le&1&&ne)if(U===0)ne.beforeEnter(K),n(K,h,I),mt(()=>ne.enter(K),Z);else{const{leave:ve,delayLeave:W,afterLeave:B}=ne,fe=()=>{p.ctx.isUnmounted?r(K):n(K,h,I)},xe=()=>{ve(K,()=>{fe(),B&&B()})};W?W(K,fe,xe):xe()}else n(K,h,I)},D=(p,h,I,U=!1,Z=!1)=>{const{type:K,props:me,ref:ne,children:ue,dynamicChildren:le,shapeFlag:ye,patchFlag:ve,dirs:W,cacheIndex:B}=p;if(ve===-2&&(Z=!1),ne!=null&&(es(),pn(ne,null,I,p,!0),ts()),B!=null&&(h.renderCache[B]=void 0),ye&256){h.ctx.deactivate(p);return}const fe=ye&1&&W,xe=!hn(p);let be;if(xe&&(be=me&&me.onVnodeBeforeUnmount)&&Dt(be,h,p),ye&6)re(p.component,I,U);else{if(ye&128){p.suspense.unmount(I,U);return}fe&&bs(p,null,h,"beforeUnmount"),ye&64?p.type.remove(p,h,I,ae,U):le&&!le.hasOnce&&(K!==Ee||ve>0&&ve&64)?de(le,h,I,!1,!0):(K===Ee&&ve&384||!Z&&ye&16)&&de(ue,h,I),U&&$(p)}(xe&&(be=me&&me.onVnodeUnmounted)||fe)&&mt(()=>{be&&Dt(be,h,p),fe&&bs(p,null,h,"unmounted")},I)},$=p=>{const{type:h,el:I,anchor:U,transition:Z}=p;if(h===Ee){F(I,U);return}if(h===sr){S(p);return}const K=()=>{r(I),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(p.shapeFlag&1&&Z&&!Z.persisted){const{leave:me,delayLeave:ne}=Z,ue=()=>me(I,K);ne?ne(p.el,K,ue):ue()}else K()},F=(p,h)=>{let I;for(;p!==h;)I=m(p),r(p),p=I;r(h)},re=(p,h,I)=>{const{bum:U,scope:Z,job:K,subTree:me,um:ne,m:ue,a:le,parent:ye,slots:{__:ve}}=p;_i(ue),_i(le),U&&er(U),ye&&Ce(ve)&&ve.forEach(W=>{ye.renderCache[W]=void 0}),Z.stop(),K&&(K.flags|=8,D(me,p,h,I)),ne&&mt(ne,h),mt(()=>{p.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},de=(p,h,I,U=!1,Z=!1,K=0)=>{for(let me=K;me<p.length;me++)D(p[me],h,I,U,Z)},V=p=>{if(p.shapeFlag&6)return V(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const h=m(p.anchor||p.el),I=h&&h[Ff];return I?m(I):h};let oe=!1;const ee=(p,h,I)=>{p==null?h._vnode&&D(h._vnode,null,null,!0):R(h._vnode||null,p,h,null,null,null,I),h._vnode=p,oe||(oe=!0,di(),uu(),oe=!1)},ae={p:R,um:D,m:j,r:$,mt:se,mc:C,pc:L,pbc:X,n:V,o:e};return{render:ee,hydrate:void 0,createApp:pp(ee)}}function Xr({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function ws({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function kp(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Nu(e,t,s=!1){const n=e.children,r=t.children;if(Ce(n)&&Ce(r))for(let a=0;a<n.length;a++){const i=n[a];let l=r[a];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[a]=ls(r[a]),l.el=i.el),!s&&l.patchFlag!==-2&&Nu(i,l)),l.type===Ar&&(l.el=i.el),l.type===lt&&!l.el&&(l.el=i.el)}}function Sp(e){const t=e.slice(),s=[0];let n,r,a,i,l;const c=e.length;for(n=0;n<c;n++){const f=e[n];if(f!==0){if(r=s[s.length-1],e[r]<f){t[n]=r,s.push(n);continue}for(a=0,i=s.length-1;a<i;)l=a+i>>1,e[s[l]]<f?a=l+1:i=l;f<e[s[a]]&&(a>0&&(t[n]=s[a-1]),s[a]=n)}}for(a=s.length,i=s[a-1];a-- >0;)s[a]=i,i=t[i];return s}function Lu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Lu(t)}function _i(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Cp=Symbol.for("v-scx"),Ip=()=>At(Cp);function Ge(e,t,s){return Du(e,t,s)}function Du(e,t,s=Fe){const{immediate:n,deep:r,flush:a,once:i}=s,l=Ye({},s),c=t&&n||!t&&a!=="post";let f;if(Cn){if(a==="sync"){const y=Ip();f=y.__watcherHandles||(y.__watcherHandles=[])}else if(!c){const y=()=>{};return y.stop=qt,y.resume=qt,y.pause=qt,y}}const u=tt;l.call=(y,P,R)=>Rt(y,u,P,R);let d=!1;a==="post"?l.scheduler=y=>{mt(y,u&&u.suspense)}:a!=="sync"&&(d=!0,l.scheduler=(y,P)=>{P?y():za(y)}),l.augmentJob=y=>{t&&(y.flags|=4),d&&(y.flags|=2,u&&(y.id=u.uid,y.i=u))};const m=jf(e,t,l);return Cn&&(f?f.push(m):c&&m()),m}function $p(e,t,s){const n=this.proxy,r=Ke(e)?e.includes(".")?Mu(n,e):()=>n[e]:e.bind(n,n);let a;Ae(t)?a=t:(a=t.handler,s=t);const i=On(this),l=Du(r,a.bind(n),s);return i(),l}function Mu(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Ep=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ct(t)}Modifiers`]||e[`${ys(t)}Modifiers`];function xp(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Fe;let r=s;const a=t.startsWith("update:"),i=a&&Ep(n,t.slice(7));i&&(i.trim&&(r=s.map(u=>Ke(u)?u.trim():u)),i.number&&(r=s.map(lr)));let l,c=n[l=Vr(t)]||n[l=Vr(Ct(t))];!c&&a&&(c=n[l=Vr(ys(t))]),c&&Rt(c,e,6,r);const f=n[l+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Rt(f,e,6,r)}}function Uu(e,t,s=!1){const n=t.emitsCache,r=n.get(e);if(r!==void 0)return r;const a=e.emits;let i={},l=!1;if(!Ae(e)){const c=f=>{const u=Uu(f,t,!0);u&&(l=!0,Ye(i,u))};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!a&&!l?(Ve(e)&&n.set(e,null),null):(Ce(a)?a.forEach(c=>i[c]=null):Ye(i,a),Ve(e)&&n.set(e,i),i)}function Tr(e,t){return!e||!wr(t)?!1:(t=t.slice(2).replace(/Once$/,""),qe(e,t[0].toLowerCase()+t.slice(1))||qe(e,ys(t))||qe(e,t))}function bi(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[a],slots:i,attrs:l,emit:c,render:f,renderCache:u,props:d,data:m,setupState:y,ctx:P,inheritAttrs:R}=e,N=fr(e);let M,E;try{if(s.shapeFlag&4){const S=r||n,A=S;M=jt(f.call(A,S,u,d,y,m,P)),E=l}else{const S=t;M=jt(S.length>1?S(d,{attrs:l,slots:i,emit:c}):S(d,null)),E=t.props?l:Tp(l)}}catch(S){vn.length=0,$r(S,e,1),M=we(lt)}let O=M;if(E&&R!==!1){const S=Object.keys(E),{shapeFlag:A}=O;S.length&&A&7&&(a&&S.some(Na)&&(E=Ap(E,a)),O=hs(O,E,!1,!0))}return s.dirs&&(O=hs(O,null,!1,!0),O.dirs=O.dirs?O.dirs.concat(s.dirs):s.dirs),s.transition&&kn(O,s.transition),M=O,fr(N),M}const Tp=e=>{let t;for(const s in e)(s==="class"||s==="style"||wr(s))&&((t||(t={}))[s]=e[s]);return t},Ap=(e,t)=>{const s={};for(const n in e)(!Na(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Rp(e,t,s){const{props:n,children:r,component:a}=e,{props:i,children:l,patchFlag:c}=t,f=a.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return n?wi(n,i,f):!!i;if(c&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const m=u[d];if(i[m]!==n[m]&&!Tr(f,m))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:n===i?!1:n?i?wi(n,i,f):!0:!!i;return!1}function wi(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const a=n[r];if(t[a]!==e[a]&&!Tr(s,a))return!0}return!1}function Pp({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const ju=e=>e.__isSuspense;function Op(e,t){t&&t.pendingBranch?Ce(e)?t.effects.push(...e):t.effects.push(e):Hf(e)}const Ee=Symbol.for("v-fgt"),Ar=Symbol.for("v-txt"),lt=Symbol.for("v-cmt"),sr=Symbol.for("v-stc"),vn=[];let yt=null;function _(e=!1){vn.push(yt=e?null:[])}function Np(){vn.pop(),yt=vn[vn.length-1]||null}let Sn=1;function ki(e,t=!1){Sn+=e,e<0&&yt&&t&&(yt.hasOnce=!0)}function Bu(e){return e.dynamicChildren=Sn>0?yt||Ds:null,Np(),Sn>0&&yt&&yt.push(e),e}function b(e,t,s,n,r,a){return Bu(o(e,t,s,n,r,a,!0))}function qs(e,t,s,n,r){return Bu(we(e,t,s,n,r,!0))}function hr(e){return e?e.__v_isVNode===!0:!1}function Is(e,t){return e.type===t.type&&e.key===t.key}const qu=({key:e})=>e??null,nr=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ke(e)||rt(e)||Ae(e)?{i:dt,r:e,k:t,f:!!s}:e:null);function o(e,t=null,s=null,n=0,r=null,a=e===Ee?0:1,i=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&qu(t),ref:t&&nr(t),scopeId:fu,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:dt};return l?(Ka(c,s),a&128&&e.normalize(c)):s&&(c.shapeFlag|=Ke(s)?8:16),Sn>0&&!i&&yt&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&yt.push(c),c}const we=Lp;function Lp(e,t=null,s=null,n=0,r=null,a=!1){if((!e||e===rp)&&(e=lt),hr(e)){const l=hs(e,t,!0);return s&&Ka(l,s),Sn>0&&!a&&yt&&(l.shapeFlag&6?yt[yt.indexOf(e)]=l:yt.push(l)),l.patchFlag=-2,l}if(Jp(e)&&(e=e.__vccOpts),t){t=Dp(t);let{class:l,style:c}=t;l&&!Ke(l)&&(t.class=$e(l)),Ve(c)&&(Wa(c)&&!Ce(c)&&(c=Ye({},c)),t.style=Ma(c))}const i=Ke(e)?1:ju(e)?128:pu(e)?64:Ve(e)?4:Ae(e)?2:0;return o(e,t,s,n,r,i,a,!0)}function Dp(e){return e?Wa(e)||xu(e)?Ye({},e):e:null}function hs(e,t,s=!1,n=!1){const{props:r,ref:a,patchFlag:i,children:l,transition:c}=e,f=t?Mp(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&qu(f),ref:t&&t.ref?s&&a?Ce(a)?a.concat(nr(t)):[a,nr(t)]:nr(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ee?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&hs(e.ssContent),ssFallback:e.ssFallback&&hs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&n&&kn(u,c.clone(u)),u}function ge(e=" ",t=0){return we(Ar,null,e,t)}function Xe(e,t){const s=we(sr,null,e);return s.staticCount=t,s}function G(e="",t=!1){return t?(_(),qs(lt,null,e)):we(lt,null,e)}function jt(e){return e==null||typeof e=="boolean"?we(lt):Ce(e)?we(Ee,null,e.slice()):hr(e)?ls(e):we(Ar,null,String(e))}function ls(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:hs(e)}function Ka(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Ce(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),Ka(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!xu(t)?t._ctx=dt:r===3&&dt&&(dt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ae(t)?(t={default:t,_ctx:dt},s=32):(t=String(t),n&64?(s=16,t=[ge(t)]):s=8);e.children=t,e.shapeFlag|=s}function Mp(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=$e([t.class,n.class]));else if(r==="style")t.style=Ma([t.style,n.style]);else if(wr(r)){const a=t[r],i=n[r];i&&a!==i&&!(Ce(a)&&a.includes(i))&&(t[r]=a?[].concat(a,i):i)}else r!==""&&(t[r]=n[r])}return t}function Dt(e,t,s,n=null){Rt(e,t,7,[s,n])}const Up=Iu();let jp=0;function Bp(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||Up,a={uid:jp++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ff(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Au(n,r),emitsOptions:Uu(n,r),emit:null,emitted:null,propsDefaults:Fe,inheritAttrs:n.inheritAttrs,ctx:Fe,data:Fe,props:Fe,attrs:Fe,slots:Fe,refs:Fe,setupState:Fe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=xp.bind(null,a),e.ce&&e.ce(a),a}let tt=null;const qp=()=>tt||dt;let mr,ba;{const e=Cr(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),a=>{r.length>1?r.forEach(i=>i(a)):r[0](a)}};mr=t("__VUE_INSTANCE_SETTERS__",s=>tt=s),ba=t("__VUE_SSR_SETTERS__",s=>Cn=s)}const On=e=>{const t=tt;return mr(e),e.scope.on(),()=>{e.scope.off(),mr(t)}},Si=()=>{tt&&tt.scope.off(),mr(null)};function Hu(e){return e.vnode.shapeFlag&4}let Cn=!1;function Hp(e,t=!1,s=!1){t&&ba(t);const{props:n,children:r}=e.vnode,a=Hu(e);hp(e,n,a,t),yp(e,r,s||t);const i=a?Fp(e,t):void 0;return t&&ba(!1),i}function Fp(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ap);const{setup:n}=s;if(n){es();const r=e.setupContext=n.length>1?Wp(e):null,a=On(e),i=Pn(n,e,0,[e.props,r]),l=Uc(i);if(ts(),a(),(l||e.sp)&&!hn(e)&&bu(e),l){if(i.then(Si,Si),t)return i.then(c=>{Ci(e,c)}).catch(c=>{$r(c,e,0)});e.asyncDep=i}else Ci(e,i)}else Fu(e)}function Ci(e,t,s){Ae(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ve(t)&&(e.setupState=iu(t)),Fu(e)}function Fu(e,t,s){const n=e.type;e.render||(e.render=n.render||qt);{const r=On(e);es();try{ip(e)}finally{ts(),r()}}}const Vp={get(e,t){return st(e,"get",""),e[t]}};function Wp(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Vp),slots:e.slots,emit:e.emit,expose:t}}function Rr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(iu(Pf(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in mn)return mn[s](e)},has(t,s){return s in t||s in mn}})):e.proxy}function zp(e,t=!0){return Ae(e)?e.displayName||e.name:e.name||t&&e.__name}function Jp(e){return Ae(e)&&"__vccOpts"in e}const ke=(e,t)=>Mf(e,t,Cn);function Hs(e,t,s){const n=arguments.length;return n===2?Ve(t)&&!Ce(t)?hr(t)?we(e,null,[t]):we(e,t):we(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&hr(s)&&(s=[s]),we(e,t,s))}const Gp="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let wa;const Ii=typeof window<"u"&&window.trustedTypes;if(Ii)try{wa=Ii.createPolicy("vue",{createHTML:e=>e})}catch{}const Vu=wa?e=>wa.createHTML(e):e=>e,Kp="http://www.w3.org/2000/svg",Zp="http://www.w3.org/1998/Math/MathML",Kt=typeof document<"u"?document:null,$i=Kt&&Kt.createElement("template"),Xp={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?Kt.createElementNS(Kp,e):t==="mathml"?Kt.createElementNS(Zp,e):s?Kt.createElement(e,{is:s}):Kt.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>Kt.createTextNode(e),createComment:e=>Kt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Kt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,a){const i=s?s.previousSibling:t.lastChild;if(r&&(r===a||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===a||!(r=r.nextSibling)););else{$i.innerHTML=Vu(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const l=$i.content;if(n==="svg"||n==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,s)}return[i?i.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},rs="transition",en="animation",In=Symbol("_vtc"),Wu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Yp=Ye({},hu,Wu),Qp=e=>(e.displayName="Transition",e.props=Yp,e),zu=Qp((e,{slots:t})=>Hs(zf,eh(e),t)),ks=(e,t=[])=>{Ce(e)?e.forEach(s=>s(...t)):e&&e(...t)},Ei=e=>e?Ce(e)?e.some(t=>t.length>1):e.length>1:!1;function eh(e){const t={};for(const x in e)x in Wu||(t[x]=e[x]);if(e.css===!1)return t;const{name:s="v",type:n,duration:r,enterFromClass:a=`${s}-enter-from`,enterActiveClass:i=`${s}-enter-active`,enterToClass:l=`${s}-enter-to`,appearFromClass:c=a,appearActiveClass:f=i,appearToClass:u=l,leaveFromClass:d=`${s}-leave-from`,leaveActiveClass:m=`${s}-leave-active`,leaveToClass:y=`${s}-leave-to`}=e,P=th(r),R=P&&P[0],N=P&&P[1],{onBeforeEnter:M,onEnter:E,onEnterCancelled:O,onLeave:S,onLeaveCancelled:A,onBeforeAppear:k=M,onAppear:w=E,onAppearCancelled:C=O}=t,z=(x,q,se,ie)=>{x._enterCancelled=ie,Ss(x,q?u:l),Ss(x,q?f:i),se&&se()},X=(x,q)=>{x._isLeaving=!1,Ss(x,d),Ss(x,y),Ss(x,m),q&&q()},J=x=>(q,se)=>{const ie=x?w:E,he=()=>z(q,x,se);ks(ie,[q,he]),xi(()=>{Ss(q,x?c:a),Jt(q,x?u:l),Ei(ie)||Ti(q,n,R,he)})};return Ye(t,{onBeforeEnter(x){ks(M,[x]),Jt(x,a),Jt(x,i)},onBeforeAppear(x){ks(k,[x]),Jt(x,c),Jt(x,f)},onEnter:J(!1),onAppear:J(!0),onLeave(x,q){x._isLeaving=!0;const se=()=>X(x,q);Jt(x,d),x._enterCancelled?(Jt(x,m),Pi()):(Pi(),Jt(x,m)),xi(()=>{x._isLeaving&&(Ss(x,d),Jt(x,y),Ei(S)||Ti(x,n,N,se))}),ks(S,[x,se])},onEnterCancelled(x){z(x,!1,void 0,!0),ks(O,[x])},onAppearCancelled(x){z(x,!0,void 0,!0),ks(C,[x])},onLeaveCancelled(x){X(x),ks(A,[x])}})}function th(e){if(e==null)return null;if(Ve(e))return[Yr(e.enter),Yr(e.leave)];{const t=Yr(e);return[t,t]}}function Yr(e){return nf(e)}function Jt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[In]||(e[In]=new Set)).add(t)}function Ss(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const s=e[In];s&&(s.delete(t),s.size||(e[In]=void 0))}function xi(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let sh=0;function Ti(e,t,s,n){const r=e._endId=++sh,a=()=>{r===e._endId&&n()};if(s!=null)return setTimeout(a,s);const{type:i,timeout:l,propCount:c}=nh(e,t);if(!i)return n();const f=i+"end";let u=0;const d=()=>{e.removeEventListener(f,m),a()},m=y=>{y.target===e&&++u>=c&&d()};setTimeout(()=>{u<c&&d()},l+1),e.addEventListener(f,m)}function nh(e,t){const s=window.getComputedStyle(e),n=P=>(s[P]||"").split(", "),r=n(`${rs}Delay`),a=n(`${rs}Duration`),i=Ai(r,a),l=n(`${en}Delay`),c=n(`${en}Duration`),f=Ai(l,c);let u=null,d=0,m=0;t===rs?i>0&&(u=rs,d=i,m=a.length):t===en?f>0&&(u=en,d=f,m=c.length):(d=Math.max(i,f),u=d>0?i>f?rs:en:null,m=u?u===rs?a.length:c.length:0);const y=u===rs&&/\b(transform|all)(,|$)/.test(n(`${rs}Property`).toString());return{type:u,timeout:d,propCount:m,hasTransform:y}}function Ai(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>Ri(s)+Ri(e[n])))}function Ri(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Pi(){return document.body.offsetHeight}function rh(e,t,s){const n=e[In];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const vr=Symbol("_vod"),Ju=Symbol("_vsh"),oh={beforeMount(e,{value:t},{transition:s}){e[vr]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):tn(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),tn(e,!0),n.enter(e)):n.leave(e,()=>{tn(e,!1)}):tn(e,t))},beforeUnmount(e,{value:t}){tn(e,t)}};function tn(e,t){e.style.display=t?e[vr]:"none",e[Ju]=!t}const ah=Symbol(""),ih=/(^|;)\s*display\s*:/;function lh(e,t,s){const n=e.style,r=Ke(s);let a=!1;if(s&&!r){if(t)if(Ke(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();s[l]==null&&rr(n,l,"")}else for(const i in t)s[i]==null&&rr(n,i,"");for(const i in s)i==="display"&&(a=!0),rr(n,i,s[i])}else if(r){if(t!==s){const i=n[ah];i&&(s+=";"+i),n.cssText=s,a=ih.test(s)}}else t&&e.removeAttribute("style");vr in e&&(e[vr]=a?n.display:"",e[Ju]&&(n.display="none"))}const Oi=/\s*!important$/;function rr(e,t,s){if(Ce(s))s.forEach(n=>rr(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=ch(e,t);Oi.test(s)?e.setProperty(ys(n),s.replace(Oi,""),"important"):e[n]=s}}const Ni=["Webkit","Moz","ms"],Qr={};function ch(e,t){const s=Qr[t];if(s)return s;let n=Ct(t);if(n!=="filter"&&n in e)return Qr[t]=n;n=Sr(n);for(let r=0;r<Ni.length;r++){const a=Ni[r]+n;if(a in e)return Qr[t]=a}return t}const Li="http://www.w3.org/1999/xlink";function Di(e,t,s,n,r,a=uf(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Li,t.slice(6,t.length)):e.setAttributeNS(Li,t,s):s==null||a&&!qc(s)?e.removeAttribute(t):e.setAttribute(t,a?"":Ft(s)?String(s):s)}function Mi(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Vu(s):s);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const l=a==="OPTION"?e.getAttribute("value")||"":e.value,c=s==null?e.type==="checkbox"?"on":"":String(s);(l!==c||!("_value"in e))&&(e.value=c),s==null&&e.removeAttribute(t),e._value=s;return}let i=!1;if(s===""||s==null){const l=typeof e[t];l==="boolean"?s=qc(s):s==null&&l==="string"?(s="",i=!0):l==="number"&&(s=0,i=!0)}try{e[t]=s}catch{}i&&e.removeAttribute(r||t)}function Yt(e,t,s,n){e.addEventListener(t,s,n)}function uh(e,t,s,n){e.removeEventListener(t,s,n)}const Ui=Symbol("_vei");function dh(e,t,s,n,r=null){const a=e[Ui]||(e[Ui]={}),i=a[t];if(n&&i)i.value=n;else{const[l,c]=fh(t);if(n){const f=a[t]=mh(n,r);Yt(e,l,f,c)}else i&&(uh(e,l,i,c),a[t]=void 0)}}const ji=/(?:Once|Passive|Capture)$/;function fh(e){let t;if(ji.test(e)){t={};let n;for(;n=e.match(ji);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ys(e.slice(2)),t]}let eo=0;const ph=Promise.resolve(),hh=()=>eo||(ph.then(()=>eo=0),eo=Date.now());function mh(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Rt(vh(n,s.value),t,5,[n])};return s.value=e,s.attached=hh(),s}function vh(e,t){if(Ce(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const Bi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,gh=(e,t,s,n,r,a)=>{const i=r==="svg";t==="class"?rh(e,n,i):t==="style"?lh(e,s,n):wr(t)?Na(t)||dh(e,t,s,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yh(e,t,n,i))?(Mi(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Di(e,t,n,i,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ke(n))?Mi(e,Ct(t),n,a,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Di(e,t,n,i))};function yh(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Bi(t)&&Ae(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Bi(t)&&Ke(s)?!1:t in e}const ms=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ce(t)?s=>er(t,s):t};function _h(e){e.target.composing=!0}function qi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const St=Symbol("_assign"),Te={created(e,{modifiers:{lazy:t,trim:s,number:n}},r){e[St]=ms(r);const a=n||r.props&&r.props.type==="number";Yt(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;s&&(l=l.trim()),a&&(l=lr(l)),e[St](l)}),s&&Yt(e,"change",()=>{e.value=e.value.trim()}),t||(Yt(e,"compositionstart",_h),Yt(e,"compositionend",qi),Yt(e,"change",qi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:r,number:a}},i){if(e[St]=ms(i),e.composing)return;const l=(a||e.type==="number")&&!/^0\d/.test(e.value)?lr(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||r&&e.value.trim()===c)||(e.value=c))}},Bt={deep:!0,created(e,t,s){e[St]=ms(s),Yt(e,"change",()=>{const n=e._modelValue,r=Fs(e),a=e.checked,i=e[St];if(Ce(n)){const l=Ua(n,r),c=l!==-1;if(a&&!c)i(n.concat(r));else if(!a&&c){const f=[...n];f.splice(l,1),i(f)}}else if(zs(n)){const l=new Set(n);a?l.add(r):l.delete(r),i(l)}else i(Gu(e,a))})},mounted:Hi,beforeUpdate(e,t,s){e[St]=ms(s),Hi(e,t,s)}};function Hi(e,{value:t,oldValue:s},n){e._modelValue=t;let r;if(Ce(t))r=Ua(t,n.props.value)>-1;else if(zs(t))r=t.has(n.props.value);else{if(t===s)return;r=Ts(t,Gu(e,!0))}e.checked!==r&&(e.checked=r)}const Qt={created(e,{value:t},s){e.checked=Ts(t,s.props.value),e[St]=ms(s),Yt(e,"change",()=>{e[St](Fs(e))})},beforeUpdate(e,{value:t,oldValue:s},n){e[St]=ms(n),t!==s&&(e.checked=Ts(t,n.props.value))}},Rs={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const r=zs(t);Yt(e,"change",()=>{const a=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>s?lr(Fs(i)):Fs(i));e[St](e.multiple?r?new Set(a):a:a[0]),e._assigning=!0,Ht(()=>{e._assigning=!1})}),e[St]=ms(n)},mounted(e,{value:t}){Fi(e,t)},beforeUpdate(e,t,s){e[St]=ms(s)},updated(e,{value:t}){e._assigning||Fi(e,t)}};function Fi(e,t){const s=e.multiple,n=Ce(t);if(!(s&&!n&&!zs(t))){for(let r=0,a=e.options.length;r<a;r++){const i=e.options[r],l=Fs(i);if(s)if(n){const c=typeof l;c==="string"||c==="number"?i.selected=t.some(f=>String(f)===String(l)):i.selected=Ua(t,l)>-1}else i.selected=t.has(l);else if(Ts(Fs(i),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Fs(e){return"_value"in e?e._value:e.value}function Gu(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const to={created(e,t,s){Wn(e,t,s,null,"created")},mounted(e,t,s){Wn(e,t,s,null,"mounted")},beforeUpdate(e,t,s,n){Wn(e,t,s,n,"beforeUpdate")},updated(e,t,s,n){Wn(e,t,s,n,"updated")}};function bh(e,t){switch(e){case"SELECT":return Rs;case"TEXTAREA":return Te;default:switch(t){case"checkbox":return Bt;case"radio":return Qt;default:return Te}}}function Wn(e,t,s,n,r){const i=bh(e.tagName,s.props&&s.props.type)[r];i&&i(e,t,s,n)}const wh=["ctrl","shift","alt","meta"],kh={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>wh.some(s=>e[`${s}Key`]&&!t.includes(s))},_t=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(r,...a)=>{for(let i=0;i<t.length;i++){const l=kh[t[i]];if(l&&l(r,t))return}return e(r,...a)})},Sh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Pr=(e,t)=>{const s=e._withKeys||(e._withKeys={}),n=t.join(".");return s[n]||(s[n]=r=>{if(!("key"in r))return;const a=ys(r.key);if(t.some(i=>i===a||Sh[i]===a))return e(r)})},Ch=Ye({patchProp:gh},Xp);let Vi;function Ih(){return Vi||(Vi=bp(Ch))}const $h=(...e)=>{const t=Ih().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=xh(n);if(!r)return;const a=t._component;!Ae(a)&&!a.render&&!a.template&&(a.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=s(r,!1,Eh(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function Eh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function xh(e){return Ke(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Ls=typeof document<"u";function Ku(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Th(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Ku(e.default)}const Be=Object.assign;function so(e,t){const s={};for(const n in t){const r=t[n];s[n]=Pt(r)?r.map(e):e(r)}return s}const gn=()=>{},Pt=Array.isArray,Zu=/#/g,Ah=/&/g,Rh=/\//g,Ph=/=/g,Oh=/\?/g,Xu=/\+/g,Nh=/%5B/g,Lh=/%5D/g,Yu=/%5E/g,Dh=/%60/g,Qu=/%7B/g,Mh=/%7C/g,ed=/%7D/g,Uh=/%20/g;function Za(e){return encodeURI(""+e).replace(Mh,"|").replace(Nh,"[").replace(Lh,"]")}function jh(e){return Za(e).replace(Qu,"{").replace(ed,"}").replace(Yu,"^")}function ka(e){return Za(e).replace(Xu,"%2B").replace(Uh,"+").replace(Zu,"%23").replace(Ah,"%26").replace(Dh,"`").replace(Qu,"{").replace(ed,"}").replace(Yu,"^")}function Bh(e){return ka(e).replace(Ph,"%3D")}function qh(e){return Za(e).replace(Zu,"%23").replace(Oh,"%3F")}function Hh(e){return e==null?"":qh(e).replace(Rh,"%2F")}function $n(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Fh=/\/$/,Vh=e=>e.replace(Fh,"");function no(e,t,s="/"){let n,r={},a="",i="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(n=t.slice(0,c),a=t.slice(c+1,l>-1?l:t.length),r=e(a)),l>-1&&(n=n||t.slice(0,l),i=t.slice(l,t.length)),n=Gh(n??t,s),{fullPath:n+(a&&"?")+a+i,path:n,query:r,hash:$n(i)}}function Wh(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Wi(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function zh(e,t,s){const n=t.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&Vs(t.matched[n],s.matched[r])&&td(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Vs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function td(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Jh(e[s],t[s]))return!1;return!0}function Jh(e,t){return Pt(e)?zi(e,t):Pt(t)?zi(t,e):e===t}function zi(e,t){return Pt(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function Gh(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let a=s.length-1,i,l;for(i=0;i<n.length;i++)if(l=n[i],l!==".")if(l==="..")a>1&&a--;else break;return s.slice(0,a).join("/")+"/"+n.slice(i).join("/")}const os={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var En;(function(e){e.pop="pop",e.push="push"})(En||(En={}));var yn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(yn||(yn={}));function Kh(e){if(!e)if(Ls){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Vh(e)}const Zh=/^[^#]+#/;function Xh(e,t){return e.replace(Zh,"#")+t}function Yh(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const Or=()=>({left:window.scrollX,top:window.scrollY});function Qh(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;t=Yh(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ji(e,t){return(history.state?history.state.position-t:-1)+e}const Sa=new Map;function em(e,t){Sa.set(e,t)}function tm(e){const t=Sa.get(e);return Sa.delete(e),t}let sm=()=>location.protocol+"//"+location.host;function sd(e,t){const{pathname:s,search:n,hash:r}=t,a=e.indexOf("#");if(a>-1){let l=r.includes(e.slice(a))?e.slice(a).length:1,c=r.slice(l);return c[0]!=="/"&&(c="/"+c),Wi(c,"")}return Wi(s,e)+n+r}function nm(e,t,s,n){let r=[],a=[],i=null;const l=({state:m})=>{const y=sd(e,location),P=s.value,R=t.value;let N=0;if(m){if(s.value=y,t.value=m,i&&i===P){i=null;return}N=R?m.position-R.position:0}else n(y);r.forEach(M=>{M(s.value,P,{delta:N,type:En.pop,direction:N?N>0?yn.forward:yn.back:yn.unknown})})};function c(){i=s.value}function f(m){r.push(m);const y=()=>{const P=r.indexOf(m);P>-1&&r.splice(P,1)};return a.push(y),y}function u(){const{history:m}=window;m.state&&m.replaceState(Be({},m.state,{scroll:Or()}),"")}function d(){for(const m of a)m();a=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:f,destroy:d}}function Gi(e,t,s,n=!1,r=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:r?Or():null}}function rm(e){const{history:t,location:s}=window,n={value:sd(e,s)},r={value:t.state};r.value||a(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(c,f,u){const d=e.indexOf("#"),m=d>-1?(s.host&&document.querySelector("base")?e:e.slice(d))+c:sm()+e+c;try{t[u?"replaceState":"pushState"](f,"",m),r.value=f}catch(y){console.error(y),s[u?"replace":"assign"](m)}}function i(c,f){const u=Be({},t.state,Gi(r.value.back,c,r.value.forward,!0),f,{position:r.value.position});a(c,u,!0),n.value=c}function l(c,f){const u=Be({},r.value,t.state,{forward:c,scroll:Or()});a(u.current,u,!0);const d=Be({},Gi(n.value,c,null),{position:u.position+1},f);a(c,d,!1),n.value=c}return{location:n,state:r,push:l,replace:i}}function om(e){e=Kh(e);const t=rm(e),s=nm(e,t.state,t.location,t.replace);function n(a,i=!0){i||s.pauseListeners(),history.go(a)}const r=Be({location:"",base:e,go:n,createHref:Xh.bind(null,e)},t,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function am(e){return typeof e=="string"||e&&typeof e=="object"}function nd(e){return typeof e=="string"||typeof e=="symbol"}const rd=Symbol("");var Ki;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ki||(Ki={}));function Ws(e,t){return Be(new Error,{type:e,[rd]:!0},t)}function Gt(e,t){return e instanceof Error&&rd in e&&(t==null||!!(e.type&t))}const Zi="[^/]+?",im={sensitive:!1,strict:!1,start:!0,end:!0},lm=/[.+*?^${}()[\]/\\]/g;function cm(e,t){const s=Be({},im,t),n=[];let r=s.start?"^":"";const a=[];for(const f of e){const u=f.length?[]:[90];s.strict&&!f.length&&(r+="/");for(let d=0;d<f.length;d++){const m=f[d];let y=40+(s.sensitive?.25:0);if(m.type===0)d||(r+="/"),r+=m.value.replace(lm,"\\$&"),y+=40;else if(m.type===1){const{value:P,repeatable:R,optional:N,regexp:M}=m;a.push({name:P,repeatable:R,optional:N});const E=M||Zi;if(E!==Zi){y+=10;try{new RegExp(`(${E})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${P}" (${E}): `+S.message)}}let O=R?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;d||(O=N&&f.length<2?`(?:/${O})`:"/"+O),N&&(O+="?"),r+=O,y+=20,N&&(y+=-8),R&&(y+=-20),E===".*"&&(y+=-50)}u.push(y)}n.push(u)}if(s.strict&&s.end){const f=n.length-1;n[f][n[f].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const i=new RegExp(r,s.sensitive?"":"i");function l(f){const u=f.match(i),d={};if(!u)return null;for(let m=1;m<u.length;m++){const y=u[m]||"",P=a[m-1];d[P.name]=y&&P.repeatable?y.split("/"):y}return d}function c(f){let u="",d=!1;for(const m of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const y of m)if(y.type===0)u+=y.value;else if(y.type===1){const{value:P,repeatable:R,optional:N}=y,M=P in f?f[P]:"";if(Pt(M)&&!R)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const E=Pt(M)?M.join("/"):M;if(!E)if(N)m.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${P}"`);u+=E}}return u||"/"}return{re:i,score:n,keys:a,parse:l,stringify:c}}function um(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function od(e,t){let s=0;const n=e.score,r=t.score;for(;s<n.length&&s<r.length;){const a=um(n[s],r[s]);if(a)return a;s++}if(Math.abs(r.length-n.length)===1){if(Xi(n))return 1;if(Xi(r))return-1}return r.length-n.length}function Xi(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const dm={type:0,value:""},fm=/[a-zA-Z0-9_]/;function pm(e){if(!e)return[[]];if(e==="/")return[[dm]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${s})/"${f}": ${y}`)}let s=0,n=s;const r=[];let a;function i(){a&&r.push(a),a=[]}let l=0,c,f="",u="";function d(){f&&(s===0?a.push({type:0,value:f}):s===1||s===2||s===3?(a.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:f,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),f="")}function m(){f+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:c==="/"?(f&&d(),i()):c===":"?(d(),s=1):m();break;case 4:m(),s=n;break;case 1:c==="("?s=2:fm.test(c)?m():(d(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:s=3:u+=c;break;case 3:d(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,u="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${f}"`),d(),i(),r}function hm(e,t,s){const n=cm(pm(e.path),s),r=Be(n,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function mm(e,t){const s=[],n=new Map;t=tl({strict:!1,end:!0,sensitive:!1},t);function r(d){return n.get(d)}function a(d,m,y){const P=!y,R=Qi(d);R.aliasOf=y&&y.record;const N=tl(t,d),M=[R];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const A of S)M.push(Qi(Be({},R,{components:y?y.record.components:R.components,path:A,aliasOf:y?y.record:R})))}let E,O;for(const S of M){const{path:A}=S;if(m&&A[0]!=="/"){const k=m.record.path,w=k[k.length-1]==="/"?"":"/";S.path=m.record.path+(A&&w+A)}if(E=hm(S,m,N),y?y.alias.push(E):(O=O||E,O!==E&&O.alias.push(E),P&&d.name&&!el(E)&&i(d.name)),ad(E)&&c(E),R.children){const k=R.children;for(let w=0;w<k.length;w++)a(k[w],E,y&&y.children[w])}y=y||E}return O?()=>{i(O)}:gn}function i(d){if(nd(d)){const m=n.get(d);m&&(n.delete(d),s.splice(s.indexOf(m),1),m.children.forEach(i),m.alias.forEach(i))}else{const m=s.indexOf(d);m>-1&&(s.splice(m,1),d.record.name&&n.delete(d.record.name),d.children.forEach(i),d.alias.forEach(i))}}function l(){return s}function c(d){const m=ym(d,s);s.splice(m,0,d),d.record.name&&!el(d)&&n.set(d.record.name,d)}function f(d,m){let y,P={},R,N;if("name"in d&&d.name){if(y=n.get(d.name),!y)throw Ws(1,{location:d});N=y.record.name,P=Be(Yi(m.params,y.keys.filter(O=>!O.optional).concat(y.parent?y.parent.keys.filter(O=>O.optional):[]).map(O=>O.name)),d.params&&Yi(d.params,y.keys.map(O=>O.name))),R=y.stringify(P)}else if(d.path!=null)R=d.path,y=s.find(O=>O.re.test(R)),y&&(P=y.parse(R),N=y.record.name);else{if(y=m.name?n.get(m.name):s.find(O=>O.re.test(m.path)),!y)throw Ws(1,{location:d,currentLocation:m});N=y.record.name,P=Be({},m.params,d.params),R=y.stringify(P)}const M=[];let E=y;for(;E;)M.unshift(E.record),E=E.parent;return{name:N,path:R,params:P,matched:M,meta:gm(M)}}e.forEach(d=>a(d));function u(){s.length=0,n.clear()}return{addRoute:a,resolve:f,removeRoute:i,clearRoutes:u,getRoutes:l,getRecordMatcher:r}}function Yi(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function Qi(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:vm(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function vm(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function el(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function gm(e){return e.reduce((t,s)=>Be(t,s.meta),{})}function tl(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function ym(e,t){let s=0,n=t.length;for(;s!==n;){const a=s+n>>1;od(e,t[a])<0?n=a:s=a+1}const r=_m(e);return r&&(n=t.lastIndexOf(r,n-1)),n}function _m(e){let t=e;for(;t=t.parent;)if(ad(t)&&od(e,t)===0)return t}function ad({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function bm(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const a=n[r].replace(Xu," "),i=a.indexOf("="),l=$n(i<0?a:a.slice(0,i)),c=i<0?null:$n(a.slice(i+1));if(l in t){let f=t[l];Pt(f)||(f=t[l]=[f]),f.push(c)}else t[l]=c}return t}function sl(e){let t="";for(let s in e){const n=e[s];if(s=Bh(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(Pt(n)?n.map(a=>a&&ka(a)):[n&&ka(n)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+s,a!=null&&(t+="="+a))})}return t}function wm(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=Pt(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return t}const km=Symbol(""),nl=Symbol(""),Nr=Symbol(""),Xa=Symbol(""),Ca=Symbol("");function sn(){let e=[];function t(n){return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function cs(e,t,s,n,r,a=i=>i()){const i=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((l,c)=>{const f=m=>{m===!1?c(Ws(4,{from:s,to:t})):m instanceof Error?c(m):am(m)?c(Ws(2,{from:t,to:m})):(i&&n.enterCallbacks[r]===i&&typeof m=="function"&&i.push(m),l())},u=a(()=>e.call(n&&n.instances[r],t,s,f));let d=Promise.resolve(u);e.length<3&&(d=d.then(f)),d.catch(m=>c(m))})}function ro(e,t,s,n,r=a=>a()){const a=[];for(const i of e)for(const l in i.components){let c=i.components[l];if(!(t!=="beforeRouteEnter"&&!i.instances[l]))if(Ku(c)){const u=(c.__vccOpts||c)[t];u&&a.push(cs(u,s,n,i,l,r))}else{let f=c();a.push(()=>f.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${i.path}"`);const d=Th(u)?u.default:u;i.mods[l]=u,i.components[l]=d;const y=(d.__vccOpts||d)[t];return y&&cs(y,s,n,i,l,r)()}))}}return a}function rl(e){const t=At(Nr),s=At(Xa),n=ke(()=>{const c=Ne(e.to);return t.resolve(c)}),r=ke(()=>{const{matched:c}=n.value,{length:f}=c,u=c[f-1],d=s.matched;if(!u||!d.length)return-1;const m=d.findIndex(Vs.bind(null,u));if(m>-1)return m;const y=ol(c[f-2]);return f>1&&ol(u)===y&&d[d.length-1].path!==y?d.findIndex(Vs.bind(null,c[f-2])):m}),a=ke(()=>r.value>-1&&Em(s.params,n.value.params)),i=ke(()=>r.value>-1&&r.value===s.matched.length-1&&td(s.params,n.value.params));function l(c={}){if($m(c)){const f=t[Ne(e.replace)?"replace":"push"](Ne(e.to)).catch(gn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:n,href:ke(()=>n.value.href),isActive:a,isExactActive:i,navigate:l}}function Sm(e){return e.length===1?e[0]:e}const Cm=_u({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:rl,setup(e,{slots:t}){const s=ss(rl(e)),{options:n}=At(Nr),r=ke(()=>({[al(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[al(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const a=t.default&&Sm(t.default(s));return e.custom?a:Hs("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},a)}}}),Im=Cm;function $m(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Em(e,t){for(const s in t){const n=t[s],r=e[s];if(typeof n=="string"){if(n!==r)return!1}else if(!Pt(r)||r.length!==n.length||n.some((a,i)=>a!==r[i]))return!1}return!0}function ol(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const al=(e,t,s)=>e??t??s,xm=_u({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=At(Ca),r=ke(()=>e.route||n.value),a=At(nl,0),i=ke(()=>{let f=Ne(a);const{matched:u}=r.value;let d;for(;(d=u[f])&&!d.components;)f++;return f}),l=ke(()=>r.value.matched[i.value]);tr(nl,ke(()=>i.value+1)),tr(km,l),tr(Ca,r);const c=H();return Ge(()=>[c.value,l.value,e.name],([f,u,d],[m,y,P])=>{u&&(u.instances[d]=f,y&&y!==u&&f&&f===m&&(u.leaveGuards.size||(u.leaveGuards=y.leaveGuards),u.updateGuards.size||(u.updateGuards=y.updateGuards))),f&&u&&(!y||!Vs(u,y)||!m)&&(u.enterCallbacks[d]||[]).forEach(R=>R(f))},{flush:"post"}),()=>{const f=r.value,u=e.name,d=l.value,m=d&&d.components[u];if(!m)return il(s.default,{Component:m,route:f});const y=d.props[u],P=y?y===!0?f.params:typeof y=="function"?y(f):y:null,N=Hs(m,Be({},P,t,{onVnodeUnmounted:M=>{M.component.isUnmounted&&(d.instances[u]=null)},ref:c}));return il(s.default,{Component:N,route:f})||N}}});function il(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Tm=xm;function Am(e){const t=mm(e.routes,e),s=e.parseQuery||bm,n=e.stringifyQuery||sl,r=e.history,a=sn(),i=sn(),l=sn(),c=Of(os);let f=os;Ls&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=so.bind(null,V=>""+V),d=so.bind(null,Hh),m=so.bind(null,$n);function y(V,oe){let ee,ae;return nd(V)?(ee=t.getRecordMatcher(V),ae=oe):ae=V,t.addRoute(ae,ee)}function P(V){const oe=t.getRecordMatcher(V);oe&&t.removeRoute(oe)}function R(){return t.getRoutes().map(V=>V.record)}function N(V){return!!t.getRecordMatcher(V)}function M(V,oe){if(oe=Be({},oe||c.value),typeof V=="string"){const I=no(s,V,oe.path),U=t.resolve({path:I.path},oe),Z=r.createHref(I.fullPath);return Be(I,U,{params:m(U.params),hash:$n(I.hash),redirectedFrom:void 0,href:Z})}let ee;if(V.path!=null)ee=Be({},V,{path:no(s,V.path,oe.path).path});else{const I=Be({},V.params);for(const U in I)I[U]==null&&delete I[U];ee=Be({},V,{params:d(I)}),oe.params=d(oe.params)}const ae=t.resolve(ee,oe),Y=V.hash||"";ae.params=u(m(ae.params));const p=Wh(n,Be({},V,{hash:jh(Y),path:ae.path})),h=r.createHref(p);return Be({fullPath:p,hash:Y,query:n===sl?wm(V.query):V.query||{}},ae,{redirectedFrom:void 0,href:h})}function E(V){return typeof V=="string"?no(s,V,c.value.path):Be({},V)}function O(V,oe){if(f!==V)return Ws(8,{from:oe,to:V})}function S(V){return w(V)}function A(V){return S(Be(E(V),{replace:!0}))}function k(V){const oe=V.matched[V.matched.length-1];if(oe&&oe.redirect){const{redirect:ee}=oe;let ae=typeof ee=="function"?ee(V):ee;return typeof ae=="string"&&(ae=ae.includes("?")||ae.includes("#")?ae=E(ae):{path:ae},ae.params={}),Be({query:V.query,hash:V.hash,params:ae.path!=null?{}:V.params},ae)}}function w(V,oe){const ee=f=M(V),ae=c.value,Y=V.state,p=V.force,h=V.replace===!0,I=k(ee);if(I)return w(Be(E(I),{state:typeof I=="object"?Be({},Y,I.state):Y,force:p,replace:h}),oe||ee);const U=ee;U.redirectedFrom=oe;let Z;return!p&&zh(n,ae,ee)&&(Z=Ws(16,{to:U,from:ae}),j(ae,ae,!0,!1)),(Z?Promise.resolve(Z):X(U,ae)).catch(K=>Gt(K)?Gt(K,2)?K:g(K):L(K,U,ae)).then(K=>{if(K){if(Gt(K,2))return w(Be({replace:h},E(K.to),{state:typeof K.to=="object"?Be({},Y,K.to.state):Y,force:p}),oe||U)}else K=x(U,ae,!0,h,Y);return J(U,ae,K),K})}function C(V,oe){const ee=O(V,oe);return ee?Promise.reject(ee):Promise.resolve()}function z(V){const oe=F.values().next().value;return oe&&typeof oe.runWithContext=="function"?oe.runWithContext(V):V()}function X(V,oe){let ee;const[ae,Y,p]=Rm(V,oe);ee=ro(ae.reverse(),"beforeRouteLeave",V,oe);for(const I of ae)I.leaveGuards.forEach(U=>{ee.push(cs(U,V,oe))});const h=C.bind(null,V,oe);return ee.push(h),de(ee).then(()=>{ee=[];for(const I of a.list())ee.push(cs(I,V,oe));return ee.push(h),de(ee)}).then(()=>{ee=ro(Y,"beforeRouteUpdate",V,oe);for(const I of Y)I.updateGuards.forEach(U=>{ee.push(cs(U,V,oe))});return ee.push(h),de(ee)}).then(()=>{ee=[];for(const I of p)if(I.beforeEnter)if(Pt(I.beforeEnter))for(const U of I.beforeEnter)ee.push(cs(U,V,oe));else ee.push(cs(I.beforeEnter,V,oe));return ee.push(h),de(ee)}).then(()=>(V.matched.forEach(I=>I.enterCallbacks={}),ee=ro(p,"beforeRouteEnter",V,oe,z),ee.push(h),de(ee))).then(()=>{ee=[];for(const I of i.list())ee.push(cs(I,V,oe));return ee.push(h),de(ee)}).catch(I=>Gt(I,8)?I:Promise.reject(I))}function J(V,oe,ee){l.list().forEach(ae=>z(()=>ae(V,oe,ee)))}function x(V,oe,ee,ae,Y){const p=O(V,oe);if(p)return p;const h=oe===os,I=Ls?history.state:{};ee&&(ae||h?r.replace(V.fullPath,Be({scroll:h&&I&&I.scroll},Y)):r.push(V.fullPath,Y)),c.value=V,j(V,oe,ee,h),g()}let q;function se(){q||(q=r.listen((V,oe,ee)=>{if(!re.listening)return;const ae=M(V),Y=k(ae);if(Y){w(Be(Y,{replace:!0,force:!0}),ae).catch(gn);return}f=ae;const p=c.value;Ls&&em(Ji(p.fullPath,ee.delta),Or()),X(ae,p).catch(h=>Gt(h,12)?h:Gt(h,2)?(w(Be(E(h.to),{force:!0}),ae).then(I=>{Gt(I,20)&&!ee.delta&&ee.type===En.pop&&r.go(-1,!1)}).catch(gn),Promise.reject()):(ee.delta&&r.go(-ee.delta,!1),L(h,ae,p))).then(h=>{h=h||x(ae,p,!1),h&&(ee.delta&&!Gt(h,8)?r.go(-ee.delta,!1):ee.type===En.pop&&Gt(h,20)&&r.go(-1,!1)),J(ae,p,h)}).catch(gn)}))}let ie=sn(),he=sn(),te;function L(V,oe,ee){g(V);const ae=he.list();return ae.length?ae.forEach(Y=>Y(V,oe,ee)):console.error(V),Promise.reject(V)}function v(){return te&&c.value!==os?Promise.resolve():new Promise((V,oe)=>{ie.add([V,oe])})}function g(V){return te||(te=!V,se(),ie.list().forEach(([oe,ee])=>V?ee(V):oe()),ie.reset()),V}function j(V,oe,ee,ae){const{scrollBehavior:Y}=e;if(!Ls||!Y)return Promise.resolve();const p=!ee&&tm(Ji(V.fullPath,0))||(ae||!ee)&&history.state&&history.state.scroll||null;return Ht().then(()=>Y(V,oe,p)).then(h=>h&&Qh(h)).catch(h=>L(h,V,oe))}const D=V=>r.go(V);let $;const F=new Set,re={currentRoute:c,listening:!0,addRoute:y,removeRoute:P,clearRoutes:t.clearRoutes,hasRoute:N,getRoutes:R,resolve:M,options:e,push:S,replace:A,go:D,back:()=>D(-1),forward:()=>D(1),beforeEach:a.add,beforeResolve:i.add,afterEach:l.add,onError:he.add,isReady:v,install(V){const oe=this;V.component("RouterLink",Im),V.component("RouterView",Tm),V.config.globalProperties.$router=oe,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>Ne(c)}),Ls&&!$&&c.value===os&&($=!0,S(r.location).catch(Y=>{}));const ee={};for(const Y in os)Object.defineProperty(ee,Y,{get:()=>c.value[Y],enumerable:!0});V.provide(Nr,oe),V.provide(Xa,ru(ee)),V.provide(Ca,c);const ae=V.unmount;F.add(V),V.unmount=function(){F.delete(V),F.size<1&&(f=os,q&&q(),q=null,c.value=os,$=!1,te=!1),ae()}}};function de(V){return V.reduce((oe,ee)=>oe.then(()=>z(ee)),Promise.resolve())}return re}function Rm(e,t){const s=[],n=[],r=[],a=Math.max(t.matched.length,e.matched.length);for(let i=0;i<a;i++){const l=t.matched[i];l&&(e.matched.find(f=>Vs(f,l))?n.push(l):s.push(l));const c=e.matched[i];c&&(t.matched.find(f=>Vs(f,c))||r.push(c))}return[s,n,r]}function Qe(){return At(Nr)}function Vt(e){return At(Xa)}class ln extends Error{}ln.prototype.name="InvalidTokenError";function Pm(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,s)=>{let n=s.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function Om(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Pm(t)}catch{return atob(t)}}function Nn(e,t){if(typeof e!="string")throw new ln("Invalid token specified: must be a string");t||(t={});const s=t.header===!0?0:1,n=e.split(".")[s];if(typeof n!="string")throw new ln(`Invalid token specified: missing part #${s+1}`);let r;try{r=Om(n)}catch(a){throw new ln(`Invalid token specified: invalid base64 for part #${s+1} (${a.message})`)}try{return JSON.parse(r)}catch(a){throw new ln(`Invalid token specified: invalid json for part #${s+1} (${a.message})`)}}const Se=ss({userId:"",currentUser:"",id:null,name:null,role:null,email:null,phone:null}),Ln=()=>{Se.userId=Se.id,Se.currentUser=Se.name,console.log("🔄 사용자 상태 동기화:",{id:Se.id,name:Se.name,userId:Se.userId,currentUser:Se.currentUser})};function Nm(e,t="NORMAL",s=null){localStorage.setItem("jwt",e),localStorage.setItem("login_type",t),t==="SOCIAL"&&s&&(s.provider&&localStorage.setItem("social_provider",s.provider),s.name&&localStorage.setItem("social_name",s.name),s.email&&localStorage.setItem("social_email",s.email));const n=vs(e);return Ln(),n}function vs(e){var t;try{const s=Nn(e);Se.id=s.sub||s.username||null;const n=localStorage.getItem("social_name");n?Se.name=n:s.name&&s.name.trim()&&s.name!=="사용자"?Se.name=s.name.trim():Se.name=Se.id||"사용자";const r=localStorage.getItem("social_email");if(r)Se.email=r;else{const a=["email","mail","userEmail","emailAddress"];for(const i of a)if(s[i]){Se.email=s[i];break}}return Se.role=s.role||((t=s.authorities)==null?void 0:t[0])||"USER",s.phone&&(Se.phone=s.phone),Ln(),!0}catch(s){return console.error("❌ 토큰 파싱 실패:",s),Gs(),!1}}function Ya(){const e=localStorage.getItem("jwt");e&&id(e)?vs(e):Gs()}function id(e){if(!e)return!1;try{const t=Nn(e),s=Math.floor(Date.now()/1e3);return!(t.exp&&t.exp<s)}catch{return!1}}function Gs(){Se.id=null,Se.name=null,Se.role=null,Se.email=null,Se.phone=null,Se.userId="",Se.currentUser="",["jwt","login_type","social_provider","social_name","social_email"].forEach(t=>localStorage.removeItem(t)),console.log("🧹 사용자 상태 완전 초기화")}function Lm(){return!!Se.id&&!!localStorage.getItem("jwt")}const xn=()=>localStorage.getItem("login_type")==="SOCIAL",ld=()=>xn()?localStorage.getItem("social_provider"):null;function Dm(e){return e?(Se.id=e.userId||e.id||Se.id,e.name&&e.name.trim()&&e.name!=="사용자"&&(Se.name=e.name.trim()),e.email&&e.email.trim()&&(Se.email=e.email.trim()),e.phone&&e.phone.trim()&&(Se.phone=e.phone.trim()),Se.role=e.role||Se.role||"USER",Ln(),!0):!1}function Mm(){return Se.name&&Se.name.trim()&&Se.name!=="사용자"&&localStorage.setItem("payment_user_name",Se.name),Se.email&&Se.email.trim()&&localStorage.setItem("payment_user_email",Se.email),Se.phone&&Se.phone.trim()&&localStorage.setItem("payment_user_phone",Se.phone),!0}function Um(){const e=localStorage.getItem("payment_user_name"),t=localStorage.getItem("payment_user_email"),s=localStorage.getItem("payment_user_phone");return e&&(Se.name=e,localStorage.removeItem("payment_user_name")),t&&(Se.email=t,localStorage.removeItem("payment_user_email")),s&&(Se.phone=s,localStorage.removeItem("payment_user_phone")),Ln(),!0}function jm(e,t,s=null,n=null,r=null){return Nm(e,"SOCIAL",{provider:t,name:s,email:n})}function Bm(){Ln()}function qm(){console.log("🔍 현재 사용자 상태:",{id:Se.id,name:Se.name,role:Se.role,email:Se.email,phone:Se.phone,userId:Se.userId,currentUser:Se.currentUser,hasToken:!!localStorage.getItem("jwt"),loginType:localStorage.getItem("login_type"),socialProvider:localStorage.getItem("social_provider"),socialName:localStorage.getItem("social_name"),isLoggedIn:Lm(),isSocial:xn()})}const ce=Se;Ya();typeof window<"u"&&(window.userDebug={checkUserState:qm,forceSyncUserStates:Bm,resetUser:Gs,initializeUser:Ya,userState:Se,user:Se});function cd(e,t){return function(){return e.apply(t,arguments)}}const{toString:Hm}=Object.prototype,{getPrototypeOf:Qa}=Object,{iterator:Lr,toStringTag:ud}=Symbol,Dr=(e=>t=>{const s=Hm.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ot=e=>(e=e.toLowerCase(),t=>Dr(t)===e),Mr=e=>t=>typeof t===e,{isArray:Ks}=Array,Tn=Mr("undefined");function Fm(e){return e!==null&&!Tn(e)&&e.constructor!==null&&!Tn(e.constructor)&&ft(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const dd=Ot("ArrayBuffer");function Vm(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&dd(e.buffer),t}const Wm=Mr("string"),ft=Mr("function"),fd=Mr("number"),Ur=e=>e!==null&&typeof e=="object",zm=e=>e===!0||e===!1,or=e=>{if(Dr(e)!=="object")return!1;const t=Qa(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ud in e)&&!(Lr in e)},Jm=Ot("Date"),Gm=Ot("File"),Km=Ot("Blob"),Zm=Ot("FileList"),Xm=e=>Ur(e)&&ft(e.pipe),Ym=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ft(e.append)&&((t=Dr(e))==="formdata"||t==="object"&&ft(e.toString)&&e.toString()==="[object FormData]"))},Qm=Ot("URLSearchParams"),[ev,tv,sv,nv]=["ReadableStream","Request","Response","Headers"].map(Ot),rv=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dn(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,r;if(typeof e!="object"&&(e=[e]),Ks(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const a=s?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(n=0;n<i;n++)l=a[n],t.call(null,e[l],l,e)}}function pd(e,t){t=t.toLowerCase();const s=Object.keys(e);let n=s.length,r;for(;n-- >0;)if(r=s[n],t===r.toLowerCase())return r;return null}const $s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,hd=e=>!Tn(e)&&e!==$s;function Ia(){const{caseless:e}=hd(this)&&this||{},t={},s=(n,r)=>{const a=e&&pd(t,r)||r;or(t[a])&&or(n)?t[a]=Ia(t[a],n):or(n)?t[a]=Ia({},n):Ks(n)?t[a]=n.slice():t[a]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&Dn(arguments[n],s);return t}const ov=(e,t,s,{allOwnKeys:n}={})=>(Dn(t,(r,a)=>{s&&ft(r)?e[a]=cd(r,s):e[a]=r},{allOwnKeys:n}),e),av=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),iv=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},lv=(e,t,s,n)=>{let r,a,i;const l={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)i=r[a],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=s!==!1&&Qa(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},cv=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},uv=e=>{if(!e)return null;if(Ks(e))return e;let t=e.length;if(!fd(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},dv=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Qa(Uint8Array)),fv=(e,t)=>{const n=(e&&e[Lr]).call(e);let r;for(;(r=n.next())&&!r.done;){const a=r.value;t.call(e,a[0],a[1])}},pv=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},hv=Ot("HTMLFormElement"),mv=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,r){return n.toUpperCase()+r}),ll=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),vv=Ot("RegExp"),md=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};Dn(s,(r,a)=>{let i;(i=t(r,a,e))!==!1&&(n[a]=i||r)}),Object.defineProperties(e,n)},gv=e=>{md(e,(t,s)=>{if(ft(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(ft(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},yv=(e,t)=>{const s={},n=r=>{r.forEach(a=>{s[a]=!0})};return Ks(e)?n(e):n(String(e).split(t)),s},_v=()=>{},bv=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function wv(e){return!!(e&&ft(e.append)&&e[ud]==="FormData"&&e[Lr])}const kv=e=>{const t=new Array(10),s=(n,r)=>{if(Ur(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;const a=Ks(n)?[]:{};return Dn(n,(i,l)=>{const c=s(i,r+1);!Tn(c)&&(a[l]=c)}),t[r]=void 0,a}}return n};return s(e,0)},Sv=Ot("AsyncFunction"),Cv=e=>e&&(Ur(e)||ft(e))&&ft(e.then)&&ft(e.catch),vd=((e,t)=>e?setImmediate:t?((s,n)=>($s.addEventListener("message",({source:r,data:a})=>{r===$s&&a===s&&n.length&&n.shift()()},!1),r=>{n.push(r),$s.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ft($s.postMessage)),Iv=typeof queueMicrotask<"u"?queueMicrotask.bind($s):typeof process<"u"&&process.nextTick||vd,$v=e=>e!=null&&ft(e[Lr]),Q={isArray:Ks,isArrayBuffer:dd,isBuffer:Fm,isFormData:Ym,isArrayBufferView:Vm,isString:Wm,isNumber:fd,isBoolean:zm,isObject:Ur,isPlainObject:or,isReadableStream:ev,isRequest:tv,isResponse:sv,isHeaders:nv,isUndefined:Tn,isDate:Jm,isFile:Gm,isBlob:Km,isRegExp:vv,isFunction:ft,isStream:Xm,isURLSearchParams:Qm,isTypedArray:dv,isFileList:Zm,forEach:Dn,merge:Ia,extend:ov,trim:rv,stripBOM:av,inherits:iv,toFlatObject:lv,kindOf:Dr,kindOfTest:Ot,endsWith:cv,toArray:uv,forEachEntry:fv,matchAll:pv,isHTMLForm:hv,hasOwnProperty:ll,hasOwnProp:ll,reduceDescriptors:md,freezeMethods:gv,toObjectSet:yv,toCamelCase:mv,noop:_v,toFiniteNumber:bv,findKey:pd,global:$s,isContextDefined:hd,isSpecCompliantForm:wv,toJSONObject:kv,isAsyncFn:Sv,isThenable:Cv,setImmediate:vd,asap:Iv,isIterable:$v};function Pe(e,t,s,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}Q.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const gd=Pe.prototype,yd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{yd[e]={value:e}});Object.defineProperties(Pe,yd);Object.defineProperty(gd,"isAxiosError",{value:!0});Pe.from=(e,t,s,n,r,a)=>{const i=Object.create(gd);return Q.toFlatObject(e,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Pe.call(i,e.message,t,s,n,r),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const Ev=null;function $a(e){return Q.isPlainObject(e)||Q.isArray(e)}function _d(e){return Q.endsWith(e,"[]")?e.slice(0,-2):e}function cl(e,t,s){return e?e.concat(t).map(function(r,a){return r=_d(r),!s&&a?"["+r+"]":r}).join(s?".":""):t}function xv(e){return Q.isArray(e)&&!e.some($a)}const Tv=Q.toFlatObject(Q,{},null,function(t){return/^is[A-Z]/.test(t)});function jr(e,t,s){if(!Q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=Q.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,N){return!Q.isUndefined(N[R])});const n=s.metaTokens,r=s.visitor||u,a=s.dots,i=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(t);if(!Q.isFunction(r))throw new TypeError("visitor must be a function");function f(P){if(P===null)return"";if(Q.isDate(P))return P.toISOString();if(Q.isBoolean(P))return P.toString();if(!c&&Q.isBlob(P))throw new Pe("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(P)||Q.isTypedArray(P)?c&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function u(P,R,N){let M=P;if(P&&!N&&typeof P=="object"){if(Q.endsWith(R,"{}"))R=n?R:R.slice(0,-2),P=JSON.stringify(P);else if(Q.isArray(P)&&xv(P)||(Q.isFileList(P)||Q.endsWith(R,"[]"))&&(M=Q.toArray(P)))return R=_d(R),M.forEach(function(O,S){!(Q.isUndefined(O)||O===null)&&t.append(i===!0?cl([R],S,a):i===null?R:R+"[]",f(O))}),!1}return $a(P)?!0:(t.append(cl(N,R,a),f(P)),!1)}const d=[],m=Object.assign(Tv,{defaultVisitor:u,convertValue:f,isVisitable:$a});function y(P,R){if(!Q.isUndefined(P)){if(d.indexOf(P)!==-1)throw Error("Circular reference detected in "+R.join("."));d.push(P),Q.forEach(P,function(M,E){(!(Q.isUndefined(M)||M===null)&&r.call(t,M,Q.isString(E)?E.trim():E,R,m))===!0&&y(M,R?R.concat(E):[E])}),d.pop()}}if(!Q.isObject(e))throw new TypeError("data must be an object");return y(e),t}function ul(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function ei(e,t){this._pairs=[],e&&jr(e,this,t)}const bd=ei.prototype;bd.append=function(t,s){this._pairs.push([t,s])};bd.toString=function(t){const s=t?function(n){return t.call(this,n,ul)}:ul;return this._pairs.map(function(r){return s(r[0])+"="+s(r[1])},"").join("&")};function Av(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function wd(e,t,s){if(!t)return e;const n=s&&s.encode||Av;Q.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let a;if(r?a=r(t,s):a=Q.isURLSearchParams(t)?t.toString():new ei(t,s).toString(n),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class dl{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Q.forEach(this.handlers,function(n){n!==null&&t(n)})}}const kd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rv=typeof URLSearchParams<"u"?URLSearchParams:ei,Pv=typeof FormData<"u"?FormData:null,Ov=typeof Blob<"u"?Blob:null,Nv={isBrowser:!0,classes:{URLSearchParams:Rv,FormData:Pv,Blob:Ov},protocols:["http","https","file","blob","url","data"]},ti=typeof window<"u"&&typeof document<"u",Ea=typeof navigator=="object"&&navigator||void 0,Lv=ti&&(!Ea||["ReactNative","NativeScript","NS"].indexOf(Ea.product)<0),Dv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Mv=ti&&window.location.href||"http://localhost",Uv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ti,hasStandardBrowserEnv:Lv,hasStandardBrowserWebWorkerEnv:Dv,navigator:Ea,origin:Mv},Symbol.toStringTag,{value:"Module"})),nt={...Uv,...Nv};function jv(e,t){return jr(e,new nt.classes.URLSearchParams,Object.assign({visitor:function(s,n,r,a){return nt.isNode&&Q.isBuffer(s)?(this.append(n,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function Bv(e){return Q.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function qv(e){const t={},s=Object.keys(e);let n;const r=s.length;let a;for(n=0;n<r;n++)a=s[n],t[a]=e[a];return t}function Sd(e){function t(s,n,r,a){let i=s[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=a>=s.length;return i=!i&&Q.isArray(r)?r.length:i,c?(Q.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!l):((!r[i]||!Q.isObject(r[i]))&&(r[i]=[]),t(s,n,r[i],a)&&Q.isArray(r[i])&&(r[i]=qv(r[i])),!l)}if(Q.isFormData(e)&&Q.isFunction(e.entries)){const s={};return Q.forEachEntry(e,(n,r)=>{t(Bv(n),r,s,0)}),s}return null}function Hv(e,t,s){if(Q.isString(e))try{return(t||JSON.parse)(e),Q.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const Mn={transitional:kd,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",r=n.indexOf("application/json")>-1,a=Q.isObject(t);if(a&&Q.isHTMLForm(t)&&(t=new FormData(t)),Q.isFormData(t))return r?JSON.stringify(Sd(t)):t;if(Q.isArrayBuffer(t)||Q.isBuffer(t)||Q.isStream(t)||Q.isFile(t)||Q.isBlob(t)||Q.isReadableStream(t))return t;if(Q.isArrayBufferView(t))return t.buffer;if(Q.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return jv(t,this.formSerializer).toString();if((l=Q.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return jr(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||r?(s.setContentType("application/json",!1),Hv(t)):t}],transformResponse:[function(t){const s=this.transitional||Mn.transitional,n=s&&s.forcedJSONParsing,r=this.responseType==="json";if(Q.isResponse(t)||Q.isReadableStream(t))return t;if(t&&Q.isString(t)&&(n&&!this.responseType||r)){const i=!(s&&s.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?Pe.from(l,Pe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nt.classes.FormData,Blob:nt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],e=>{Mn.headers[e]={}});const Fv=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vv=e=>{const t={};let s,n,r;return e&&e.split(`
`).forEach(function(i){r=i.indexOf(":"),s=i.substring(0,r).trim().toLowerCase(),n=i.substring(r+1).trim(),!(!s||t[s]&&Fv[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},fl=Symbol("internals");function nn(e){return e&&String(e).trim().toLowerCase()}function ar(e){return e===!1||e==null?e:Q.isArray(e)?e.map(ar):String(e)}function Wv(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const zv=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function oo(e,t,s,n,r){if(Q.isFunction(n))return n.call(this,t,s);if(r&&(t=s),!!Q.isString(t)){if(Q.isString(n))return t.indexOf(n)!==-1;if(Q.isRegExp(n))return n.test(t)}}function Jv(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function Gv(e,t){const s=Q.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(r,a,i){return this[n].call(this,t,r,a,i)},configurable:!0})})}let pt=class{constructor(t){t&&this.set(t)}set(t,s,n){const r=this;function a(l,c,f){const u=nn(c);if(!u)throw new Error("header name must be a non-empty string");const d=Q.findKey(r,u);(!d||r[d]===void 0||f===!0||f===void 0&&r[d]!==!1)&&(r[d||c]=ar(l))}const i=(l,c)=>Q.forEach(l,(f,u)=>a(f,u,c));if(Q.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(Q.isString(t)&&(t=t.trim())&&!zv(t))i(Vv(t),s);else if(Q.isObject(t)&&Q.isIterable(t)){let l={},c,f;for(const u of t){if(!Q.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[f=u[0]]=(c=l[f])?Q.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(l,s)}else t!=null&&a(s,t,n);return this}get(t,s){if(t=nn(t),t){const n=Q.findKey(this,t);if(n){const r=this[n];if(!s)return r;if(s===!0)return Wv(r);if(Q.isFunction(s))return s.call(this,r,n);if(Q.isRegExp(s))return s.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=nn(t),t){const n=Q.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||oo(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let r=!1;function a(i){if(i=nn(i),i){const l=Q.findKey(n,i);l&&(!s||oo(n,n[l],l,s))&&(delete n[l],r=!0)}}return Q.isArray(t)?t.forEach(a):a(t),r}clear(t){const s=Object.keys(this);let n=s.length,r=!1;for(;n--;){const a=s[n];(!t||oo(this,this[a],a,t,!0))&&(delete this[a],r=!0)}return r}normalize(t){const s=this,n={};return Q.forEach(this,(r,a)=>{const i=Q.findKey(n,a);if(i){s[i]=ar(r),delete s[a];return}const l=t?Jv(a):String(a).trim();l!==a&&delete s[a],s[l]=ar(r),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return Q.forEach(this,(n,r)=>{n!=null&&n!==!1&&(s[r]=t&&Q.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(r=>n.set(r)),n}static accessor(t){const n=(this[fl]=this[fl]={accessors:{}}).accessors,r=this.prototype;function a(i){const l=nn(i);n[l]||(Gv(r,i),n[l]=!0)}return Q.isArray(t)?t.forEach(a):a(t),this}};pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(pt.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});Q.freezeMethods(pt);function ao(e,t){const s=this||Mn,n=t||s,r=pt.from(n.headers);let a=n.data;return Q.forEach(e,function(l){a=l.call(s,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function Cd(e){return!!(e&&e.__CANCEL__)}function Zs(e,t,s){Pe.call(this,e??"canceled",Pe.ERR_CANCELED,t,s),this.name="CanceledError"}Q.inherits(Zs,Pe,{__CANCEL__:!0});function Id(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new Pe("Request failed with status code "+s.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Kv(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Zv(e,t){e=e||10;const s=new Array(e),n=new Array(e);let r=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const f=Date.now(),u=n[a];i||(i=f),s[r]=c,n[r]=f;let d=a,m=0;for(;d!==r;)m+=s[d++],d=d%e;if(r=(r+1)%e,r===a&&(a=(a+1)%e),f-i<t)return;const y=u&&f-u;return y?Math.round(m*1e3/y):void 0}}function Xv(e,t){let s=0,n=1e3/t,r,a;const i=(f,u=Date.now())=>{s=u,r=null,a&&(clearTimeout(a),a=null),e.apply(null,f)};return[(...f)=>{const u=Date.now(),d=u-s;d>=n?i(f,u):(r=f,a||(a=setTimeout(()=>{a=null,i(r)},n-d)))},()=>r&&i(r)]}const gr=(e,t,s=3)=>{let n=0;const r=Zv(50,250);return Xv(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,c=i-n,f=r(c),u=i<=l;n=i;const d={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:f||void 0,estimated:f&&l&&u?(l-i)/f:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(d)},s)},pl=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},hl=e=>(...t)=>Q.asap(()=>e(...t)),Yv=nt.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,nt.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(nt.origin),nt.navigator&&/(msie|trident)/i.test(nt.navigator.userAgent)):()=>!0,Qv=nt.hasStandardBrowserEnv?{write(e,t,s,n,r,a){const i=[e+"="+encodeURIComponent(t)];Q.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),Q.isString(n)&&i.push("path="+n),Q.isString(r)&&i.push("domain="+r),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function eg(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function tg(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function $d(e,t,s){let n=!eg(t);return e&&(n||s==!1)?tg(e,t):t}const ml=e=>e instanceof pt?{...e}:e;function As(e,t){t=t||{};const s={};function n(f,u,d,m){return Q.isPlainObject(f)&&Q.isPlainObject(u)?Q.merge.call({caseless:m},f,u):Q.isPlainObject(u)?Q.merge({},u):Q.isArray(u)?u.slice():u}function r(f,u,d,m){if(Q.isUndefined(u)){if(!Q.isUndefined(f))return n(void 0,f,d,m)}else return n(f,u,d,m)}function a(f,u){if(!Q.isUndefined(u))return n(void 0,u)}function i(f,u){if(Q.isUndefined(u)){if(!Q.isUndefined(f))return n(void 0,f)}else return n(void 0,u)}function l(f,u,d){if(d in t)return n(f,u);if(d in e)return n(void 0,f)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(f,u,d)=>r(ml(f),ml(u),d,!0)};return Q.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=c[u]||r,m=d(e[u],t[u],u);Q.isUndefined(m)&&d!==l||(s[u]=m)}),s}const Ed=e=>{const t=As({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:a,headers:i,auth:l}=t;t.headers=i=pt.from(i),t.url=wd($d(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Q.isFormData(s)){if(nt.hasStandardBrowserEnv||nt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[f,...u]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];i.setContentType([f||"multipart/form-data",...u].join("; "))}}if(nt.hasStandardBrowserEnv&&(n&&Q.isFunction(n)&&(n=n(t)),n||n!==!1&&Yv(t.url))){const f=r&&a&&Qv.read(a);f&&i.set(r,f)}return t},sg=typeof XMLHttpRequest<"u",ng=sg&&function(e){return new Promise(function(s,n){const r=Ed(e);let a=r.data;const i=pt.from(r.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:f}=r,u,d,m,y,P;function R(){y&&y(),P&&P(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let N=new XMLHttpRequest;N.open(r.method.toUpperCase(),r.url,!0),N.timeout=r.timeout;function M(){if(!N)return;const O=pt.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:O,config:e,request:N};Id(function(w){s(w),R()},function(w){n(w),R()},A),N=null}"onloadend"in N?N.onloadend=M:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(M)},N.onabort=function(){N&&(n(new Pe("Request aborted",Pe.ECONNABORTED,e,N)),N=null)},N.onerror=function(){n(new Pe("Network Error",Pe.ERR_NETWORK,e,N)),N=null},N.ontimeout=function(){let S=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const A=r.transitional||kd;r.timeoutErrorMessage&&(S=r.timeoutErrorMessage),n(new Pe(S,A.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,e,N)),N=null},a===void 0&&i.setContentType(null),"setRequestHeader"in N&&Q.forEach(i.toJSON(),function(S,A){N.setRequestHeader(A,S)}),Q.isUndefined(r.withCredentials)||(N.withCredentials=!!r.withCredentials),l&&l!=="json"&&(N.responseType=r.responseType),f&&([m,P]=gr(f,!0),N.addEventListener("progress",m)),c&&N.upload&&([d,y]=gr(c),N.upload.addEventListener("progress",d),N.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(u=O=>{N&&(n(!O||O.type?new Zs(null,e,N):O),N.abort(),N=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const E=Kv(r.url);if(E&&nt.protocols.indexOf(E)===-1){n(new Pe("Unsupported protocol "+E+":",Pe.ERR_BAD_REQUEST,e));return}N.send(a||null)})},rg=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,r;const a=function(f){if(!r){r=!0,l();const u=f instanceof Error?f:this.reason;n.abort(u instanceof Pe?u:new Zs(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,a(new Pe(`timeout ${t} of ms exceeded`,Pe.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),e=null)};e.forEach(f=>f.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>Q.asap(l),c}},og=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,r;for(;n<s;)r=n+t,yield e.slice(n,r),n=r},ag=async function*(e,t){for await(const s of ig(e))yield*og(s,t)},ig=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},vl=(e,t,s,n)=>{const r=ag(e,t);let a=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:f,value:u}=await r.next();if(f){l(),c.close();return}let d=u.byteLength;if(s){let m=a+=d;s(m)}c.enqueue(new Uint8Array(u))}catch(f){throw l(f),f}},cancel(c){return l(c),r.return()}},{highWaterMark:2})},Br=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xd=Br&&typeof ReadableStream=="function",lg=Br&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Td=(e,...t)=>{try{return!!e(...t)}catch{return!1}},cg=xd&&Td(()=>{let e=!1;const t=new Request(nt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),gl=64*1024,xa=xd&&Td(()=>Q.isReadableStream(new Response("").body)),yr={stream:xa&&(e=>e.body)};Br&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!yr[t]&&(yr[t]=Q.isFunction(e[t])?s=>s[t]():(s,n)=>{throw new Pe(`Response type '${t}' is not supported`,Pe.ERR_NOT_SUPPORT,n)})})})(new Response);const ug=async e=>{if(e==null)return 0;if(Q.isBlob(e))return e.size;if(Q.isSpecCompliantForm(e))return(await new Request(nt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(e)||Q.isArrayBuffer(e))return e.byteLength;if(Q.isURLSearchParams(e)&&(e=e+""),Q.isString(e))return(await lg(e)).byteLength},dg=async(e,t)=>{const s=Q.toFiniteNumber(e.getContentLength());return s??ug(t)},fg=Br&&(async e=>{let{url:t,method:s,data:n,signal:r,cancelToken:a,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:f,headers:u,withCredentials:d="same-origin",fetchOptions:m}=Ed(e);f=f?(f+"").toLowerCase():"text";let y=rg([r,a&&a.toAbortSignal()],i),P;const R=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let N;try{if(c&&cg&&s!=="get"&&s!=="head"&&(N=await dg(u,n))!==0){let A=new Request(t,{method:"POST",body:n,duplex:"half"}),k;if(Q.isFormData(n)&&(k=A.headers.get("content-type"))&&u.setContentType(k),A.body){const[w,C]=pl(N,gr(hl(c)));n=vl(A.body,gl,w,C)}}Q.isString(d)||(d=d?"include":"omit");const M="credentials"in Request.prototype;P=new Request(t,{...m,signal:y,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:M?d:void 0});let E=await fetch(P,m);const O=xa&&(f==="stream"||f==="response");if(xa&&(l||O&&R)){const A={};["status","statusText","headers"].forEach(z=>{A[z]=E[z]});const k=Q.toFiniteNumber(E.headers.get("content-length")),[w,C]=l&&pl(k,gr(hl(l),!0))||[];E=new Response(vl(E.body,gl,w,()=>{C&&C(),R&&R()}),A)}f=f||"text";let S=await yr[Q.findKey(yr,f)||"text"](E,e);return!O&&R&&R(),await new Promise((A,k)=>{Id(A,k,{data:S,headers:pt.from(E.headers),status:E.status,statusText:E.statusText,config:e,request:P})})}catch(M){throw R&&R(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,e,P),{cause:M.cause||M}):Pe.from(M,M&&M.code,e,P)}}),Ta={http:Ev,xhr:ng,fetch:fg};Q.forEach(Ta,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const yl=e=>`- ${e}`,pg=e=>Q.isFunction(e)||e===null||e===!1,Ad={getAdapter:e=>{e=Q.isArray(e)?e:[e];const{length:t}=e;let s,n;const r={};for(let a=0;a<t;a++){s=e[a];let i;if(n=s,!pg(s)&&(n=Ta[(i=String(s)).toLowerCase()],n===void 0))throw new Pe(`Unknown adapter '${i}'`);if(n)break;r[i||"#"+a]=n}if(!n){const a=Object.entries(r).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?a.length>1?`since :
`+a.map(yl).join(`
`):" "+yl(a[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:Ta};function io(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Zs(null,e)}function _l(e){return io(e),e.headers=pt.from(e.headers),e.data=ao.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ad.getAdapter(e.adapter||Mn.adapter)(e).then(function(n){return io(e),n.data=ao.call(e,e.transformResponse,n),n.headers=pt.from(n.headers),n},function(n){return Cd(n)||(io(e),n&&n.response&&(n.response.data=ao.call(e,e.transformResponse,n.response),n.response.headers=pt.from(n.response.headers))),Promise.reject(n)})}const Rd="1.10.0",qr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{qr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const bl={};qr.transitional=function(t,s,n){function r(a,i){return"[Axios v"+Rd+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return(a,i,l)=>{if(t===!1)throw new Pe(r(i," has been removed"+(s?" in "+s:"")),Pe.ERR_DEPRECATED);return s&&!bl[i]&&(bl[i]=!0,console.warn(r(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(a,i,l):!0}};qr.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function hg(e,t,s){if(typeof e!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const a=n[r],i=t[a];if(i){const l=e[a],c=l===void 0||i(l,a,e);if(c!==!0)throw new Pe("option "+a+" must be "+c,Pe.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Pe("Unknown option "+a,Pe.ERR_BAD_OPTION)}}const ir={assertOptions:hg,validators:qr},Mt=ir.validators;let xs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new dl,response:new dl}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=As(this.defaults,s);const{transitional:n,paramsSerializer:r,headers:a}=s;n!==void 0&&ir.assertOptions(n,{silentJSONParsing:Mt.transitional(Mt.boolean),forcedJSONParsing:Mt.transitional(Mt.boolean),clarifyTimeoutError:Mt.transitional(Mt.boolean)},!1),r!=null&&(Q.isFunction(r)?s.paramsSerializer={serialize:r}:ir.assertOptions(r,{encode:Mt.function,serialize:Mt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),ir.assertOptions(s,{baseUrl:Mt.spelling("baseURL"),withXsrfToken:Mt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=a&&Q.merge(a.common,a[s.method]);a&&Q.forEach(["delete","get","head","post","put","patch","common"],P=>{delete a[P]}),s.headers=pt.concat(i,a);const l=[];let c=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(s)===!1||(c=c&&R.synchronous,l.unshift(R.fulfilled,R.rejected))});const f=[];this.interceptors.response.forEach(function(R){f.push(R.fulfilled,R.rejected)});let u,d=0,m;if(!c){const P=[_l.bind(this),void 0];for(P.unshift.apply(P,l),P.push.apply(P,f),m=P.length,u=Promise.resolve(s);d<m;)u=u.then(P[d++],P[d++]);return u}m=l.length;let y=s;for(d=0;d<m;){const P=l[d++],R=l[d++];try{y=P(y)}catch(N){R.call(this,N);break}}try{u=_l.call(this,y)}catch(P){return Promise.reject(P)}for(d=0,m=f.length;d<m;)u=u.then(f[d++],f[d++]);return u}getUri(t){t=As(this.defaults,t);const s=$d(t.baseURL,t.url,t.allowAbsoluteUrls);return wd(s,t.params,t.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(t){xs.prototype[t]=function(s,n){return this.request(As(n||{},{method:t,url:s,data:(n||{}).data}))}});Q.forEach(["post","put","patch"],function(t){function s(n){return function(a,i,l){return this.request(As(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}xs.prototype[t]=s(),xs.prototype[t+"Form"]=s(!0)});let mg=class Pd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const n=this;this.promise.then(r=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](r);n._listeners=null}),this.promise.then=r=>{let a;const i=new Promise(l=>{n.subscribe(l),a=l}).then(r);return i.cancel=function(){n.unsubscribe(a)},i},t(function(a,i,l){n.reason||(n.reason=new Zs(a,i,l),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Pd(function(r){t=r}),cancel:t}}};function vg(e){return function(s){return e.apply(null,s)}}function gg(e){return Q.isObject(e)&&e.isAxiosError===!0}const Aa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Aa).forEach(([e,t])=>{Aa[t]=e});function Od(e){const t=new xs(e),s=cd(xs.prototype.request,t);return Q.extend(s,xs.prototype,t,{allOwnKeys:!0}),Q.extend(s,t,null,{allOwnKeys:!0}),s.create=function(r){return Od(As(e,r))},s}const He=Od(Mn);He.Axios=xs;He.CanceledError=Zs;He.CancelToken=mg;He.isCancel=Cd;He.VERSION=Rd;He.toFormData=jr;He.AxiosError=Pe;He.Cancel=He.CanceledError;He.all=function(t){return Promise.all(t)};He.spread=vg;He.isAxiosError=gg;He.mergeConfig=As;He.AxiosHeaders=pt;He.formToJSON=e=>Sd(Q.isHTMLForm(e)?new FormData(e):e);He.getAdapter=Ad.getAdapter;He.HttpStatusCode=Aa;He.default=He;const{Axios:XT,AxiosError:YT,CanceledError:QT,isCancel:e9,CancelToken:t9,VERSION:s9,all:n9,Cancel:r9,isAxiosError:o9,spread:a9,toFormData:i9,AxiosHeaders:l9,HttpStatusCode:c9,formToJSON:u9,getAdapter:d9,mergeConfig:f9}=He,yg="http://localhost:8080",Ie=He.create({baseURL:yg,timeout:1e4,withCredentials:!0,headers:{"Content-Type":"application/json"}});function Nd(e,t){return e?(t==null?void 0:t.toUpperCase())==="GET"&&["/api/categories/","/api/categories/main","/api/categories/hierarchy","/api/products/","/api/board/","/api/qna/","/api/images/","/images/","/api/notifications/broadcasts/","/api/users/findId","/api/users/checkUserId"].some(r=>e.includes(r))?!0:["/auth/","/api/users/register","/api/users/login","/api/cart/guest/","/api/payments/guest/","/api/payments/webhook","/api/products/guest-cart-details"].some(n=>e.includes(n)):!1}Ie.interceptors.request.use(e=>{var n;if(console.log("🔍 Request Interceptor:",{url:e.url,method:e.method,withAuth:e.withAuth}),e.withAuth===!1)return console.log("🔍 withAuth=false, 토큰 추가 안함:",e.url),e;if(Nd(e.url,e.method))return console.log("🔍 공개 API로 판단, 토큰 추가 안함:",e.url),e;const s=localStorage.getItem("jwt");if(s&&s.trim()&&s!=="null"&&s!=="undefined")try{const r=s.startsWith("Bearer ")?s.substring(7):s,a=Nn(r),i=Date.now()/1e3;if(console.log("🔍 토큰 검증:",{exp:a.exp,now:i,isExpired:a.exp<i,timeLeft:a.exp-i}),a.exp<i){console.log("🔍 토큰 만료됨 - 로그인 페이지로 이동"),alert("토큰이 만료되었습니다. 다시 로그인해주세요.");const c=localStorage.getItem("login_type"),f=localStorage.getItem("social_provider"),u=localStorage.getItem("social_name"),d=localStorage.getItem("social_email");return localStorage.removeItem("jwt"),localStorage.removeItem("userId"),c==="SOCIAL"&&(localStorage.setItem("login_type","SOCIAL"),f&&localStorage.setItem("social_provider",f),u&&localStorage.setItem("social_name",u),d&&localStorage.setItem("social_email",d)),window.location.href="/login",Promise.reject(new Error("토큰 만료"))}const l=s.startsWith("Bearer ")?s:`Bearer ${s}`;e.headers.Authorization=l,e.url.includes("/api/wishlist")&&console.log("🔍 위시리스트 API 요청:",{url:e.url,method:e.method,hasToken:!!e.headers.Authorization,tokenPrefix:((n=e.headers.Authorization)==null?void 0:n.substring(0,20))+"...",userId:a.sub||a.username,role:a.role})}catch(r){console.error("🔍 토큰 처리 에러:",r),localStorage.removeItem("jwt"),localStorage.removeItem("userId")}else console.log("🔍 토큰 없음 또는 유효하지 않음:",{url:e.url,hasToken:!!s,tokenValue:(s==null?void 0:s.substring(0,20))+"..."});return e},e=>(console.error("🔍 Request Interceptor Error:",e),Promise.reject(e)));Ie.interceptors.response.use(e=>(e.config.url.includes("/api/wishlist")&&console.log("🔍 위시리스트 API 응답 성공:",{url:e.config.url,status:e.status,data:e.data}),e),e=>{var i,l,c,f;const{config:t,response:s,message:n}=e;(i=t==null?void 0:t.url)!=null&&i.includes("/api/wishlist")&&console.error("🔍 위시리스트 API 에러:",{url:t.url,status:s==null?void 0:s.status,statusText:s==null?void 0:s.statusText,data:s==null?void 0:s.data,headers:s==null?void 0:s.headers,message:n});const a=["/api/users/points","/api/users/coupons","/api/users/profile","/api/orders/count"].some(u=>{var d;return(d=t==null?void 0:t.url)==null?void 0:d.includes(u)});if(s){const{status:u,data:d}=s;if(u===401){console.log("🔍 401 에러 처리 시작:",{url:t==null?void 0:t.url,isWishlist:(l=t==null?void 0:t.url)==null?void 0:l.includes("/api/wishlist")});const m=sessionStorage.getItem("payment_completed")==="true",y=window.location.pathname.includes("/order-complete"),P=sessionStorage.getItem("last_purchase_cleanup"),R=new URLSearchParams(window.location.search).has("paymentId");if(m||y||P||R){if((c=t==null?void 0:t.url)!=null&&c.includes("/api/users/profile")){const S=localStorage.getItem("jwt");if(S)try{const A=S.replace("Bearer ","").split(".");if(A.length===3){let k=A[1].replace(/-/g,"+").replace(/_/g,"/");for(;k.length%4;)k+="=";const w=JSON.parse(atob(k)),C={success:!0,data:{id:w.sub||w.username,userId:w.sub||w.username,name:w.name||w.username||w.sub,email:w.email||"",phone:w.phone||"",address:"",zipcode:"",gender:"U",role:w.role||"USER"}};return Promise.resolve({data:C,status:200,statusText:"OK",headers:{},config:t})}}catch{}}return Promise.reject(e)}if((f=t==null?void 0:t.url)!=null&&f.includes("/api/wishlist")){console.error("🔍 위시리스트 401 에러 - 토큰 재확인 필요");const S=localStorage.getItem("jwt");if(S)try{const A=S.startsWith("Bearer ")?S.substring(7):S,k=Nn(A);console.log("🔍 현재 토큰 정보:",{sub:k.sub,username:k.username,role:k.role,exp:k.exp,isExpired:k.exp<Date.now()/1e3})}catch(A){console.error("🔍 토큰 파싱 실패:",A)}}if(Nd(t==null?void 0:t.url,t==null?void 0:t.method)){console.log("🔍 공개 API 401 - 토큰 없이 재시도");const S={...t};return delete S.headers.Authorization,He.request(S)}console.log("🔍 일반 401 에러 처리 - 로그아웃 진행");const N=localStorage.getItem("login_type"),M=localStorage.getItem("social_provider"),E=localStorage.getItem("social_name"),O=localStorage.getItem("social_email");return localStorage.removeItem("jwt"),localStorage.removeItem("userId"),N==="SOCIAL"&&(localStorage.setItem("login_type","SOCIAL"),M&&localStorage.setItem("social_provider",M),E&&localStorage.setItem("social_name",E),O&&localStorage.setItem("social_email",O)),window.location.pathname.includes("/login")||(window.location.href="/login"),Promise.reject(e)}if(u===404&&a)return Promise.resolve({data:{success:!1,data:null,message:"API not implemented"},status:200,config:t})}return Promise.reject(e)});const _r={BASE_URL:"http://localhost:8096/api/notifications",ENDPOINTS:{HEALTH:"/health",BROADCASTS_SCHEDULE:"/broadcasts/schedule",SUBSCRIPTIONS_USER:"/subscriptions/user",SUBSCRIBE_BROADCAST:"/subscriptions",SUBSCRIPTIONS:"/subscriptions"},getNotificationBaseUrl(){return this.BASE_URL}},_g=async(e,t)=>{if(!e||!t)throw new Error("필수 파라미터가 누락되었습니다.");const s=`/subscriptions/broadcast-start?userId=${e}&broadcastId=${t}`,n=await xt(s,{method:"POST"});if(!n.ok){const r=await n.text();let a;try{a=JSON.parse(r)}catch{a={message:r}}const i=new Error(a.message||`HTTP ${n.status}`);throw i.response={status:n.status,data:a},i}return await n.json()},bg=async(e,t)=>{if(!e||!t)throw new Error("필수 파라미터가 누락되었습니다.");const s=`/subscriptions?userId=${e}&broadcastId=${t}&type=BROADCAST_START`,n=await xt(s,{method:"DELETE"});if(!n.ok){const r=await n.text();let a;try{a=JSON.parse(r)}catch{a={message:r}}const i=new Error(a.message||`HTTP ${n.status}`);throw i.response={status:n.status,data:a},i}},wl=()=>{const e=localStorage.getItem("jwt");if(!e||!wg(e))return{id:null,username:"guest",identifier:null};try{let s=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");for(;s.length%4;)s+="=";const n=JSON.parse(atob(s));let r=null,a=null;const i=[n.userId,n.sub,n.id];for(const c of i)if(c&&!isNaN(Number(c))&&Number(c)>0){r=Number(c),a=String(c);break}r||(a=n.sub||n.username||n.id);const l=n.username||n.name||a||"user";return{id:r,identifier:a,username:l}}catch{return{id:null,username:"guest",identifier:null}}},wg=e=>{if(!e)return!1;try{const t=e.split(".");if(t.length!==3)return!1;let s=t[1].replace(/-/g,"+").replace(/_/g,"/");for(;s.length%4;)s+="=";const n=atob(s),r=JSON.parse(n),a=Math.floor(Date.now()/1e3);return!(r.exp&&r.exp<a+30)}catch{return!1}},kg=()=>{const e=localStorage.getItem("jwt"),t={"Content-Type":"application/json",Accept:"application/json"};return e&&(t.Authorization=`Bearer ${e}`),t},xt=async(e,t={})=>{let s;e.startsWith("http://")||e.startsWith("https://")?s=e:e.startsWith("/")?s=`${_r.BASE_URL}${e}`:s=`${_r.BASE_URL}/${e}`;try{return await fetch(s,{method:t.method||"GET",mode:"cors",headers:{...kg(),...t.headers},...t})}catch{return{ok:!1,status:0,json:async()=>({}),text:async()=>""}}},lo={async getUnreadCount(e){try{const t=await xt(`/unread-count?userId=${e}`);return t&&t.ok&&(await t.json()).count||0}catch{return 0}},async getRecentNotifications(e,t=10){try{const s=await xt(`/recent?userId=${e}&limit=${t}`);return s&&s.ok?await s.json():[]}catch{return[]}},async markAllAsRead(e){try{const t=await xt(`/mark-all-read?userId=${e}`,{method:"PATCH"});return t&&t.ok}catch{return!1}},async markAsRead(e,t){try{const s=await xt(`/${e}/read?userId=${t}`,{method:"PATCH"});return s&&s.ok}catch{return!1}},formatTime(e){const t=new Date,s=new Date(e),n=Math.floor((t-s)/(1e3*60));if(n<1)return"방금 전";if(n<60)return`${n}분 전`;if(n<1440)return`${Math.floor(n/60)}시간 전`;const r=Math.floor(n/1440);return r<7?`${r}일 전`:s.toLocaleDateString("ko-KR")},getNotificationIcon(e){return{BROADCAST_START:"live",BROADCAST_END:"stop",BROADCAST_REMINDER:"bell",BROADCAST_CANCEL:"x",GENERAL:"info"}[e]||"info"},getPriorityColor(e){return{LOW:"#6c757d",NORMAL:"#007bff",HIGH:"#fd7e14",URGENT:"#dc3545"}[e]||"#007bff"}},ze=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},Sg={class:"navbar navbar-dark bg-white custom-navbar d-flex justify-content-between align-items-center"},Cg={class:"d-flex align-items-center gap-2"},Ig={class:"d-flex align-items-center"},$g={class:"input-group search-box me-2"},Eg=["disabled"],xg={class:"navbar-brand mx-2 user-name"},Tg=["title"],Ag={class:"icon-container"},Rg={key:0,class:"badge"},Pg={class:"notification-icon icon-link"},Og={key:0,class:"notification-count-badge"},Ng={class:"notification-header"},Lg={class:"notification-list"},Dg={key:0,class:"notification-loading"},Mg={key:1},Ug=["onClick"],jg={class:"notification-type-icon"},Bg={class:"notification-content"},qg={class:"notification-title"},Hg={class:"notification-message"},Fg={class:"notification-time"},Vg={key:0,class:"unread-indicator"},Wg={key:2,class:"no-notifications"},zg={key:0,class:"notification-footer"},Jg={key:0,class:"ms-1"},Gg={__name:"Header",setup(e){const t=Qe(),s=H(!1),n=H(!1),r=H(!1),a=H(0),i=H(0),l=H([]),c=H(""),f=H(!1),u=H(!1),d=H(null);let m=null;const y=ke(()=>ce),P=ke(()=>{if(localStorage.getItem("login_type")==="SOCIAL"){if(y.value.name&&y.value.name.trim()&&y.value.name!=="사용자"&&y.value.name!=="소셜사용자"&&y.value.name!==y.value.id&&y.value.name.length>=2)return y.value.name;const F=sessionStorage.getItem("social_name");if(F&&F.trim()&&F!=="사용자"&&F!=="소셜사용자"&&F.length>=2)return F;const re=localStorage.getItem("social_name");if(re&&re.trim()&&re!=="사용자"&&re!=="소셜사용자"&&re.length>=2)return re;const de=sessionStorage.getItem("current_user_name");if(de&&de.trim()&&de!=="사용자"&&de!=="소셜사용자"&&de.length>=2)return de;const V=localStorage.getItem("social_provider");return{KAKAO:"카카오사용자",NAVER:"네이버사용자",GOOGLE:"구글사용자"}[V==null?void 0:V.toUpperCase()]||"소셜사용자"}if(y.value.name&&y.value.name.trim()&&y.value.name!==y.value.id&&y.value.name!=="사용자"&&y.value.name.length>=1)return y.value.name;const $=sessionStorage.getItem("current_user_name")||localStorage.getItem("user_display_name");return $&&$.trim()&&$!=="사용자"&&$.length>=1?$:"사용자"}),R=()=>{u.value,d.value,u.value=xn(),d.value=ld()},N=()=>{switch(d.value){case"KAKAO":case"kakao":return"카카오";case"NAVER":case"naver":return"네이버";case"GOOGLE":case"google":return"구글";default:return"소셜"}},M=()=>{switch(d.value){case"KAKAO":case"kakao":return"💬";case"NAVER":case"naver":return"🟢";case"GOOGLE":case"google":return"🔵";default:return"👤"}},E=()=>{const $=N();alert(`${$} 로그인으로 가입하신 회원은 보안상의 이유로 회원정보 수정이 제한됩니다.

개인정보 변경이 필요한 경우 ${$} 계정에서 직접 수정해주세요.`),v()},O=()=>{v(),t.push("/mypage/profile")};Ge(()=>y.value.id,async($,F)=>{if($&&$!==F){f.value=!1,R();try{await w(),await Promise.all([J(),x()]),se(),q()}catch{}finally{f.value=!0}}else!$&&F&&(S(),f.value=!1,u.value=!1,d.value=null)},{immediate:!1}),Ge(()=>localStorage.getItem("login_type"),($,F)=>{$!==F&&y.value.id&&R()});const S=()=>{const $=localStorage.getItem("login_type"),F=localStorage.getItem("social_provider"),re=localStorage.getItem("social_name"),de=localStorage.getItem("social_email");a.value=0,i.value=0,l.value=[],se(),$==="SOCIAL"&&(localStorage.setItem("login_type","SOCIAL"),sessionStorage.setItem("login_type","SOCIAL"),F&&(localStorage.setItem("social_provider",F),sessionStorage.setItem("social_provider",F)),re&&(localStorage.setItem("social_name",re),sessionStorage.setItem("social_name",re)),de&&(localStorage.setItem("social_email",de),sessionStorage.setItem("social_email",de)))},A=()=>{const $=c.value.trim();$&&t.push({path:"/category",query:{search:$}})},k=$=>{if(!$)return!1;try{const F=$.split(".");if(F.length!==3)return!1;let re=F[1].replace(/-/g,"+").replace(/_/g,"/");for(;re.length%4;)re+="=";const de=atob(re),V=JSON.parse(de),oe=Math.floor(Date.now()/1e3);return!(V.exp&&V.exp<oe)}catch{return!1}},w=async()=>{const $=localStorage.getItem("social_name")||sessionStorage.getItem("social_name");if($&&$.trim()&&$!=="사용자"&&$!=="소셜사용자"&&$.length>=2&&!C($))return ce.name=$,sessionStorage.setItem("current_user_name",$),f.value=!0,!0;try{const F=await Ie.get("/api/users/profile",{timeout:3e3,validateStatus:function(re){return re<500}});if(F.status===200&&F.data&&F.data.success&&F.data.data){const re=F.data.data,de=localStorage.getItem("social_name")||sessionStorage.getItem("social_name");return ce.id=re.userId||re.id,ce.email=re.email,ce.role=re.role||"USER",ce.phone=re.phone,de&&de.trim()&&de!=="사용자"&&de!=="소셜사용자"&&de.length>=2&&!C(de)?(ce.name=de,sessionStorage.setItem("current_user_name",de)):re.name&&re.name.trim()&&re.name.length>=1&&!C(re.name)?(ce.name=re.name.trim(),sessionStorage.setItem("current_user_name",ce.name),localStorage.getItem("login_type")==="SOCIAL"&&(localStorage.setItem("social_name",ce.name),sessionStorage.setItem("social_name",ce.name))):ce.name="사용자",f.value=!0,!0}}catch{}return z()};function C($){return $?[/[\uFFFD]/g,/[ì í î ë ê é è ñ ò ó ô]/g,/â[^\s]/g,/Ã[^\s]/g].some(re=>re.test($)):!1}const z=()=>{if(ce.id){f.value=!0;const $=localStorage.getItem("social_name")||sessionStorage.getItem("social_name")||sessionStorage.getItem("current_user_name")||localStorage.getItem("preserved_user_name");if($&&$.trim()&&$!=="사용자")ce.name=$,sessionStorage.setItem("current_user_name",$);else if(!ce.name||ce.name==="사용자"){const F=localStorage.getItem("jwt");if(F)try{const re=F.replace("Bearer ","").split(".");if(re.length===3){let de=re[1].replace(/-/g,"+").replace(/_/g,"/");for(;de.length%4;)de+="=";const V=JSON.parse(atob(de));V.name&&V.name.trim()&&V.name!==V.sub&&(ce.name=V.name,sessionStorage.setItem("current_user_name",V.name),localStorage.setItem("social_name",V.name))}}catch{}}return!0}return!1},X=async()=>{f.value=!1;const $=localStorage.getItem("jwt");$&&k($)&&(vs($),await w())};window.refreshHeaderUserInfo=X;const J=async()=>{if(y.value.id)try{const $=await Ie.get("/api/cart/count");$.data.success&&(a.value=$.data.data.count||0)}catch{}},x=async()=>{if(y.value.id)try{const $=await xt(`/unread-count?userId=${y.value.id}`);if($&&$.ok){const re=await $.json();i.value=re.count||0}const F=await xt(`/recent?userId=${y.value.id}&limit=10`);if(F&&F.ok){const re=await F.json();l.value=re||[]}}catch{}},q=()=>{y.value.id&&(m=setInterval(()=>{x()},1e4))},se=()=>{m&&(clearInterval(m),m=null)},ie=$=>lo.formatTime($),he=async $=>{try{$.isRead||await lo.markAsRead($.notificationId,y.value.id)&&($.isRead=!0,$.readAt=new Date().toISOString(),i.value=Math.max(0,i.value-1)),j(),$.type==="BROADCAST_START"?$.broadcastId?t.push(`/live/${$.broadcastId}`):t.push("/broadcasts/category"):t.push("/notifications")}catch{j()}},te=async()=>{try{await lo.markAllAsRead(y.value.id)&&(l.value.forEach(F=>{F.isRead=!0,F.readAt=new Date().toISOString()}),i.value=0)}catch{}};function L(){s.value=!0}function v(){setTimeout(()=>{s.value=!1},150)}function g(){n.value=!0,l.value.length===0&&(r.value=!0,x().finally(()=>{r.value=!1}))}function j(){setTimeout(()=>{n.value=!1},150)}function D(){se(),Gs(),a.value=0,i.value=0,l.value=[],c.value="",s.value=!1,f.value=!1,u.value=!1,d.value=null,t.push("/login")}return Ze(async()=>{const $=localStorage.getItem("jwt");if($&&k($))try{ce.id&&ce.name&&(f.value=!0),await w()?(await new Promise(re=>setTimeout(re,200)),R(),await Promise.all([J(),x()]),q()):(localStorage.removeItem("jwt"),ce.id=null,ce.name=null,ce.role=null,ce.email=null,S(),f.value=!1)}catch{localStorage.removeItem("jwt"),ce.id=null,ce.name=null,ce.role=null,ce.email=null,S(),f.value=!1}else $&&localStorage.removeItem("jwt"),ce.id=null,ce.name=null,ce.role=null,ce.email=null,S(),f.value=!1}),($,F)=>{const re=vt("router-link");return _(),b("nav",Sg,[o("div",Cg,[we(re,{to:"/",class:"navbar-brand"},{default:Je(()=>F[1]||(F[1]=[ge("트라이마켓")])),_:1,__:[1]}),we(re,{to:"/",class:"navbar-brand"},{default:Je(()=>F[2]||(F[2]=[ge("홈")])),_:1,__:[2]}),we(re,{to:"/broadcasts/category",class:"navbar-brand"},{default:Je(()=>F[3]||(F[3]=[ge("라이브 목록")])),_:1,__:[3]}),we(re,{to:"/broadcasts/calendar",class:"navbar-brand"},{default:Je(()=>F[4]||(F[4]=[ge("예고")])),_:1,__:[4]}),we(re,{to:"/category",class:"navbar-brand"},{default:Je(()=>F[5]||(F[5]=[ge("카테고리")])),_:1,__:[5]})]),o("div",Ig,[o("div",$g,[_e(o("input",{type:"text",class:"form-control form-control-sm",placeholder:"상품명을 입력하세요","onUpdate:modelValue":F[0]||(F[0]=de=>c.value=de),onKeyup:Pr(A,["enter"])},null,544),[[Te,c.value]]),o("button",{class:"input-group-text search-btn",onClick:A,disabled:!c.value.trim()}," 검색 ",8,Eg)]),y.value.id?G("",!0):(_(),qs(re,{key:0,to:"/login",class:"navbar-brand mx-2"},{default:Je(()=>F[6]||(F[6]=[ge("로그인")])),_:1,__:[6]})),y.value.id?G("",!0):(_(),qs(re,{key:1,to:"/register",class:"navbar-brand mx-2"},{default:Je(()=>F[7]||(F[7]=[ge("회원가입")])),_:1,__:[7]})),y.value.id?(_(),b("div",{key:2,class:"user-menu-container",onMouseenter:L,onMouseleave:v},[o("span",xg,[ge(T(P.value)+" 님 ▼ ",1),u.value?(_(),b("span",{key:0,class:"social-indicator",title:`${N()} 로그인`},T(M()),9,Tg)):G("",!0)]),o("div",{class:$e(["dropdown-menu",{show:s.value}])},[we(re,{to:"/mypage/orders",class:"dropdown-item",onClick:v},{default:Je(()=>F[8]||(F[8]=[ge(" 마이페이지 ")])),_:1,__:[8]}),u.value?(_(),b("div",{key:1,onClick:E,class:"dropdown-item social-restricted"},F[9]||(F[9]=[o("span",null,"회원정보관리",-1),o("span",{class:"restriction-badge"},null,-1)]))):(_(),b("div",{key:0,onClick:O,class:"dropdown-item"}," 회원정보관리 ")),F[10]||(F[10]=o("div",{class:"dropdown-divider"},null,-1)),o("button",{onClick:D,class:"dropdown-item logout-btn"}," 로그아웃 ")],2)],32)):G("",!0),we(re,{to:"/cart",class:"navbar-brand mx-2 icon-link",title:"장바구니"},{default:Je(()=>[o("div",Ag,[F[11]||(F[11]=o("svg",{class:"svg-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("circle",{cx:"9",cy:"21",r:"1"}),o("circle",{cx:"20",cy:"21",r:"1"}),o("path",{d:"m1 1 4 4 2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})],-1)),a.value>0?(_(),b("span",Rg,T(a.value),1)):G("",!0)])]),_:1}),y.value.id?(_(),b("div",{key:3,class:"notification-container mx-2",onMouseenter:g,onMouseleave:j,title:"알림"},[o("div",Pg,[F[12]||(F[12]=o("svg",{class:"svg-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),o("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})],-1)),i.value>0?(_(),b("span",Og,T(i.value>99?"99+":i.value),1)):G("",!0)]),o("div",{class:$e(["notification-dropdown",{show:n.value}])},[o("div",Ng,[F[13]||(F[13]=o("h6",{class:"mb-0"},"알림",-1)),l.value.length>0&&i.value>0?(_(),b("button",{key:0,onClick:te,class:"btn btn-sm btn-link p-0"}," 모두 읽음 ")):G("",!0)]),o("div",Lg,[r.value?(_(),b("div",Dg,F[14]||(F[14]=[o("div",{class:"spinner-border spinner-border-sm",role:"status"},[o("span",{class:"visually-hidden"},"Loading...")],-1),o("span",{class:"ms-2"},"알림을 불러오는 중...",-1)]))):l.value.length>0?(_(),b("div",Mg,[(_(!0),b(Ee,null,De(l.value,de=>(_(),b("div",{key:de.notificationId,class:$e(["notification-item",{unread:!de.isRead,"broadcast-start":de.type==="BROADCAST_START","high-priority":de.priority==="HIGH"||de.priority==="URGENT"}]),onClick:V=>he(de)},[o("div",jg,T(de.type==="BROADCAST_START"?"📺":de.type==="BROADCAST_END"?"🔴":de.type==="BROADCAST_REMINDER"?"⏰":"📢"),1),o("div",Bg,[o("div",qg,T(de.title),1),o("div",Hg,T(de.message),1),o("div",Fg,T(ie(de.createdAt)),1)]),de.isRead?G("",!0):(_(),b("div",Vg,F[15]||(F[15]=[o("div",{class:"unread-dot"},null,-1)])))],10,Ug))),128))])):(_(),b("div",Wg,F[16]||(F[16]=[o("div",{class:"text-muted text-center py-3"},[o("div",{class:"mb-2"},"🔔"),o("div",{class:"mb-1"},"알림"),o("small",null,"새로운 알림이 없습니다")],-1)])))]),l.value.length>0?(_(),b("div",zg,[we(re,{to:"/notifications",class:"btn btn-sm btn-outline-primary w-100",onClick:j},{default:Je(()=>[F[17]||(F[17]=ge(" 모든 알림 보기 ")),i.value>10?(_(),b("span",Jg," ("+T(i.value-10)+"개 더) ",1)):G("",!0)]),_:1,__:[17]})])):G("",!0)],2)],32)):G("",!0)])])}}},Kg=ze(Gg,[["__scopeId","data-v-45697cfd"]]),Zg={},Xg={class:"footer"};function Yg(e,t){return _(),b("footer",Xg,t[0]||(t[0]=[o("div",{class:"footer-container"},[o("p",null,"© 2025 My board. All rights reserved.")],-1)]))}const Qg=ze(Zg,[["render",Yg],["__scopeId","data-v-1798b821"]]),e1={components:{Header:Kg,Footer:Qg}},t1={id:"app"},s1={class:"app-container"},n1={class:"main-content"};function r1(e,t,s,n,r,a){const i=vt("Header"),l=vt("router-view"),c=vt("Footer");return _(),b("div",t1,[o("div",s1,[we(i),o("main",n1,[we(l)]),we(c)])])}const o1=ze(e1,[["render",r1]]),a1={class:"carousel-container"},i1=["src","alt"],l1={class:"side-title"},c1=["src","alt"],u1={class:"main-overlay"},d1={class:"main-title"},f1={class:"main-subtitle"},p1={class:"main-indicator"},h1=["src","alt"],m1={class:"side-title"},v1={class:"dot-indicators"},g1=["onClick"],y1={class:"category-container"},_1={class:"category-list"},b1=["onClick"],w1={class:"category-icon"},k1=["src","alt"],S1={key:1,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},C1={class:"category-name"},I1={class:"live-broadcast-container"},$1={class:"section-header"},E1={class:"live-count"},x1={class:"count-badge"},T1={class:"broadcast-scroll-container"},A1={class:"broadcast-list"},R1=["onClick"],P1={class:"broadcast-thumbnail"},O1=["src","alt"],N1={class:"viewer-count"},L1={class:"broadcast-time"},D1={class:"broadcast-info"},M1={class:"broadcast-title"},U1={class:"broadcast-description"},j1={class:"broadcaster-info"},B1={class:"broadcaster-avatar"},q1=["src","alt"],H1={class:"broadcaster-name"},F1={class:"broadcast-tags"},V1={class:"category-tag"},W1={key:0,class:"tags"},z1={class:"broadcast-stats"},J1={class:"like-count"},G1={key:0,class:"no-broadcasts"},K1={class:"popular-products-container"},Z1={class:"section-header"},X1={key:0,class:"products-loading"},Y1={key:1,class:"no-products"},Q1={key:2,class:"products-grid"},ey=["onClick"],ty={class:"rank-badge"},sy={class:"product-image"},ny=["src","alt"],ry={class:"product-info"},oy={class:"product-title"},ay={class:"product-pricing"},iy={key:0,class:"discount-info"},ly={class:"final-price"},cy={__name:"Home",setup(e){const t=Qe(),s=()=>"<",n=()=>">",r=H(0),a=H(!0);let i=null;const l=H("ALL"),c=H([]),f=H([]),u=H(!1),d=H([{src:"https://picsum.photos/seed/1/800/400",alt:"특별 이벤트",title:"6/13 라이브"},{src:"https://picsum.photos/seed/2/800/400",alt:"신제품 출시",title:"다우니 신제품"},{src:"https://picsum.photos/seed/3/800/400",alt:"무료배송",title:"무료배송 이벤트"},{src:"https://picsum.photos/seed/4/800/400",alt:"회원 혜택",title:"회원 전용 할인"},{src:"https://picsum.photos/seed/5/800/400",alt:"할인 상품",title:"타임세일"}]),m=H([{broadcast_id:1,broadcaster_id:101,broadcaster_name:"라이프 쇼핑",title:"삼에서 먹어도 제맛! 전복죽 달인",description:"전복죽 만들기의 모든 것! 지금 특가로 만나보세요",broadcast_status:"live",actual_start_time:"2025-06-24T14:30:00",current_viewers:134,like_count:89,category:"푸드",tags:"전복죽,간편식,건강식",thumbnail_url:null},{broadcast_id:2,broadcaster_id:102,broadcaster_name:"닥터안에그",title:"[1+1]닥터안에그 무황성계 30구",description:"신선한 계란을 특가로! 지금 주문하면 1+1 혜택",broadcast_status:"live",actual_start_time:"2025-06-24T15:00:00",current_viewers:89,like_count:45,category:"신선식품",tags:"계란,1+1,특가",thumbnail_url:null},{broadcast_id:3,broadcaster_id:103,broadcaster_name:"라이브 특가",title:"엄마 손맛 그 자체! 순두부찌개",description:"집에서 쉽게 만드는 순두부찌개 레시피와 재료 세트",broadcast_status:"live",actual_start_time:"2025-06-24T13:45:00",current_viewers:71,like_count:112,category:"간편식",tags:"순두부찌개,집밥,간편식",thumbnail_url:null},{broadcast_id:4,broadcaster_id:104,broadcaster_name:"글램핑 한돈깔비",title:"글램핑 한돈깔비❤️ 특가방송",description:"프리미엄 한돈으로 만든 깔비! 글램핑 분위기까지",broadcast_status:"live",actual_start_time:"2025-06-24T16:15:00",current_viewers:156,like_count:203,category:"정육",tags:"한돈,깔비,글램핑,특가",thumbnail_url:null},{broadcast_id:5,broadcaster_id:105,broadcaster_name:"쪽쪽쪽주",title:"[쪽쪽쪽주] 우욱짬 인기상품",description:"인기 상품들을 한번에! 쪽쪽쪽주 스페셜 라이브",broadcast_status:"live",actual_start_time:"2025-06-24T14:00:00",current_viewers:267,like_count:89,category:"종합",tags:"인기상품,스페셜,할인",thumbnail_url:null}]),y=ke(()=>(r.value-1+d.value.length)%d.value.length),P=ke(()=>(r.value+1)%d.value.length),R=L=>L.iconUrl&&L.iconUrl.trim()!==""?L.iconUrl.trim():L.icon&&L.icon.trim()!==""?L.icon.trim():L.categoryIcon&&L.categoryIcon.trim()!==""?`/icons/${{vegetables:"vegetables.svg",canned:"canned-food.svg",meal:"meal-box.svg",bread:"bread.svg",milk:"milk.svg",medicine:"medicine.svg",cooking:"cooking.svg",tissue:"tissue.svg",baby:"baby-bottle.svg"}[L.categoryIcon]||L.categoryIcon+".svg"}`:null,N=()=>{r.value=P.value},M=()=>{r.value=y.value},E=L=>{r.value=L},O=()=>{S(),a.value&&(i=setInterval(()=>{N()},4e3))},S=()=>{i&&(clearInterval(i),i=null)},A=()=>{a.value=!a.value,a.value?O():S()},k=()=>{S()},w=()=>{a.value&&O()},C=async()=>{try{const L=await Ie.get("/api/categories/main",{withAuth:!1});if(L.data&&L.data.length>0){const v={categoryId:"ALL",name:"전체",icon:null,categoryDisplayOrder:0},g=L.data.filter(j=>j.categoryUseYn==="Y"&&j.categoryLevel===1).sort((j,D)=>j.categoryDisplayOrder-D.categoryDisplayOrder).slice(0,9).map(j=>({categoryId:j.categoryId,name:j.name,icon:R(j),categoryDisplayOrder:j.categoryDisplayOrder,categoryIcon:j.categoryIcon,iconUrl:j.iconUrl}));c.value=[v,...g]}}catch{c.value=[{categoryId:"ALL",name:"전체",icon:null},{categoryId:"1",name:"신선식품",icon:null},{categoryId:"2",name:"가공식품",icon:null},{categoryId:"3",name:"간편식",icon:null},{categoryId:"4",name:"베이커리",icon:null},{categoryId:"5",name:"유제품",icon:null}]}},z=async()=>{try{u.value=!0;const L=await Ie.get("/api/products/filter",{params:{categoryId:"ALL",limit:8,sort:"popular"},withAuth:!1});L.data&&Array.isArray(L.data)?f.value=L.data.map(v=>({id:v.productId,title:v.name||v.title,name:v.name||v.title,price:v.price||0,salePrice:v.salePrice||v.price||0,discountRate:v.discountRate||0,mainImage:v.mainImage,image:v.image,images:v.images,mainImageUrl:v.mainImageUrl})):f.value=[]}catch{f.value=[]}finally{u.value=!1}},X=L=>{const v="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjNmNGY2Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzZiNzI4MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pjwvc3ZnPg==",g=L.mainImage||L.image||L.images&&L.images[0]||L.mainImageUrl;return g&&g.trim()!==""?g.startsWith("http")?g:g.startsWith("/api/")?`http://localhost:8080${g}`:`http://localhost:8080/api/images/products/${g}`:v},J=L=>{const v=L.target;v.dataset.errorHandled||(v.dataset.errorHandled="true",v.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjNmNGY2Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzZiNzI4MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkltYWdlIEVycm9yPC90ZXh0Pjwvc3ZnPg==")},x=L=>{L==="ALL"?t.push("/category/"):t.push(`/category/${L}`)},q=L=>{t.push(`/product/${L.id}`)},se=L=>{},ie=L=>(L||0).toLocaleString(),he=L=>L>=1e3?`${(L/1e3).toFixed(1)}k`:L.toString(),te=L=>{const v=new Date(L),j=Math.floor((new Date-v)/(1e3*60));if(j<60)return`${j}분`;{const D=Math.floor(j/60),$=j%60;return`${D}시간 ${$}분`}};return Ze(async()=>{a.value&&O(),await Promise.all([C(),z()])}),Js(()=>{S()}),(L,v)=>(_(),b(Ee,null,[o("div",a1,[v[3]||(v[3]=Xe('<div class="background-zones" data-v-ee7469cc><div class="zone gray-zone" data-v-ee7469cc></div><div class="zone white-zone" data-v-ee7469cc></div><div class="zone white-zone" data-v-ee7469cc></div><div class="zone white-zone" data-v-ee7469cc></div><div class="zone gray-zone" data-v-ee7469cc></div></div>',1)),o("div",{class:"carousel-content",onMouseenter:k,onMouseleave:w},[o("div",{class:"side-image left-side",onClick:v[0]||(v[0]=g=>E(y.value))},[o("img",{src:d.value[y.value].src,alt:d.value[y.value].alt,class:"side-img"},null,8,i1),o("div",l1,T(d.value[y.value].title),1)]),we(zu,{name:"fade"},{default:Je(()=>[(_(),b("div",{class:"main-image",key:r.value},[o("img",{src:d.value[r.value].src,alt:d.value[r.value].alt,class:"main-img"},null,8,c1),o("div",u1,[o("h3",d1,T(d.value[r.value].title),1),o("p",f1,T(d.value[r.value].alt),1)]),o("div",p1,T(r.value+1)+" / "+T(d.value.length),1)]))]),_:1}),o("div",{class:"side-image right-side",onClick:v[1]||(v[1]=g=>E(P.value))},[o("img",{src:d.value[P.value].src,alt:d.value[P.value].alt,class:"side-img"},null,8,h1),o("div",m1,T(d.value[P.value].title),1)]),o("button",{class:"nav-btn prev-btn",onClick:M},[we(s)]),o("button",{class:"nav-btn next-btn",onClick:N},[we(n)])],32),o("div",v1,[(_(!0),b(Ee,null,De(d.value,(g,j)=>(_(),b("button",{key:j,class:$e(["dot",{active:j===r.value}]),onClick:D=>E(j)},null,10,g1))),128))]),o("button",{class:"autoplay-toggle",onClick:A},T(a.value?"일시정지":"자동재생"),1)]),o("div",y1,[o("div",_1,[(_(!0),b(Ee,null,De(c.value,g=>(_(),b("div",{key:g.categoryId,class:$e(["category-item",{active:l.value===g.categoryId}]),onClick:j=>x(g.categoryId)},[o("div",w1,[g.icon?(_(),b("img",{key:0,src:g.icon,alt:g.name,class:"icon-image"},null,8,k1)):(_(),b("svg",S1,v[4]||(v[4]=[o("path",{d:"M9 11H15M9 15H15M17 21H7C5.89543 21 5 20.1046 5 19V5C5 3.89543 5.89543 3 7 3H12.5858C12.851 3 13.1054 3.10536 13.2929 3.29289L19.7071 9.70711C19.8946 9.89464 20 10.149 20 10.4142V19C20 20.1046 19.1046 21 18 21H17Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))]),o("span",C1,T(g.name),1)],10,b1))),128))])]),o("div",I1,[o("div",$1,[v[5]||(v[5]=o("h2",{class:"section-title"},"바로 지금! 라이브 찬스",-1)),o("div",E1,[o("span",x1,T(m.value.length)+"개 방송 진행중",1)])])]),o("div",T1,[o("div",A1,[(_(!0),b(Ee,null,De(m.value.slice(0,10),g=>(_(),b("div",{key:g.broadcast_id,class:"broadcast-card",onClick:j=>se(g.broadcast_id)},[o("div",P1,[o("img",{src:g.thumbnail_url||`https://picsum.photos/seed/${g.broadcast_id}/300/200`,alt:g.title,class:"thumbnail-image"},null,8,O1),v[7]||(v[7]=o("div",{class:"live-badge"},[o("span",{class:"live-dot"}),ge(" LIVE ")],-1)),o("div",N1,[v[6]||(v[6]=o("span",{class:"viewer-icon"},"👥",-1)),ge(" "+T(he(g.current_viewers)),1)]),o("div",L1,T(te(g.actual_start_time)),1)]),o("div",D1,[o("h3",M1,T(g.title),1),o("p",U1,T(g.description),1),o("div",j1,[o("div",B1,[o("img",{src:`https://picsum.photos/seed/user${g.broadcaster_id}/40/40`,alt:g.broadcaster_name,class:"avatar-image"},null,8,q1)]),o("span",H1,T(g.broadcaster_name),1)]),o("div",F1,[o("span",V1,T(g.category),1),g.tags?(_(),b("span",W1,T(g.tags.split(",").slice(0,2).join(", ")),1)):G("",!0)]),o("div",z1,[o("span",J1,[v[8]||(v[8]=o("span",{class:"heart-icon"},"❤️",-1)),ge(" "+T(g.like_count),1)])])])],8,R1))),128))]),m.value.length===0?(_(),b("div",G1,v[9]||(v[9]=[o("div",{class:"no-broadcast-icon"},"📺",-1),o("h3",null,"현재 진행 중인 라이브 방송이 없습니다",-1),o("p",null,"잠시 후 다시 확인해주세요!",-1)]))):G("",!0)]),o("div",K1,[o("div",Z1,[v[10]||(v[10]=o("h2",{class:"section-title"},"지금 인기 상품",-1)),o("button",{class:"view-all-btn",onClick:v[2]||(v[2]=g=>x("ALL"))}," 전체보기 → ")]),u.value?(_(),b("div",X1,v[11]||(v[11]=[o("div",{class:"loading-spinner"},null,-1),o("p",null,"인기 상품을 불러오는 중...",-1)]))):!f.value||f.value.length===0?(_(),b("div",Y1,v[12]||(v[12]=[o("div",{class:"no-products-icon"},"📦",-1),o("h3",null,"현재 표시할 상품이 없습니다",-1),o("p",null,"잠시 후 다시 확인해주세요!",-1)]))):(_(),b("div",Q1,[(_(!0),b(Ee,null,De(f.value.slice(0,8),(g,j)=>(_(),b("div",{key:g.id||j,class:"product-card",onClick:D=>q(g)},[o("div",ty,T(j+1),1),o("div",sy,[o("img",{src:X(g),alt:g.title||g.name||"상품",onError:J,loading:"lazy"},null,40,ny)]),o("div",ry,[o("h3",oy,T(g.title||g.name||"상품명 없음"),1),o("div",ay,[g.discountRate&&g.discountRate>0?(_(),b("div",iy)):G("",!0),o("div",ly,T(ie(g.salePrice||g.price))+"원 ",1)]),v[13]||(v[13]=o("div",{class:"product-meta"},[o("span",{class:"shipping-info"},"무료배송")],-1))])],8,ey))),128))]))])],64))}},uy=ze(cy,[["__scopeId","data-v-ee7469cc"]]),dy={class:"d-flex justify-content-center align-items-center vh-100 bg-light"},fy={class:"card p-4 shadow-sm",style:{width:"100%","max-width":"400px"}},py={class:"mb-3"},hy={class:"mb-3"},my={class:"d-flex justify-content-between align-items-center mb-3"},vy={class:"form-check"},gy=["disabled"],yy={key:0,class:"alert alert-danger mt-2"},_y={class:"social-login-section"},by=["disabled"],wy=["disabled"],ky={class:"text-center mt-3"},Sy={__name:"Login",setup(e){const t=Qe();Vt();const s=ss({userid:"",password:""}),n=H(!1),r=H(""),a=H(!1),i="54312298cf4b1fd768bf564c5fc91596",l="jXV3t3de1oX3Bp6TIF9z",c="http://localhost:8080/auth/callback",f=async N=>{try{const M=N.startsWith("Bearer ")?N.substring(7):N;localStorage.setItem("jwt",M);let E="KAKAO",O="소셜사용자",S=null;try{const k=M.split(".");if(k.length===3){let w=k[1].replace(/-/g,"+").replace(/_/g,"/");for(;w.length%4;)w+="=";const C=JSON.parse(atob(w));C.sub&&C.sub.includes("kakao_")?E="KAKAO":C.sub&&C.sub.includes("naver_")&&(E="NAVER"),C.name&&C.name.trim()&&C.name!=="사용자"&&(O=C.name.trim()),S=C.email}}catch{}if(localStorage.setItem("login_type","SOCIAL"),localStorage.setItem("social_provider",E),localStorage.setItem("social_name",O),sessionStorage.setItem("social_name",O),sessionStorage.setItem("login_type","SOCIAL"),S&&(localStorage.setItem("social_email",S),sessionStorage.setItem("social_email",S)),vs(M))await t.push("/");else throw new Error("토큰 처리 실패")}catch(M){r.value=`로그인 처리 중 오류: ${M.message}`}},u=async N=>{try{const M=await Ie.get("/api/users/profile");if(M.data&&M.data.success&&M.data.data){const E=M.data.data;if(Dm(E))return!0}}catch{}return!1},d=async()=>{const N=new URLSearchParams(window.location.search),M=N.get("token"),E=N.get("error");if(E){r.value=decodeURIComponent(E),window.history.replaceState({},document.title,window.location.pathname);return}if(M){try{await f(M),window.history.replaceState({},document.title,window.location.pathname)}catch{r.value="소셜 로그인 처리 중 오류가 발생했습니다.",window.history.replaceState({},document.title,window.location.pathname)}return}};Ze(()=>{const N=localStorage.getItem("savedUserId");N&&(s.userid=N,n.value=!0),d()});const m=async()=>{if(!s.userid.trim()){r.value="아이디를 입력해주세요.";return}if(!s.password.trim()){r.value="비밀번호를 입력해주세요.";return}a.value=!0,r.value="";try{const N=await Ie.post("/auth/login",{userid:s.userid,passwd:s.password},{skipGlobalErrorHandler:!0});N.data.success&&N.data.token&&(localStorage.setItem("jwt",N.data.token),localStorage.setItem("login_type","NORMAL"),sessionStorage.setItem("login_type","NORMAL"),localStorage.removeItem("social_provider"),localStorage.removeItem("social_name"),localStorage.removeItem("social_email"),sessionStorage.removeItem("social_provider"),sessionStorage.removeItem("social_name"),sessionStorage.removeItem("social_email"),vs(N.data.token),await u(N.data.token),n.value?localStorage.setItem("savedUserId",s.userid):localStorage.removeItem("savedUserId"),await t.push("/"))}catch(N){if(N.response){const M=N.response.status,E=N.response.data;if(E&&E.message)r.value=E.message;else switch(M){case 400:r.value="아이디 또는 비밀번호가 틀렸습니다. 다시 확인 후 로그인 부탁드립니다.";break;case 401:r.value="인증에 실패했습니다. 아이디와 비밀번호를 확인해주세요.";break;case 403:r.value="접근이 거부되었습니다.";break;case 404:r.value="존재하지 않는 아이디입니다.";break;case 500:r.value="서버 내부 오류입니다. 잠시 후 다시 시도해주세요.";break;default:r.value=`로그인 실패 (오류 코드: ${M})`}}else N.request?r.value="서버에 연결할 수 없습니다. 네트워크 상태를 확인해주세요.":r.value="예상치 못한 오류가 발생했습니다."}finally{a.value=!1}},y=()=>{try{const N=R();localStorage.setItem("oauth_state",N);const M=`https://kauth.kakao.com/oauth/authorize?client_id=${i}&redirect_uri=${encodeURIComponent(c)}&response_type=code&state=${N}`;window.location.href=M}catch{r.value="카카오 로그인 처리 중 오류가 발생했습니다."}},P=()=>{try{const N=R();localStorage.setItem("oauth_state",N);const M=`https://nid.naver.com/oauth2.0/authorize?client_id=${l}&redirect_uri=${encodeURIComponent(c)}&response_type=code&state=${N}&scope=profile`;window.location.href=M}catch{r.value="네이버 로그인 처리 중 오류가 발생했습니다."}},R=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);return(N,M)=>{const E=vt("router-link");return _(),b("div",dy,[o("div",fy,[M[10]||(M[10]=o("h4",{class:"text-center mb-4"},"로그인",-1)),o("form",{onSubmit:_t(m,["prevent"])},[o("div",py,[M[3]||(M[3]=o("label",{for:"userid",class:"form-label"},"아이디",-1)),_e(o("input",{"onUpdate:modelValue":M[0]||(M[0]=O=>s.userid=O),type:"text",class:"form-control",id:"userid",required:""},null,512),[[Te,s.userid]])]),o("div",hy,[M[4]||(M[4]=o("label",{for:"password",class:"form-label"},"비밀번호",-1)),_e(o("input",{"onUpdate:modelValue":M[1]||(M[1]=O=>s.password=O),type:"password",class:"form-control",id:"password",required:""},null,512),[[Te,s.password]])]),o("div",my,[o("div",vy,[_e(o("input",{class:"form-check-input",type:"checkbox",id:"rememberId","onUpdate:modelValue":M[2]||(M[2]=O=>n.value=O)},null,512),[[Bt,n.value]]),M[5]||(M[5]=o("label",{class:"form-check-label",for:"rememberId"},"아이디 저장",-1))]),o("div",null,[we(E,{to:"/findId",class:"small me-2"},{default:Je(()=>M[6]||(M[6]=[ge("아이디 찾기")])),_:1,__:[6]}),we(E,{to:"/findPassword",class:"small"},{default:Je(()=>M[7]||(M[7]=[ge("비밀번호 찾기")])),_:1,__:[7]})])]),o("button",{type:"submit",class:"btn btn-primary w-100",disabled:a.value},T(a.value?"로그인 중...":"로그인"),9,gy),r.value.length>0?(_(),b("div",yy,T(r.value),1)):G("",!0),M[9]||(M[9]=o("div",{class:"divider my-4"},[o("span",null,"또는")],-1)),o("div",_y,[o("button",{type:"button",class:"btn w-100 mb-2",style:{"background-color":"#FEE500",color:"#000",border:"none"},onClick:y,disabled:a.value}," 카카오로 로그인 ",8,by),o("button",{type:"button",class:"btn w-100 mb-3",style:{"background-color":"#03C75A",color:"white",border:"none"},onClick:P,disabled:a.value}," 네이버로 로그인 ",8,wy)]),o("div",ky,[we(E,{to:"/register",class:"text-decoration-none btn btn-dark w-100"},{default:Je(()=>M[8]||(M[8]=[ge(" 회원가입 ")])),_:1,__:[8]})])],32)])])}}},Cy=ze(Sy,[["__scopeId","data-v-91d77007"]]),Iy={class:"form-wrapper"},$y={class:"form-table"},Ey={class:"form-row"},xy={class:"input-wrap"},Ty={class:"input-inline"},Ay=["disabled"],Ry={class:"form-row"},Py={class:"form-row"},Oy={class:"input-wrap"},Ny={key:0,class:"error"},Ly={class:"form-row"},Dy={class:"form-row"},My={class:"input-inline"},Uy=["disabled"],jy=["disabled"],By=["disabled"],qy={class:"form-row"},Hy={class:"form-row"},Fy={class:"form-row"},Vy={class:"input-inline"},Wy={key:0,class:"mt-1"},zy={class:"form-row"},Jy={class:"input-wrap"},Gy={class:"input-inline"},Ky={class:"form-row"},Zy={class:"form-row"},Xy={class:"form-row"},Yy={class:"gender-toggle"},Qy={class:"form-row"},e0={class:"terms-wrap"},t0={class:"checkbox-inline"},s0={class:"checkbox-inline"},n0={key:0,class:"terms-content"},r0={class:"checkbox-inline"},o0={key:1,class:"terms-content"},a0={class:"checkbox-inline"},i0={key:2,class:"terms-content"},l0=["disabled"],kl="http://localhost:8080",c0={__name:"Register",setup(e){const t=Qe(),s=ss({userid:"",userPwd:"",confirmPwd:"",userPhone:"",userName:"",nickname:"",emailId:"",emailDomain:"",customDomain:"",zipcode:"",userAddress:"",detailAddress:"",birthDate:"",gender:"U",agreeTermsRequired:!1,agreePrivacy:!1,agreeMarketing:!1,agreeAll:!1}),n=ss({terms:!1,privacy:!1,marketing:!1}),r=H(""),a=H(""),i=H(!1),l=H(""),c=H(!1),f=H(""),u=H(""),d=H(!1),m=ke(()=>s.confirmPwd&&s.userPwd!==s.confirmPwd),y=ke(()=>s.userid&&s.userPwd&&s.confirmPwd&&!m.value&&s.userPhone&&s.userName&&s.emailId&&s.emailDomain&&i.value&&d.value&&s.agreeTermsRequired&&s.agreePrivacy);Ze(()=>{P()});function P(){if(window.daum&&window.daum.Postcode)return;const k=document.createElement("script");k.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",document.head.appendChild(k)}async function R(){if(!s.userid){r.value="아이디를 입력해주세요.",a.value="error";return}if(s.userid.length<4){r.value="아이디는 4자 이상 입력해주세요.",a.value="error",i.value=!1;return}try{const k=await fetch(`${kl}/api/users/checkUserId?userId=${s.userid}`);if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);(await k.json()).available?(r.value="사용 가능한 아이디입니다.",a.value="success",i.value=!0):(r.value="이미 사용 중인 아이디입니다.",a.value="error",i.value=!1)}catch{r.value="중복 확인 중 오류가 발생했습니다.",a.value="error",i.value=!1}}function N(){if(!s.userPhone){f.value="전화번호를 입력해주세요.",u.value="error";return}c.value=!0,f.value="인증번호가 발송되었습니다.",u.value="success",setTimeout(()=>{d.value||(c.value=!1,f.value="인증번호가 만료되었습니다. 다시 발송해주세요.",u.value="error")},3e5)}function M(){if(!l.value){f.value="인증번호를 입력해주세요.",u.value="error";return}l.value==="123456"?(d.value=!0,f.value="인증이 완료되었습니다.",u.value="success"):(f.value="인증번호가 일치하지 않습니다.",u.value="error")}function E(){if(!window.daum||!window.daum.Postcode){alert("주소 검색 서비스를 로딩 중입니다. 잠시 후 다시 시도해주세요.");return}new window.daum.Postcode({oncomplete:function(k){var C;let w="";k.userSelectedType==="R"?w=k.roadAddress:w=k.jibunAddress,s.zipcode=k.zonecode,s.userAddress=w,(C=document.querySelector('input[v-model="form.detailAddress"]'))==null||C.focus()}}).open()}function O(){const k=s.agreeAll;s.agreeTermsRequired=k,s.agreePrivacy=k,s.agreeMarketing=k}function S(k){n[k]=!n[k]}async function A(){if(!y.value){alert("필수 정보를 모두 입력해주세요.");return}try{const k={userId:s.userid,password:s.userPwd,name:s.userName,nickname:s.nickname||null,email:`${s.emailId}@${s.emailDomain==="custom"?s.customDomain:s.emailDomain}`,phone:s.userPhone,zipcode:s.zipcode,address:s.userAddress+" "+(s.detailAddress||""),myAddress:s.detailAddress||null,birthDate:s.birthDate,gender:s.gender,marketingAgree:s.agreeMarketing?"Y":"N"},w=await fetch(`${kl}/api/users/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(w.ok){const C=await w.json();alert(`회원가입이 완료되었습니다!
홈페이지로 이동합니다.`),await t.push("/")}else{const C=await w.text();w.status===409?alert("이미 가입된 아이디 또는 이메일입니다."):w.status===400?alert("입력 정보가 올바르지 않습니다. 다시 확인해주세요."):alert(`회원가입 중 오류가 발생했습니다. (오류 코드: ${w.status})`)}}catch(k){k.name==="TypeError"&&k.message.includes("fetch")?alert("서버에 연결할 수 없습니다. 네트워크 연결을 확인해주세요."):alert("회원가입 중 예상치 못한 오류가 발생했습니다.")}}return(k,w)=>(_(),b("div",Iy,[w[46]||(w[46]=o("h2",{class:"form-title"},"회원가입",-1)),o("div",$y,[o("div",Ey,[w[24]||(w[24]=o("label",null,[ge("아이디 "),o("span",{class:"required"},"*")],-1)),o("div",xy,[o("div",Ty,[_e(o("input",{type:"text","onUpdate:modelValue":w[0]||(w[0]=C=>s.userid=C),placeholder:"아이디 입력"},null,512),[[Te,s.userid]]),o("button",{onClick:R,disabled:!s.userid},"중복 확인",8,Ay)]),r.value?(_(),b("small",{key:0,class:$e(a.value)},T(r.value),3)):G("",!0)])]),o("div",Ry,[w[25]||(w[25]=o("label",null,[ge("비밀번호 "),o("span",{class:"required"},"*")],-1)),_e(o("input",{type:"password","onUpdate:modelValue":w[1]||(w[1]=C=>s.userPwd=C)},null,512),[[Te,s.userPwd]])]),o("div",Py,[w[26]||(w[26]=o("label",null,[ge("비밀번호 확인 "),o("span",{class:"required"},"*")],-1)),o("div",Oy,[_e(o("input",{type:"password","onUpdate:modelValue":w[2]||(w[2]=C=>s.confirmPwd=C)},null,512),[[Te,s.confirmPwd]]),m.value?(_(),b("small",Ny,"비밀번호가 일치하지 않습니다.")):G("",!0)])]),o("div",Ly,[w[27]||(w[27]=o("label",null,[ge("전화번호 "),o("span",{class:"required"},"*")],-1)),_e(o("input",{type:"text","onUpdate:modelValue":w[3]||(w[3]=C=>s.userPhone=C),placeholder:"010-1234-5678"},null,512),[[Te,s.userPhone]])]),o("div",Dy,[w[28]||(w[28]=o("label",null,"인증",-1)),o("div",My,[o("button",{onClick:N,disabled:!s.userPhone},"인증번호 발송",8,Uy),_e(o("input",{type:"text","onUpdate:modelValue":w[4]||(w[4]=C=>l.value=C),placeholder:"인증번호 입력",disabled:!c.value},null,8,jy),[[Te,l.value]]),o("button",{onClick:M,disabled:!l.value},"인증 확인",8,By)]),f.value?(_(),b("div",{key:0,class:$e([u.value,"auth-message"])},T(f.value),3)):G("",!0)]),o("div",qy,[w[29]||(w[29]=o("label",null,[ge("이름 "),o("span",{class:"required"},"*")],-1)),_e(o("input",{type:"text","onUpdate:modelValue":w[5]||(w[5]=C=>s.userName=C)},null,512),[[Te,s.userName]])]),o("div",Hy,[w[30]||(w[30]=o("label",null,"닉네임",-1)),_e(o("input",{type:"text","onUpdate:modelValue":w[6]||(w[6]=C=>s.nickname=C)},null,512),[[Te,s.nickname]])]),o("div",Fy,[w[33]||(w[33]=o("label",null,[ge("이메일 "),o("span",{class:"required"},"*")],-1)),o("div",Vy,[_e(o("input",{type:"text","onUpdate:modelValue":w[7]||(w[7]=C=>s.emailId=C),placeholder:"example"},null,512),[[Te,s.emailId]]),w[32]||(w[32]=o("span",null,"@",-1)),_e(o("select",{"onUpdate:modelValue":w[8]||(w[8]=C=>s.emailDomain=C)},w[31]||(w[31]=[Xe('<option disabled value="" data-v-6133a19a>선택</option><option value="gmail.com" data-v-6133a19a>gmail.com</option><option value="naver.com" data-v-6133a19a>naver.com</option><option value="daum.net" data-v-6133a19a>daum.net</option><option value="hotmail.com" data-v-6133a19a>hotmail.com</option><option value="custom" data-v-6133a19a>직접 입력</option>',6)]),512),[[Rs,s.emailDomain]])]),s.emailDomain==="custom"?(_(),b("div",Wy,[_e(o("input",{type:"text","onUpdate:modelValue":w[9]||(w[9]=C=>s.customDomain=C),placeholder:"직접 입력 (예: mydomain.com)"},null,512),[[Te,s.customDomain]])])):G("",!0)]),o("div",zy,[w[34]||(w[34]=o("label",null,"주소",-1)),o("div",Jy,[o("div",Gy,[_e(o("input",{type:"text","onUpdate:modelValue":w[10]||(w[10]=C=>s.zipcode=C),placeholder:"우편번호",readonly:""},null,512),[[Te,s.zipcode]]),o("button",{onClick:E},"주소 검색")]),_e(o("input",{type:"text","onUpdate:modelValue":w[11]||(w[11]=C=>s.userAddress=C),placeholder:"주소",readonly:"",class:"mt-1"},null,512),[[Te,s.userAddress]])])]),o("div",Ky,[w[35]||(w[35]=o("label",null,"상세주소",-1)),_e(o("input",{type:"text","onUpdate:modelValue":w[12]||(w[12]=C=>s.detailAddress=C),placeholder:"상세주소를 입력하세요"},null,512),[[Te,s.detailAddress]])]),o("div",Zy,[w[36]||(w[36]=o("label",null,"생년월일",-1)),_e(o("input",{type:"date","onUpdate:modelValue":w[13]||(w[13]=C=>s.birthDate=C)},null,512),[[Te,s.birthDate]])]),o("div",Xy,[w[40]||(w[40]=o("label",null,"성별",-1)),o("div",Yy,[o("label",{class:$e({active:s.gender==="M"})},[_e(o("input",{type:"radio",value:"M","onUpdate:modelValue":w[14]||(w[14]=C=>s.gender=C)},null,512),[[Qt,s.gender]]),w[37]||(w[37]=ge(" 남자 "))],2),o("label",{class:$e({active:s.gender==="F"})},[_e(o("input",{type:"radio",value:"F","onUpdate:modelValue":w[15]||(w[15]=C=>s.gender=C)},null,512),[[Qt,s.gender]]),w[38]||(w[38]=ge(" 여자 "))],2),o("label",{class:$e({active:s.gender==="U"})},[_e(o("input",{type:"radio",value:"U","onUpdate:modelValue":w[16]||(w[16]=C=>s.gender=C)},null,512),[[Qt,s.gender]]),w[39]||(w[39]=ge(" 선택 안 함 "))],2)])]),o("div",Qy,[w[45]||(w[45]=o("label",null,"이용약관",-1)),o("div",e0,[o("div",t0,[_e(o("input",{type:"checkbox","onUpdate:modelValue":w[17]||(w[17]=C=>s.agreeAll=C),onChange:O},null,544),[[Bt,s.agreeAll]]),w[41]||(w[41]=o("span",null,"전체 동의합니다",-1))]),o("div",s0,[_e(o("input",{type:"checkbox","onUpdate:modelValue":w[18]||(w[18]=C=>s.agreeTermsRequired=C)},null,512),[[Bt,s.agreeTermsRequired]]),w[42]||(w[42]=o("span",null,"이용약관 동의 (필수)",-1)),o("button",{type:"button",onClick:w[19]||(w[19]=C=>S("terms"))},"보기")]),n.terms?(_(),b("div",n0,"여기에 이용약관 내용이 표시됩니다.")):G("",!0),o("div",r0,[_e(o("input",{type:"checkbox","onUpdate:modelValue":w[20]||(w[20]=C=>s.agreePrivacy=C)},null,512),[[Bt,s.agreePrivacy]]),w[43]||(w[43]=o("span",null,"개인정보 수집 및 이용 동의 (필수)",-1)),o("button",{type:"button",onClick:w[21]||(w[21]=C=>S("privacy"))},"보기")]),n.privacy?(_(),b("div",o0,"여기에 개인정보 수집 내용이 표시됩니다.")):G("",!0),o("div",a0,[_e(o("input",{type:"checkbox","onUpdate:modelValue":w[22]||(w[22]=C=>s.agreeMarketing=C)},null,512),[[Bt,s.agreeMarketing]]),w[44]||(w[44]=o("span",null,"마케팅 수신 동의 (선택)",-1)),o("button",{type:"button",onClick:w[23]||(w[23]=C=>S("marketing"))},"보기")]),n.marketing?(_(),b("div",i0,"여기에 마케팅 수신 내용이 표시됩니다.")):G("",!0)])])]),o("button",{class:"submit-btn",onClick:A,disabled:!y.value},"회원가입",8,l0)]))}},u0=ze(c0,[["__scopeId","data-v-6133a19a"]]),d0={class:"container mt-5",style:{"max-width":"400px"}},f0={class:"mb-3"},p0=["disabled"],h0={class:"mb-3"},m0=["disabled"],v0=["disabled"],g0={key:0,class:"alert alert-success mt-3"},y0={key:1,class:"alert alert-danger mt-3"},_0={key:2,class:"action-buttons mt-3"},b0={class:"d-grid gap-2"},w0={key:3,class:"bottom-links mt-4 text-center"},k0={class:"d-flex justify-content-between"},S0={__name:"FindId",setup(e){const t=Qe(),s=H(""),n=H(""),r=H(""),a=H(""),i=H(!1),l=H(""),c=async()=>{var m,y;if(!n.value.trim()||!s.value.trim()){a.value="이름과 이메일을 모두 입력해주세요.";return}i.value=!0,a.value="",r.value="";try{const P=await Ie.get("/api/users/findId",{params:{name:n.value,email:s.value},withAuth:!1,timeout:1e4});P.data.success?(l.value=P.data.userId,r.value=`회원님의 아이디는: ${P.data.userId} 입니다.`):a.value=P.data.message||"아이디를 찾을 수 없습니다."}catch(P){if(P.response)switch(P.response.status){case 400:a.value=((m=P.response.data)==null?void 0:m.message)||"입력 정보를 확인해주세요.";break;case 404:a.value="입력하신 정보와 일치하는 계정을 찾을 수 없습니다.";break;case 500:a.value="서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요.";break;default:a.value=((y=P.response.data)==null?void 0:y.message)||"아이디 찾기에 실패했습니다."}else P.request?a.value="서버에 연결할 수 없습니다. 네트워크 상태를 확인해주세요.":a.value="요청 처리 중 오류가 발생했습니다."}finally{i.value=!1}},f=()=>{t.push({path:"/findPassword",query:{userId:l.value,name:n.value,email:s.value}})},u=()=>{n.value="",s.value="",r.value="",a.value="",l.value=""};return Ge([n,s],()=>{a.value="",r.value="",l.value=""}),(m,y)=>{const P=vt("router-link");return _(),b("div",d0,[y[8]||(y[8]=o("h3",{class:"mb-4"},"아이디 찾기",-1)),o("form",{onSubmit:_t(c,["prevent"])},[o("div",f0,[y[2]||(y[2]=o("label",{for:"name",class:"form-label"},"이름",-1)),_e(o("input",{"onUpdate:modelValue":y[0]||(y[0]=R=>n.value=R),type:"text",class:"form-control",id:"name",required:"",disabled:i.value},null,8,p0),[[Te,n.value]])]),o("div",h0,[y[3]||(y[3]=o("label",{for:"email",class:"form-label"},"가입 시 사용한 이메일",-1)),_e(o("input",{"onUpdate:modelValue":y[1]||(y[1]=R=>s.value=R),type:"email",class:"form-control",id:"email",required:"",disabled:i.value},null,8,m0),[[Te,s.value]])]),o("button",{type:"submit",class:"btn btn-primary w-100",disabled:i.value},T(i.value?"찾는 중...":"아이디 찾기"),9,v0)],32),r.value&&!a.value?(_(),b("div",g0,T(r.value),1)):G("",!0),a.value?(_(),b("div",y0,T(a.value),1)):G("",!0),r.value&&!a.value?(_(),b("div",_0,[o("div",b0,[we(P,{to:"/login",class:"btn btn-primary"},{default:Je(()=>y[4]||(y[4]=[ge(" 로그인하러 가기 ")])),_:1,__:[4]}),o("button",{onClick:f,class:"btn btn-outline-secondary"}," 비밀번호 찾기 "),o("button",{onClick:u,class:"btn btn-outline-info"}," 다른 아이디 찾기 ")])])):G("",!0),r.value?G("",!0):(_(),b("div",w0,[o("div",k0,[we(P,{to:"/login",class:"text-decoration-none small"},{default:Je(()=>y[5]||(y[5]=[ge(" 로그인 ")])),_:1,__:[5]}),we(P,{to:"/findPassword",class:"text-decoration-none small"},{default:Je(()=>y[6]||(y[6]=[ge(" 비밀번호 찾기 ")])),_:1,__:[6]}),we(P,{to:"/register",class:"text-decoration-none small"},{default:Je(()=>y[7]||(y[7]=[ge(" 회원가입 ")])),_:1,__:[7]})])]))])}}},C0=ze(S0,[["__scopeId","data-v-fae8a429"]]),I0={class:"find-password-container"},$0={class:"container mt-5",style:{"max-width":"500px"}},E0={class:"form-card"},x0={class:"mb-3"},T0=["disabled"],A0={class:"mb-3"},R0=["disabled"],P0=["disabled"],O0={key:0,class:"loading-spinner"},N0={key:1,class:"icon-emoji"},L0={key:0,class:"alert alert-success custom-alert mt-3"},D0={key:1,class:"alert alert-danger custom-alert mt-3"},M0={key:2,class:"success-actions mt-4"},U0={class:"text-center"},j0={class:"d-grid gap-2"},B0={class:"bottom-navigation mt-4"},q0={class:"nav-card"},H0={class:"row text-center"},F0={class:"col-4"},V0={class:"col-4"},W0={class:"col-4"},z0={__name:"FindPassword",setup(e){const t=Vt();Qe();const s=H(""),n=H(""),r=H(""),a=H(""),i=H(!1),l=H(!1);Ze(()=>{t.query.userId&&(s.value=t.query.userId),t.query.email&&(n.value=t.query.email),(t.query.userId||t.query.email)&&setTimeout(()=>{c("아이디 찾기에서 전달받은 정보가 자동으로 입력되었습니다.")},500)});const c=d=>{const m=document.createElement("div");m.className="alert alert-info custom-alert mt-2",m.innerHTML=`<span class="icon-emoji">ℹ️</span>${d}`,m.style.animation="fadeInOut 3s ease-in-out",document.querySelector(".form-card").appendChild(m),setTimeout(()=>{m.parentNode&&m.parentNode.removeChild(m)},3e3)},f=async()=>{var d,m;if(!s.value.trim()||!n.value.trim()){a.value="아이디와 이메일을 모두 입력해주세요.";return}i.value=!0,a.value="",r.value="",l.value=!1;try{const y=await Ie.post("/auth/findPassword",{userid:s.value.trim(),email:n.value.trim()},{withAuth:!1,timeout:15e3});y.data.success!==!1?(r.value=y.data.message||"비밀번호 재설정 이메일이 발송되었습니다.",l.value=!0,setTimeout(()=>{document.querySelector("#userid").disabled=!0,document.querySelector("#email").disabled=!0},100)):a.value=y.data.message||"비밀번호 찾기에 실패했습니다."}catch(y){if(y.response)switch(y.response.status){case 400:a.value=((d=y.response.data)==null?void 0:d.message)||"입력 정보를 확인해주세요.";break;case 404:a.value="입력하신 정보와 일치하는 계정을 찾을 수 없습니다.";break;case 429:a.value="너무 많은 요청입니다. 잠시 후 다시 시도해주세요.";break;case 500:a.value="서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요.";break;default:a.value=((m=y.response.data)==null?void 0:m.message)||"비밀번호 찾기에 실패했습니다."}else y.request?a.value="서버에 연결할 수 없습니다. 네트워크 상태를 확인해주세요.":a.value="요청 처리 중 오류가 발생했습니다."}finally{i.value=!1}};return Ge([s,n],()=>{a.value="",r.value="",l.value=!1}),(d,m)=>{const y=vt("router-link");return _(),b("div",I0,[o("div",$0,[m[11]||(m[11]=Xe('<div class="header-section text-center mb-4" data-v-9b3d085f><div class="icon-wrapper mb-3" data-v-9b3d085f><div class="key-icon" data-v-9b3d085f>🔑</div></div><h3 class="title" data-v-9b3d085f>비밀번호 찾기</h3><p class="subtitle" data-v-9b3d085f>가입하신 정보를 입력하시면 비밀번호를 재설정할 수 있습니다.</p></div>',1)),o("div",E0,[o("form",{onSubmit:_t(f,["prevent"])},[o("div",x0,[m[2]||(m[2]=o("label",{for:"userid",class:"form-label"},[o("span",{class:"icon-emoji"},"👤"),ge("아이디 ")],-1)),_e(o("input",{"onUpdate:modelValue":m[0]||(m[0]=P=>s.value=P),type:"text",class:"form-control custom-input",id:"userid",placeholder:"아이디를 입력하세요",required:"",disabled:i.value},null,8,T0),[[Te,s.value]])]),o("div",A0,[m[3]||(m[3]=o("label",{for:"email",class:"form-label"},[o("span",{class:"icon-emoji"},"📧"),ge("가입 시 사용한 이메일 ")],-1)),_e(o("input",{"onUpdate:modelValue":m[1]||(m[1]=P=>n.value=P),type:"email",class:"form-control custom-input",id:"email",placeholder:"example@email.com",required:"",disabled:i.value},null,8,R0),[[Te,n.value]])]),o("button",{type:"submit",class:"btn btn-primary custom-btn w-100",disabled:i.value},[i.value?(_(),b("span",O0)):(_(),b("span",N0,"✉️")),ge(" "+T(i.value?"처리 중...":"비밀번호 초기화 요청"),1)],8,P0)],32)]),r.value&&!a.value?(_(),b("div",L0,[m[4]||(m[4]=o("span",{class:"icon-emoji"},"✅",-1)),ge(" "+T(r.value),1)])):G("",!0),a.value?(_(),b("div",D0,[m[5]||(m[5]=o("span",{class:"icon-emoji"},"⚠️",-1)),ge(" "+T(a.value),1)])):G("",!0),l.value?(_(),b("div",M0,[o("div",U0,[m[7]||(m[7]=o("p",{class:"success-text small mb-3"}," 이메일을 확인하신 후 새 비밀번호로 로그인해주세요. ",-1)),o("div",j0,[we(y,{to:"/login",class:"btn btn-outline-primary success-btn"},{default:Je(()=>m[6]||(m[6]=[o("span",{class:"icon-emoji"},"🚪",-1),ge(" 로그인 페이지로 이동 ")])),_:1,__:[6]})])])])):G("",!0),o("div",B0,[o("div",q0,[o("div",H0,[o("div",F0,[we(y,{to:"/findId",class:"nav-link-custom"},{default:Je(()=>m[8]||(m[8]=[o("span",{class:"nav-icon"},"🔍",-1),o("span",null,"아이디 찾기",-1)])),_:1,__:[8]})]),o("div",V0,[we(y,{to:"/login",class:"nav-link-custom"},{default:Je(()=>m[9]||(m[9]=[o("span",{class:"nav-icon"},"🚪",-1),o("span",null,"로그인",-1)])),_:1,__:[9]})]),o("div",W0,[we(y,{to:"/register",class:"nav-link-custom"},{default:Je(()=>m[10]||(m[10]=[o("span",{class:"nav-icon"},"👥",-1),o("span",null,"회원가입",-1)])),_:1,__:[10]})])])])]),m[12]||(m[12]=Xe('<div class="help-section mt-4" data-v-9b3d085f><details class="help-details" data-v-9b3d085f><summary class="help-summary" data-v-9b3d085f><span class="icon-emoji" data-v-9b3d085f>❓</span> 비밀번호 찾기가 안 되시나요? </summary><div class="help-content" data-v-9b3d085f><ul class="help-list" data-v-9b3d085f><li data-v-9b3d085f>아이디와 이메일 정보를 정확히 입력했는지 확인해주세요.</li><li data-v-9b3d085f>스팸함을 포함하여 이메일을 확인해주세요.</li><li data-v-9b3d085f>가입 시 사용한 이메일 주소가 맞는지 확인해주세요.</li><li data-v-9b3d085f>문제가 지속되면 고객센터(1588-1234)로 문의해주세요.</li></ul></div></details></div>',1))])])}}},J0=ze(z0,[["__scopeId","data-v-9b3d085f"]]),G0={class:"main-container"},K0={key:0,class:"search-results-header"},Z0={class:"search-info"},X0={class:"search-title"},Y0={class:"search-stats"},Q0={class:"result-count"},e_={key:0,class:"total-count"},t_={key:1,class:"category-container"},s_={class:"category-list"},n_=["onClick"],r_={class:"category-icon"},o_=["src","alt"],a_={key:1,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i_={class:"category-name"},l_={key:2,class:"sub-category-container"},c_={class:"sub-category-list"},u_=["onClick"],d_={class:"sub-category-name"},f_={class:"best-section"},p_={class:"best-header"},h_={class:"best-title"},m_={class:"filter-tabs"},v_=["onClick"],g_={key:0,class:"loading-container"},y_={class:"loading-details"},__={key:1,class:"no-products"},b_={class:"no-products-icon"},w_={key:0,width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},k_={key:1,width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},S_={class:"no-products-details"},C_={class:"no-products-actions"},I_={key:2},$_={class:"products-slider-container"},E_={class:"products-info"},x_={class:"products-count"},T_=["onClick"],A_={class:"rank-badge"},R_={key:0,class:"live-badge"},P_={key:1,class:"viewers-count"},O_={class:"product-image"},N_=["src","alt"],L_={key:0,class:"image-error-overlay"},D_={class:"product-info"},M_=["innerHTML"],U_={class:"product-pricing"},j_={class:"price"},B_={key:0,class:"original-price"},q_={key:3,class:"products-grid-section"},H_={class:"grid-header"},F_={class:"grid-title"},V_={class:"grid-controls"},W_={class:"sort-controls"},z_={key:0,value:"relevance"},J_={class:"products-total"},G_={class:"products-grid"},K_=["onClick"],Z_={key:0,class:"live-badge"},X_={class:"product-image"},Y_=["src","alt"],Q_={key:0,class:"image-error-overlay"},eb={class:"product-info"},tb=["innerHTML"],sb={class:"product-pricing"},nb={class:"price"},rb={key:0,class:"original-price"},ob={class:"product-meta"},ab={key:0,class:"category-tag"},ib={key:0,class:"load-more-container"},rn="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pjwvc3ZnPg==",lb={__name:"Category",setup(e){const t=H("ALL"),s=H(""),n=H("sale"),r=H("default"),a=H(1),i=H(12),l=H(null),c=H(!1),f=H(0),u=H(0),d=Qe(),m=Vt(),y=H([]),P=H(!1),R=H(""),N=H([]),M=H([{categoryId:"ALL",name:"전체",icon:null,categoryDisplayOrder:0}]),E=H([{id:"sale",name:"상품"}]),O=H([]),S=p=>p.iconUrl&&p.iconUrl.trim()!==""?p.iconUrl.trim():p.icon&&p.icon.trim()!==""?p.icon.trim():p.categoryIcon&&p.categoryIcon.trim()!==""?`/icons/${{vegetables:"vegetables.svg",canned:"canned-food.svg",meal:"meal-box.svg",bread:"bread.svg",milk:"milk.svg",medicine:"medicine.svg",cooking:"cooking.svg",tissue:"tissue.svg",baby:"baby-bottle.svg"}[p.categoryIcon]||p.categoryIcon+".svg"}`:null,A=ke(()=>{if(!R.value)return O.value;const p=R.value.toLowerCase().trim();return N.value.filter(h=>{var U;return(((U=h.name)==null?void 0:U.toLowerCase())||"").includes(p)})}),k=ke(()=>R.value?A.value:O.value),w=p=>{if(!R.value||!p)return p;const h=R.value.trim(),I=new RegExp(`(${h})`,"gi");return p.replace(I,'<mark style="background-color: #fff3cd; color: #856404; padding: 2px 4px; border-radius: 3px; font-weight: 600;">$1</mark>')},C=()=>{R.value="",d.push({path:m.path})};ke(()=>{const p=M.value.find(h=>h.categoryId===t.value);return p?p.name:t.value});const z=ke(()=>{if(!k.value||k.value.length===0)return[];const p=[...k.value];switch(r.value){case"price-low":return p.sort((h,I)=>h.price-I.price);case"price-high":return p.sort((h,I)=>I.price-h.price);case"discount":return p.sort((h,I)=>(I.discount||0)-(h.discount||0));case"name":return p.sort((h,I)=>h.name.localeCompare(I.name));case"relevance":return R.value?p.sort((h,I)=>{var ye,ve;const U=((ye=h.name)==null?void 0:ye.toLowerCase())||"",Z=((ve=I.name)==null?void 0:ve.toLowerCase())||"",K=R.value.toLowerCase(),me=U.startsWith(K)?2:0,ne=Z.startsWith(K)?2:0,ue=U.includes(K)?1:0,le=Z.includes(K)?1:0;return ne+le-(me+ue)}):p;default:return p}}),X=ke(()=>{const h=a.value*i.value;return z.value.slice(0,h)}),J=async()=>{try{P.value=!0;let p;s.value&&s.value!==""?p=s.value:t.value==="ALL"?p="ALL":p=t.value;const h={categoryId:p,limit:20},U=(await Ie.get("/api/products/filter",{params:h,withAuth:!1})).data;if(!Array.isArray(U)){O.value=[],N.value=[];return}if(U.length===0){O.value=[],N.value=[];return}const Z=U.map((K,me)=>({id:K.productId||`product_${me}`,name:K.name||"상품명 없음",price:K.price||K.salePrice||0,originalPrice:K.originalPrice||K.price||0,discount:K.discount||K.discountRate||null,image:x(K),isLive:K.isLive||!1,viewers:K.viewers||null,categoryId:K.categoryId||"unknown",imageError:!1,_originalImageData:{mainImage:K.mainImage,image:K.image,images:K.images,mainImageUrl:K.mainImageUrl}}));O.value=Z,N.value=Z}catch{O.value=[],N.value=[]}finally{P.value=!1}},x=p=>{let h=null;if(p.mainImageUrl&&p.mainImageUrl.trim()!==""?h=p.mainImageUrl.trim():p.mainImage&&p.mainImage.trim()!==""?h=p.mainImage.trim():p.image&&p.image.trim()!==""?h=p.image.trim():p.images&&Array.isArray(p.images)&&p.images.length>0&&(h=p.images[0].trim()),h){let I;return h.startsWith("http://")||h.startsWith("https://")?I=h:h.startsWith("/api/")?I=`http://localhost:8080${h}`:h.startsWith("/")?I=`http://localhost:8080${h}`:I=`http://localhost:8080/api/images/products/${h}`,I}return rn},q=async()=>{try{const p=await Ie.get("/api/categories/main",{withAuth:!1});if(p.data&&p.data.length>0){const h={categoryId:"ALL",name:"전체",icon:null,categoryDisplayOrder:0},I=p.data.filter(U=>U.categoryUseYn==="Y"&&U.categoryLevel===1).sort((U,Z)=>U.categoryDisplayOrder-Z.categoryDisplayOrder).map(U=>({categoryId:String(U.categoryId),name:U.name,icon:S(U),categoryDisplayOrder:U.categoryDisplayOrder,categoryIcon:U.categoryIcon,iconUrl:U.iconUrl}));M.value=[h,...I]}}catch{M.value=[{categoryId:"ALL",name:"전체",icon:null,categoryDisplayOrder:0}]}},se=async p=>{var h;try{if(p==="ALL"){y.value=[];return}const I=await Ie.get(`/api/categories/${p}/sub`,{withAuth:!1});y.value=((h=I.data)==null?void 0:h.length)>0?I.data.filter(U=>U.categoryUseYn==="Y").sort((U,Z)=>U.categoryDisplayOrder-Z.categoryDisplayOrder).map(U=>({categoryId:U.categoryId,name:U.name,categoryDisplayOrder:U.categoryDisplayOrder})):[]}catch{y.value=[]}},ie=()=>{a.value=1},he=()=>{a.value+=1},te=async p=>{const h=String(p);R.value="",t.value=h,s.value="",a.value=1,r.value="default";try{await se(h),await J()}catch{}h==="ALL"?d.push("/category/"):d.push(`/category/${h}`)},L=async p=>{s.value!==p&&(s.value=p,a.value=1,await J())},v=async p=>{n.value=p,a.value=1,await J()},g=p=>{d.push(`/product/${p.id}`)},j=p=>(p==null?void 0:p.toLocaleString())||"0",D=p=>{const h=p.target;h.dataset.errorHandled==="true"||h.src===rn||(h.dataset.errorHandled="true",h.onerror=null,h.src=rn)},$=p=>{p.target.removeAttribute("data-error-handled")},F=p=>{p.preventDefault(),c.value=!0,f.value=p.pageX,u.value=l.value.scrollLeft,l.value.style.cursor="grabbing",l.value.style.userSelect="none"},re=p=>{if(!c.value)return;p.preventDefault();const I=(p.pageX-f.value)*1.5;l.value.scrollLeft=u.value-I},de=()=>{c.value&&(c.value=!1,l.value.style.cursor="grab",l.value.style.userSelect="auto")},V=p=>{const h=p.deltaY*.5;l.value.scrollLeft+=h},oe=p=>{c.value=!0,f.value=p.touches[0].pageX,u.value=l.value.scrollLeft},ee=p=>{if(!c.value)return;const I=(p.touches[0].pageX-f.value)*1.5;l.value.scrollLeft=u.value-I},ae=()=>{c.value=!1},Y=async()=>{try{const p=await Ie.get("/api/products/filter",{params:{categoryId:"ALL",limit:5},withAuth:!1});alert("디버깅 정보가 콘솔에 출력되었습니다.")}catch(p){alert("디버깅 실행 중 오류가 발생했습니다: "+p.message)}};return Ge(()=>m.query.search,p=>{p&&p!==R.value?(R.value=p,a.value=1,r.value="relevance"):!p&&R.value&&(R.value="")},{immediate:!0}),Ge(()=>m.params,async(p,h)=>{let I=!1,U=!1;p.categoryId&&p.categoryId!==t.value&&(R.value="",t.value=p.categoryId,s.value="",U=!0,I=!0),U&&await se(t.value),I&&await J()},{immediate:!1}),Ze(async()=>{try{await q(),m.query.search&&(R.value=m.query.search),!R.value&&m.params.categoryId&&(t.value=m.params.categoryId,await se(m.params.categoryId),m.params.subCategoryId&&(s.value=m.params.subCategoryId)),await J()}catch{}}),(p,h)=>(_(),b("div",G0,[R.value?(_(),b("div",K0,[o("div",Z0,[o("h2",X0,[h[4]||(h[4]=o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M21 21L16.514 16.506L21 21ZM19 10.5C19 15.194 15.194 19 10.5 19C5.806 19 2 15.194 2 10.5C2 5.806 5.806 2 10.5 2C15.194 2 19 5.806 19 10.5Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),ge(' "'+T(R.value)+'" 검색 결과 ',1)]),o("div",Y0,[o("span",Q0,T(A.value.length)+"개 상품",1),N.value.length>0?(_(),b("span",e_," (전체 "+T(N.value.length)+"개 중) ",1)):G("",!0)])]),o("div",{class:"search-actions"},[o("button",{onClick:C,class:"btn btn-outline-secondary btn-sm"}," 검색 해제 ")])])):G("",!0),R.value?G("",!0):(_(),b("div",t_,[o("div",s_,[(_(!0),b(Ee,null,De(M.value,I=>(_(),b("div",{key:I.categoryId,class:$e(["category-item",{active:String(t.value)===String(I.categoryId)}]),onClick:U=>te(I.categoryId)},[o("div",r_,[I.icon?(_(),b("img",{key:0,src:I.icon,alt:I.name,class:"icon-image"},null,8,o_)):(_(),b("svg",a_,h[5]||(h[5]=[o("path",{d:"M9 11H15M9 15H15M17 21H7C5.89543 21 5 20.1046 5 19V5C5 3.89543 5.89543 3 7 3H12.5858C12.851 3 13.1054 3.10536 13.2929 3.29289L19.7071 9.70711C19.8946 9.89464 20 10.149 20 10.4142V19C20 20.1046 19.1046 21 18 21H17Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))]),o("span",i_,T(I.name),1)],10,n_))),128))])])),!R.value&&y.value.length>0?(_(),b("div",l_,[o("div",c_,[o("div",{class:$e(["sub-category-item",{active:s.value===""}]),onClick:h[0]||(h[0]=I=>L(""))},h[6]||(h[6]=[o("span",{class:"sub-category-name"},"전체",-1)]),2),(_(!0),b(Ee,null,De(y.value,I=>(_(),b("div",{key:I.categoryId,class:$e(["sub-category-item",{active:s.value===I.categoryId}]),onClick:U=>L(I.categoryId)},[o("span",d_,T(I.name),1)],10,u_))),128))])])):G("",!0),o("div",f_,[o("div",p_,[o("h2",h_,[ge(T(R.value?"검색 상품":"인기 BEST")+" ",1),h[7]||(h[7]=o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"}),o("path",{d:"m9 12 2 2 4-4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),o("div",m_,[(_(!0),b(Ee,null,De(E.value,I=>(_(),b("button",{key:I.id,class:$e(["filter-tab",{active:n.value===I.id}]),onClick:U=>v(I.id)},T(I.name),11,v_))),128))])]),P.value?(_(),b("div",g_,[h[8]||(h[8]=o("div",{class:"loading-spinner"},null,-1)),o("p",null,T(R.value?"검색 중...":"상품을 불러오는 중..."),1),o("p",y_,T(R.value?`검색어: ${R.value}`:`카테고리: ${t.value} / 서브카테고리: ${s.value||"없음"}`),1)])):!k.value||k.value.length===0?(_(),b("div",__,[o("div",b_,[R.value?(_(),b("svg",w_,h[9]||(h[9]=[o("path",{d:"M21 21L16.514 16.506L21 21ZM19 10.5C19 15.194 15.194 19 10.5 19C5.806 19 2 15.194 2 10.5C2 5.806 5.806 2 10.5 2C15.194 2 19 5.806 19 10.5Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(_(),b("svg",k_,h[10]||(h[10]=[o("path",{d:"M20.5 16V10C20.5 9.61929 20.3069 9.27312 20 9.1L12 5.5L4 9.1C3.69308 9.27312 3.5 9.61929 3.5 10V16C3.5 16.3807 3.69308 16.7269 4 16.9L12 20.5L20 16.9C20.3069 16.7269 20.5 16.3807 20.5 16Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))]),o("h3",null,T(R.value?"검색 결과가 없습니다":"선택한 카테고리에 상품이 없습니다"),1),o("p",S_,T(R.value?`"${R.value}"에 대한 검색 결과를 찾을 수 없습니다.`:`현재 선택된 카테고리: ${t.value}${s.value?` > ${s.value}`:""}`),1),o("div",C_,[o("button",{onClick:h[1]||(h[1]=I=>R.value?C():J()),class:"action-btn primary"},T(R.value?"검색 해제":"다시 시도"),1),R.value?G("",!0):(_(),b("button",{key:0,onClick:h[2]||(h[2]=I=>te("ALL")),class:"action-btn secondary"},"전체 카테고리 보기")),o("button",{onClick:Y,class:"action-btn debug"},"디버깅 실행")])])):(_(),b("div",I_,[o("div",$_,[o("div",E_,[o("span",x_,T(R.value?`검색 결과 TOP ${Math.min(k.value.length,10)}`:`인기 상품 TOP ${Math.min(k.value.length,10)}`),1)]),o("div",{class:"products-horizontal-slider",ref_key:"slider",ref:l,onMousedown:F,onMousemove:re,onMouseup:de,onMouseleave:de,onWheelPassive:V,onTouchstartPassive:oe,onTouchmovePassive:ee,onTouchend:ae},[(_(!0),b(Ee,null,De(k.value.slice(0,10),(I,U)=>(_(),b("div",{key:I.id||U,class:"product-card horizontal",onClick:Z=>g(I)},[o("div",A_,T(U+1),1),I.isLive?(_(),b("div",R_,h[11]||(h[11]=[o("span",{class:"live-dot"},null,-1),ge(" LIVE ")]))):G("",!0),I.viewers?(_(),b("div",P_,[h[12]||(h[12]=o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),ge(" "+T(I.viewers),1)])):G("",!0),o("div",O_,[o("img",{src:I.image||rn,alt:I.name||"상품명 없음",onError:D,onLoad:$,loading:"lazy"},null,40,N_),I.imageError?(_(),b("div",L_,h[13]||(h[13]=[o("span",null,"이미지 로드 실패",-1)]))):G("",!0)]),o("div",D_,[o("h3",{class:"product-title",innerHTML:w(I.name)},null,8,M_),o("div",U_,[o("span",j_,T(j(I.price))+"원",1),I.originalPrice&&I.originalPrice!==I.price?(_(),b("span",B_,T(j(I.originalPrice))+"원 ",1)):G("",!0)]),h[14]||(h[14]=o("div",{class:"product-meta"},[o("span",{class:"shipping-info"},[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M16 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H16M16 3L21 8V21C21 20.1046 20.1046 19 19 19H16M16 3V8H21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),ge(" 무료배송 ")])],-1))])],8,T_))),128))],544)])]))]),k.value&&k.value.length>0?(_(),b("div",q_,[o("div",H_,[o("h2",F_,T(R.value?"검색 결과":"전체 상품"),1),o("div",V_,[o("div",W_,[h[16]||(h[16]=o("label",{for:"sortSelect"},"정렬:",-1)),_e(o("select",{id:"sortSelect","onUpdate:modelValue":h[3]||(h[3]=I=>r.value=I),onChange:ie,class:"sort-select"},[h[15]||(h[15]=Xe('<option value="default" data-v-600a16e9>기본순</option><option value="price-low" data-v-600a16e9>가격 낮은순</option><option value="price-high" data-v-600a16e9>가격 높은순</option><option value="discount" data-v-600a16e9>할인율순</option><option value="name" data-v-600a16e9>상품명순</option>',5)),R.value?(_(),b("option",z_,"관련도순")):G("",!0)],544),[[Rs,r.value]])]),o("div",J_," 총 "+T(z.value.length)+"개 상품 ",1)])]),o("div",G_,[(_(!0),b(Ee,null,De(X.value,(I,U)=>(_(),b("div",{key:I.id||U,class:"product-card grid",onClick:Z=>g(I)},[I.isLive?(_(),b("div",Z_,h[17]||(h[17]=[o("span",{class:"live-dot"},null,-1),ge(" LIVE ")]))):G("",!0),o("div",X_,[o("img",{src:I.image||rn,alt:I.name||"상품명 없음",onError:D,onLoad:$,loading:"lazy"},null,40,Y_),I.imageError?(_(),b("div",Q_,h[18]||(h[18]=[o("span",null,"이미지 로드 실패",-1)]))):G("",!0)]),o("div",eb,[o("h3",{class:"product-title",innerHTML:w(I.name)},null,8,tb),o("div",sb,[o("span",nb,T(j(I.price))+"원",1),I.originalPrice&&I.originalPrice!==I.price?(_(),b("span",rb,T(j(I.originalPrice))+"원 ",1)):G("",!0)]),o("div",ob,[h[19]||(h[19]=o("span",{class:"shipping-info"},[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M16 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H16M16 3L21 8V21C21 20.1046 20.1046 19 19 19H16M16 3V8H21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),ge(" 무료배송 ")],-1)),I.categoryId?(_(),b("span",ab,T(I.categoryId),1)):G("",!0)])])],8,K_))),128))]),z.value.length>a.value*i.value?(_(),b("div",ib,[o("button",{onClick:he,class:"load-more-btn"}," 더보기 ("+T(z.value.length-a.value*i.value)+"개 상품 더 있음) ",1)])):G("",!0)])):G("",!0)]))}},Sl=ze(lb,[["__scopeId","data-v-600a16e9"]]),cb={class:"mypage-container"},ub={class:"container-fluid"},db={class:"row"},fb={class:"col-md-3 sidebar"},pb={class:"user-info-section"},hb={class:"welcome-text"},mb={class:"username"},vb={key:0,class:"login-type-debug"},gb={class:"text-muted"},yb={class:"benefit-cards"},_b={class:"benefit-card"},bb={class:"benefit-value"},wb={class:"benefit-card"},kb={class:"benefit-value"},Sb={class:"benefit-card"},Cb={class:"benefit-value"},Ib={class:"menu-section"},$b={class:"menu-items"},Eb={class:"menu-info"},xb={class:"menu-count"},Tb={class:"bottom-links"},Ab={class:"link-section"},Rb={class:"link-section"},Pb={class:"social-restriction-badge"},Ob={class:"col-md-9 main-content"},Nb={class:"modal-header"},Lb={class:"social-icon"},Db={class:"modal-title"},Mb={class:"modal-body"},Ub={class:"alert-content"},jb={class:"alert-message"},Bb={class:"main-message"},qb={class:"restriction-details"},Hb={class:"restricted-services"},Fb={class:"help-section"},Vb={class:"help-text"},Wb={__name:"MyPage",setup(e,{expose:t}){const s=Vt(),n=Qe(),r=ke(()=>!1),a=H(!1),i=H(null),l=H(!1),c=ke(()=>ce),f=ke(()=>c.value.name?c.value.name+"님":"사용자님"),u=ke(()=>localStorage.getItem("login_type")||"UNKNOWN"),d=ke(()=>{switch(i.value){case"KAKAO":case"kakao":return"카카오";case"NAVER":case"naver":return"네이버";case"GOOGLE":case"google":return"구글";default:return"소셜"}}),m=()=>{switch(i.value){case"KAKAO":case"kakao":return"💬";case"NAVER":case"naver":return"🟢";case"GOOGLE":case"google":return"🔵";default:return"👤"}},y=ke(()=>({MyPageOrders:"orders",MyPageProfile:"profile",MyPageCoupons:"coupons",MyPageWishlist:"wishlist",MyPageFrequent:"frequent",MyPageReturns:"returns",MyPageReviews:"reviews",MyPageInquiries:"inquiries",MyPageVip:"vip"})[s.name]||"orders"),P=H(0),R=H(0),N=H(0),M=H(0),E=()=>{a.value,i.value,a.value=xn(),i.value=ld()};Ge(()=>c.value.id,async(J,x)=>{J&&J!==x?(await Ht(),await new Promise(q=>setTimeout(q,100)),E(),await z()):!J&&x&&(a.value=!1,i.value=null)},{immediate:!0}),Ge(()=>localStorage.getItem("login_type"),(J,x)=>{J!==x&&c.value.id&&setTimeout(()=>{E()},50)});const O=J=>{const q={orders:"MyPageOrders",profile:"MyPageProfile",coupons:"MyPageCoupons",wishlist:"MyPageWishlist",returns:"MyPageReturns",reviews:"MyPageReviews",inquiries:"MyPageInquiries",vip:"MyPageVip"}[J];q&&n.push({name:q})},S=()=>{l.value=!0},A=()=>{l.value=!1};function k(){if(xn()){S();return}n.push({name:"MyPageProfile"})}const w=async()=>{try{const J=await Ie.get("/api/orders/count");J.data.success&&(M.value=J.data.data||0)}catch(J){console.error("주문 개수 로드 실패:",J)}},C=J=>{J.orderCount!==void 0&&(M.value=J.orderCount),J.coupons!==void 0&&(R.value=J.coupons),J.giftCards!==void 0&&(N.value=J.giftCards)},z=async()=>{const J=[{name:"주문 개수",call:()=>Ie.get("/api/orders/count"),onSuccess:x=>{x.data.success?M.value=x.data.data||0:M.value=0}},{name:"장바구니 개수",call:()=>Ie.get("/api/cart/count"),onSuccess:x=>{x.data.success}}];await Promise.allSettled(J.map(async x=>{try{const q=await x.call();return x.onSuccess(q),{name:x.name,success:!0}}catch(q){return x.name==="주문 개수"&&(M.value=0),{name:x.name,success:!1,error:q.message}}}))},X=J=>{if(!J)return!1;try{const x=J.split(".");if(x.length!==3)return!1;let q=x[1].replace(/-/g,"+").replace(/_/g,"/");for(;q.length%4;)q+="=";const se=atob(q),ie=JSON.parse(se),he=Math.floor(Date.now()/1e3);return!(ie.exp&&ie.exp<he)}catch{return!1}};return Ze(async()=>{const J=localStorage.getItem("jwt");if(!J){n.push("/login");return}if(!X(J)){localStorage.removeItem("jwt"),n.push("/login");return}try{vs(J),await Ht(),await new Promise(x=>setTimeout(x,200)),E(),await z(),setTimeout(async()=>{await w()},1e3)}catch{localStorage.removeItem("jwt"),n.push("/login")}}),t({reloadOrderCount:w,checkSocialLoginStatus:E}),(J,x)=>{const q=vt("router-view");return _(),b("div",cb,[x[33]||(x[33]=o("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"},null,-1)),o("div",ub,[o("div",db,[o("div",fb,[o("div",pb,[o("div",hb,[x[7]||(x[7]=ge(" 반가워요! ")),o("span",mb,T(f.value),1),r.value?(_(),b("div",vb,[o("small",gb," ["+T(u.value)+T(a.value?` - ${d.value}`:"")+"] ",1)])):G("",!0)]),o("div",yb,[o("div",_b,[x[9]||(x[9]=o("div",{class:"benefit-label"},"적립금",-1)),o("div",bb,[ge(T((P.value||0).toLocaleString()),1),x[8]||(x[8]=o("span",{class:"unit"},"원",-1))])]),o("div",wb,[x[11]||(x[11]=o("div",{class:"benefit-label"},"할인쿠폰",-1)),o("div",kb,[ge(T(R.value||0),1),x[10]||(x[10]=o("span",{class:"unit"},"개",-1))])]),o("div",Sb,[x[13]||(x[13]=o("div",{class:"benefit-label"},"상품권",-1)),o("div",Cb,[ge(T(N.value||0),1),x[12]||(x[12]=o("span",{class:"unit"},"원",-1))])])]),x[14]||(x[14]=o("button",{class:"benefit-button"}," 쇼핑할 때 쓸 수 있는 혜택이 많이 ",-1))]),o("div",Ib,[x[21]||(x[21]=o("div",{class:"menu-title"},"자주 찾는 메뉴",-1)),o("div",$b,[o("div",{class:$e(["menu-item",{active:y.value==="orders"}]),onClick:x[0]||(x[0]=se=>O("orders"))},[x[16]||(x[16]=Xe('<div class="menu-icon orders-icon" data-v-d640e81e><svg class="svg-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d640e81e><path d="M20 7H4V5C4 4.44772 4.44772 4 5 4H19C19.5523 4 20 4.44772 20 5V7Z" fill="#1976d2" data-v-d640e81e></path><path d="M3 7H21V19C21 19.5523 20.5523 20 20 20H4C3.44772 20 3 19.5523 3 19V7Z" stroke="#1976d2" stroke-width="2" fill="none" data-v-d640e81e></path><path d="M9 11H15" stroke="#1976d2" stroke-width="2" stroke-linecap="round" data-v-d640e81e></path></svg></div>',1)),o("div",Eb,[x[15]||(x[15]=o("div",{class:"menu-name"},"주문 내역",-1)),o("div",xb,T(M.value||0),1)])],2),o("div",{class:$e(["menu-item",{active:y.value==="wishlist"}]),onClick:x[1]||(x[1]=se=>O("wishlist"))},x[17]||(x[17]=[Xe('<div class="menu-icon wishlist-icon" data-v-d640e81e><svg class="svg-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d640e81e><path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z" fill="#d32f2f" data-v-d640e81e></path></svg></div><div class="menu-info" data-v-d640e81e><div class="menu-name" data-v-d640e81e>찜한 상품</div><div class="menu-count" data-v-d640e81e>0</div></div>',2)]),2)]),o("div",Tb,[o("div",Ab,[x[18]||(x[18]=o("div",{class:"section-title"},"쇼핑",-1)),o("div",{class:$e(["link-item",{active:y.value==="returns"}]),onClick:x[2]||(x[2]=se=>O("returns"))}," 취소 · 반품 내역 ",2),o("div",{class:$e(["link-item",{active:y.value==="reviews"}]),onClick:x[3]||(x[3]=se=>O("reviews"))}," 상품 후기 ",2),o("div",{class:$e(["link-item",{active:y.value==="inquiries"}]),onClick:x[4]||(x[4]=se=>O("inquiries"))}," 상품 문의 ",2)]),o("div",Rb,[x[20]||(x[20]=o("div",{class:"section-title"},"내 정보관리",-1)),a.value?(_(),b("div",{key:1,class:"link-item disabled",onClick:S},[x[19]||(x[19]=o("span",{class:"disabled-text"},"회원 정보 관리",-1)),o("span",Pb,T(d.value)+" 로그인",1)])):(_(),b("div",{key:0,class:"link-item clickable",onClick:x[5]||(x[5]=se=>k())}," 회원 정보 관리 "))])])])]),o("div",Ob,[we(q,{onUpdateCounts:C})])])]),l.value?(_(),b("div",{key:0,class:"modal-overlay",onClick:A},[o("div",{class:"modal-content social-alert-modal",onClick:x[6]||(x[6]=_t(()=>{},["stop"]))},[o("div",Nb,[o("div",Lb,T(m()),1),o("h3",Db,T(d.value)+" 로그인 사용자",1),o("button",{onClick:A,class:"modal-close"},x[22]||(x[22]=[o("svg",{class:"close-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"currentColor","stroke-width":"2"}),o("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"currentColor","stroke-width":"2"})],-1)]))]),o("div",Mb,[o("div",Ub,[o("div",jb,[o("p",Bb,[o("strong",null,T(d.value)+" 로그인",1),x[23]||(x[23]=ge("으로 가입하신 회원은")),x[24]||(x[24]=o("br",null,null,-1)),x[25]||(x[25]=ge(" 보안상의 이유로 회원정보 수정이 제한됩니다. "))]),o("div",qb,[x[28]||(x[28]=o("h4",null,"이용 가능한 서비스:",-1)),x[29]||(x[29]=o("ul",{class:"available-services"},[o("li",null,"주문 내역 조회"),o("li",null,"상품 주문 및 결제"),o("li",null,"상품 후기 작성"),o("li",null,"고객센터 문의")],-1)),x[30]||(x[30]=o("h4",{class:"mt-3"},"제한되는 서비스:",-1)),o("ul",Hb,[x[26]||(x[26]=o("li",null,"개인정보 수정 (이름, 이메일 등)",-1)),x[27]||(x[27]=o("li",null,"비밀번호 변경",-1)),o("li",null,"회원탈퇴 ("+T(d.value)+"에서 직접 처리)",1)])]),o("div",Fb,[o("p",Vb,[x[31]||(x[31]=o("strong",null,"개인정보 변경이 필요하신 경우:",-1)),x[32]||(x[32]=o("br",null,null,-1)),ge(" "+T(d.value)+" 계정에서 직접 정보를 수정해주세요. ",1)])])])])]),o("div",{class:"modal-actions"},[o("button",{onClick:A,class:"confirm-button"}," 확인 ")])])])):G("",!0)])}}},zb=ze(Wb,[["__scopeId","data-v-d640e81e"]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jb=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,n)=>n?n.toUpperCase():s.toLowerCase()),Gb=e=>{const t=Jb(e);return t.charAt(0).toUpperCase()+t.slice(1)},Kb=(...e)=>e.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=({size:e,strokeWidth:t=2,absoluteStrokeWidth:s,color:n,iconNode:r,name:a,class:i,...l},{slots:c})=>Hs("svg",{...zn,width:e||zn.width,height:e||zn.height,stroke:n||zn.stroke,"stroke-width":s?Number(t)*24/Number(e):t,class:Kb("lucide",...a?[`lucide-${Cl(Gb(a))}-icon`,`lucide-${Cl(a)}`]:["lucide-icon"]),...l},[...r.map(f=>Hs(...f)),...c.default?[c.default()]:[]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=(e,t)=>(s,{slots:n})=>Hs(Zb,{...s,iconNode:t,name:e},n);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=Wt("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=Wt("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Wt("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Wt("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=Wt("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=Wt("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=Wt("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=Wt("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Wt("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Wt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nw={주문접수:"주문접수",주문완료:"주문완료",배송준비:"배송준비",결제완료:"결제완료",배송중:"배송중",배송완료:"배송완료",주문취소:"주문취소","탈퇴로 인한 취소":"탈퇴로 인한 취소",반품완료:"반품완료"},rw={PENDING:"status-pending",ORDER_COMPLETED:"status-paid",PREPARING:"status-preparing",PAYMENT_COMPLETED:"status-paid",SHIPPING:"status-shipping",DELIVERED:"status-delivered",CANCELLED:"status-cancelled",CANCELLED_BY_WITHDRAWAL:"status-cancelled",RETURNED:"status-returned",주문접수:"status-pending",주문완료:"status-paid",결제완료:"status-paid",배송준비:"status-preparing",배송중:"status-shipping",배송완료:"status-delivered",주문취소:"status-cancelled",반품완료:"status-returned"},ow=["PENDING","ORDER_COMPLETED","PREPARING","PAYMENT_COMPLETED","주문접수","주문완료","결제완료","배송준비"],Dd=e=>nw[e]||e,Md=e=>rw[e]||"status-default",Pa=e=>ow.includes(e),aw=e=>({PENDING:"대기",ORDER_COMPLETED:"완료",PREPARING:"준비",PAYMENT_COMPLETED:"결제",SHIPPING:"배송",DELIVERED:"도착",CANCELLED:"취소",CANCELLED_BY_WITHDRAWAL:"취소",RETURNED:"반품",주문접수:"대기",주문완료:"완료",결제완료:"결제",배송준비:"준비",배송중:"배송",배송완료:"도착",주문취소:"취소",반품완료:"반품"})[e]||"상태",iw={class:"orders-container"},lw={class:"orders-header"},cw={class:"orders-controls"},uw={class:"control-group"},dw={class:"search-container"},fw={key:0,class:"filter-status"},pw={class:"filter-tags"},hw={key:0,class:"filter-tag"},mw={key:1,class:"filter-tag"},vw={class:"orders-wrapper"},gw={key:0,class:"loading-container"},yw={key:1,class:"error-container"},_w={class:"error-message"},bw={key:2,class:"empty-container"},ww={key:3,class:"orders-content"},kw={class:"orders-list-container"},Sw={class:"orders-list"},Cw={class:"order-header"},Iw={class:"order-info"},$w={class:"order-date"},Ew={class:"order-number"},xw={class:"order-status"},Tw={class:"order-time"},Aw=["onClick"],Rw={class:"order-content"},Pw=["onClick"],Ow=["src","alt"],Nw={class:"product-details"},Lw={class:"product-name"},Dw={class:"product-info"},Mw={class:"product-price"},Uw={class:"product-quantity"},jw={key:0,class:"no-items"},Bw={class:"order-total"},qw={class:"total-amount"},Hw={class:"order-actions"},Fw=["onClick"],Vw=["onClick","disabled"],Ww=["onClick"],zw=["onClick"],Jw={key:0,class:"pagination-container"},Gw={class:"pagination"},Kw=["onClick"],Zw={class:"page-info"},Xw={class:"page-text"},on=5,Yw={__name:"MyPageOrders",setup(e){const t=Qe(),s=H([]),n=H(!0),r=H(""),a=H(""),i=H(""),l=H(1),c="http://localhost:8080",f=()=>{const te=localStorage.getItem("jwt"),L={"Content-Type":"application/json"};if(te&&te.trim()&&te!=="null"&&te!=="undefined"){const v=te.startsWith("Bearer ")?te:`Bearer ${te}`;L.Authorization=v}return L},u=async()=>{try{n.value=!0,r.value="";const te=localStorage.getItem("userId")||"guest",L=`${c}/api/orders/list?userId=${te}`,v=await fetch(L,{method:"GET",headers:f()});if(!v.ok)throw new Error(`주문 목록을 불러올 수 없습니다. (${v.status})`);const g=await v.json();if(g.success)s.value=(g.data||[]).map(j=>({orderId:j.orderId,orderDate:j.orderDate,orderStatus:j.orderStatus,totalPrice:j.totalPrice,paymentId:j.paymentId,items:(j.items||[]).map(D=>({productId:D.productId,productName:D.name||D.productName||"상품명 없음",quantity:D.quantity||1,totalPrice:D.totalPrice||0,imageUrl:D.imageUrl||"/api/placeholder/60/60"}))}));else throw new Error(g.message||"주문 목록을 불러오는데 실패했습니다.")}catch(te){r.value=te.message||"주문 목록을 불러오는 중 오류가 발생했습니다."}finally{n.value=!1}},d=ke(()=>{let te=s.value;if(a.value){const L=parseInt(a.value),v=new Date;v.setMonth(v.getMonth()-L),te=te.filter(g=>g.orderDate?new Date(g.orderDate)>=v:!0)}if(i.value){const L=i.value.toLowerCase();te=te.filter(v=>!v.items||!Array.isArray(v.items)?!1:v.items.some(g=>(g.productName||g.name||"").toLowerCase().includes(L)))}return te}),m=ke(()=>{const te=(l.value-1)*on,L=te+on;return d.value.slice(te,L)}),y=ke(()=>Math.ceil(d.value.length/on)),P=ke(()=>{const te=[],L=Math.max(1,l.value-2),v=Math.min(y.value,L+4);for(let g=L;g<=v;g++)te.push(g);return te}),R=te=>te.productName||te.name||"상품명 없음",N=te=>te.totalPrice||te.price||0,M=te=>te.quantity||1,E=te=>te.imageUrl||te.image||"/api/placeholder/60/60",O=te=>{l.value=te;const L=document.querySelector(".orders-list-container");L&&L.scrollTo({top:0,behavior:"smooth"})},S=()=>{l.value=1},A=()=>{l.value=1},k=()=>{a.value="",l.value=1},w=()=>{i.value="",l.value=1},C=()=>{a.value="",i.value="",l.value=1},z=te=>{t.push(`/order-complete?orderId=${te}`)},X=te=>{alert("후기 작성 기능은 준비 중입니다.")},J=te=>{if(!te)return"-";try{const L=new Date(te),v=L.getFullYear(),g=String(L.getMonth()+1).padStart(2,"0"),j=String(L.getDate()).padStart(2,"0");return`${v}.${g}.${j}`}catch{return te}},x=te=>{if(!te)return"";try{const L=new Date(te),v=L.getMonth()+1,g=L.getDate(),j=String(L.getHours()).padStart(2,"0"),D=String(L.getMinutes()).padStart(2,"0"),F=["일","월","화","수","목","금","토"][L.getDay()];return`${v}.${g}(${F}) ${j}:${D}`}catch{return""}},q=te=>te==null?"0":te.toLocaleString(),se=async te=>{try{const L=localStorage.getItem("jwt"),v=localStorage.getItem("userId");if(!L||L==="null"||L==="undefined"){alert("로그인이 필요합니다. 다시 로그인해주세요."),t.push("/login");return}if(!v||v==="null"||v==="undefined"){alert("사용자 정보를 찾을 수 없습니다. 다시 로그인해주세요."),t.push("/login");return}if(!confirm(`주문을 취소하시겠습니까?

주문번호: ${te}
취소된 주문은 되돌릴 수 없으며, 결제금액이 환불됩니다.`))return;const j=prompt("취소 사유를 입력해주세요 (선택사항):")||"사용자 요청",D=s.value.find(V=>V.orderId===te);if(!D){alert("주문 정보를 찾을 수 없습니다.");return}const $={orderId:te,userId:v,reason:j,detail:"",refundAmount:D.totalPrice,paymentId:D.paymentId||null},F=await fetch(`${c}/api/orders/${te}/cancel`,{method:"POST",headers:f(),body:JSON.stringify($)}),re=await F.text();let de;if(re)try{de=JSON.parse(re)}catch{throw new Error(`서버 응답 파싱 실패: ${re}`)}else throw new Error(`서버에서 빈 응답: ${F.status}`);if(F.ok&&de.success)alert(`주문이 성공적으로 취소되었습니다.
환불은 영업일 기준 3-5일 소요됩니다.`),await u();else throw new Error((de==null?void 0:de.message)||`취소 실패: ${F.status}`)}catch(L){alert(`주문 취소 실패: ${L.message}`)}},ie=te=>{if(!te||te.length===0){alert("재주문할 상품이 없습니다.");return}const L=te.map(v=>v.productId).filter(v=>v);if(L.length===0){alert("유효한 상품이 없습니다.");return}t.push({path:"/cart",query:{reorder:L.join(",")}})},he=()=>{t.push("/")};return Ze(()=>{u()}),(te,L)=>(_(),b("div",iw,[o("div",lw,[L[5]||(L[5]=o("h1",{class:"orders-title"},"주문 내역",-1)),o("div",cw,[o("div",uw,[_e(o("select",{"onUpdate:modelValue":L[0]||(L[0]=v=>a.value=v),onChange:A,class:"period-select"},L[4]||(L[4]=[Xe('<option value="" data-v-514e89df>전체 기간</option><option value="1" data-v-514e89df>1개월</option><option value="3" data-v-514e89df>3개월</option><option value="6" data-v-514e89df>6개월</option><option value="12" data-v-514e89df>1년</option>',5)]),544),[[Rs,a.value]]),o("div",dw,[_e(o("input",{"onUpdate:modelValue":L[1]||(L[1]=v=>i.value=v),onInput:S,type:"text",placeholder:"상품명으로 검색해보세요",class:"search-input"},null,544),[[Te,i.value]]),we(Ne(tw),{class:"search-icon"})])]),a.value||i.value?(_(),b("div",fw,[o("div",pw,[a.value?(_(),b("span",hw,[ge(T(a.value)+"개월 ",1),o("button",{onClick:k,class:"filter-clear"},"×")])):G("",!0),i.value?(_(),b("span",mw,[ge(' "'+T(i.value)+'" ',1),o("button",{onClick:w,class:"filter-clear"},"×")])):G("",!0)]),o("button",{onClick:C,class:"clear-all-button"}," 전체 초기화 ")])):G("",!0)])]),o("div",vw,[n.value?(_(),b("div",gw,L[6]||(L[6]=[o("div",{class:"loading-content"},[o("div",{class:"spinner"}),o("p",{class:"loading-text"},"주문 내역을 불러오는 중...")],-1)]))):r.value?(_(),b("div",yw,[o("p",_w,T(r.value),1),o("button",{onClick:u,class:"retry-button"}," 다시 시도 ")])):d.value.length?(_(),b("div",ww,[o("div",kw,[o("div",Sw,[(_(!0),b(Ee,null,De(m.value,v=>(_(),b("div",{key:v.orderId,class:"order-card"},[o("div",Cw,[o("div",Iw,[o("div",$w,T(J(v.orderDate)),1),o("div",Ew,"주문번호 "+T(v.orderId),1),o("div",xw,[o("span",{class:$e(["status-badge",Ne(Md)(v.orderStatus)])},T(Ne(aw)(v.orderStatus))+" "+T(Ne(Dd)(v.orderStatus)),3),o("span",Tw,T(x(v.orderDate)),1)])]),o("button",{onClick:g=>z(v.orderId),class:"detail-button",title:"주문 상세보기"},[we(Ne(Xb),{class:"detail-icon"})],8,Aw)]),o("div",Rw,[(_(!0),b(Ee,null,De(v.items||[],(g,j)=>(_(),b("div",{key:`${g.productId||j}-${j}`,class:"product-item",onClick:D=>z(v.orderId)},[o("img",{src:E(g),alt:R(g),class:"product-image"},null,8,Ow),o("div",Nw,[o("div",Lw,T(R(g)),1),o("div",Dw,[o("span",Mw,T(q(N(g)))+"원",1),o("span",Uw,T(M(g))+"개",1)])]),L[9]||(L[9]=o("div",{class:"product-actions"},[o("span",{class:"cart-icon"},"🛒")],-1))],8,Pw))),128)),!v.items||v.items.length===0?(_(),b("div",jw,L[10]||(L[10]=[o("p",null,"주문 상품 정보가 없습니다.",-1)]))):G("",!0),o("div",Bw,[L[11]||(L[11]=o("span",{class:"total-label"},"주문 총액",-1)),o("span",qw,T(q(v.totalPrice))+"원",1)]),o("div",Hw,[o("button",{onClick:g=>z(v.orderId),class:"action-button detail-btn"},[we(Ne(Yb),{class:"btn-icon"}),L[12]||(L[12]=ge(" 주문상세 "))],8,Fw),o("button",{onClick:g=>ie(v.items),class:"action-button reorder-btn",disabled:!v.items||v.items.length===0},[we(Ne(ew),{class:"btn-icon"}),L[13]||(L[13]=ge(" 재주문 "))],8,Vw),Ne(Pa)(v.orderStatus)?(_(),b("button",{key:0,onClick:g=>se(v.orderId),class:"action-button cancel-btn"},[we(Ne(Ra),{class:"btn-icon"}),L[14]||(L[14]=ge(" 주문취소 "))],8,Ww)):G("",!0),o("button",{onClick:g=>X(),class:"action-button review-btn"},[we(Ne(sw),{class:"btn-icon"}),L[15]||(L[15]=ge(" 후기작성 "))],8,zw)])])]))),128))])]),y.value>1?(_(),b("div",Jw,[o("div",Gw,[l.value>1?(_(),b("button",{key:0,onClick:L[2]||(L[2]=v=>O(l.value-1)),class:"page-button nav-button"}," 이전 ")):G("",!0),(_(!0),b(Ee,null,De(P.value,v=>(_(),b("button",{key:v,onClick:g=>O(v),class:$e(["page-button",{active:v===l.value}])},T(v),11,Kw))),128)),l.value<y.value?(_(),b("button",{key:1,onClick:L[3]||(L[3]=v=>O(l.value+1)),class:"page-button nav-button"}," 다음 ")):G("",!0)]),o("div",Zw,[o("span",Xw,T((l.value-1)*on+1)+" - "+T(Math.min(l.value*on,d.value.length))+" / "+T(d.value.length)+"개 주문 ",1)])])):G("",!0)])):(_(),b("div",bw,[we(Ne(Qb),{class:"empty-icon"}),L[7]||(L[7]=o("h3",{class:"empty-title"},"주문 내역이 없습니다",-1)),L[8]||(L[8]=o("p",{class:"empty-description"},"아직 주문하신 상품이 없어요.",-1)),o("button",{onClick:he,class:"shopping-button"}," 쇼핑하러 가기 ")]))])]))}},Qw=ze(Yw,[["__scopeId","data-v-514e89df"]]),e2={class:"profile-container"},t2={key:0,class:"verification-step"},s2={class:"verification-card"},n2={class:"form-section"},r2={class:"form-group"},o2=["value"],a2={class:"form-group"},i2={class:"password-input-group"},l2=["type"],c2={key:0,class:"eye-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u2={key:1,class:"eye-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d2={key:0,class:"error-alert"},f2={class:"verification-actions"},p2=["disabled"],h2={key:0,class:"mini-spinner"},m2={key:1,class:"edit-step"},v2={class:"edit-card"},g2={class:"form-grid"},y2={class:"form-group"},_2=["value"],b2={class:"form-group"},w2={class:"form-group"},k2={class:"form-group"},S2={class:"form-group"},C2={class:"gender-toggle"},I2={class:"form-group full-width password-section"},$2={class:"password-grid"},E2={class:"form-group"},x2={class:"password-input-group"},T2=["type"],A2={key:0,class:"eye-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},R2={key:1,class:"eye-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},P2={class:"form-group"},O2={class:"password-input-group"},N2=["type"],L2={key:0,class:"eye-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},D2={key:1,class:"eye-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M2={key:0,class:"error-text"},U2={class:"form-actions"},j2={class:"button-group"},B2=["disabled"],q2={key:0,class:"mini-spinner"},H2={class:"modal-body"},F2={class:"form-group"},V2={class:"form-group"},W2=["value"],z2={class:"form-group"},J2={key:0,class:"error-alert"},G2={class:"modal-actions"},K2=["disabled"],Z2=["disabled"],X2={key:0,class:"mini-spinner"},Y2={key:3,class:"loading-container"},Q2={key:4,class:"error-container"},ek={class:"error-message"},tk={__name:"MyPageProfile",setup(e){const t=Qe();ke(()=>!1);const s=ke(()=>ce),n=H("verify"),r=H(!1),a=H(!1),i=H(!1),l=H(""),c=H(""),f=H(""),u=H(!1),d=H({username:"",name:"",email:"",phone:"",birthDate:"",gender:"U",newPassword:"",confirmNewPassword:""}),m=H({new:!1,confirm:!1}),y="http://localhost:8080",P=()=>localStorage.getItem("jwt"),R=L=>{try{if(!L)return null;const v=L.split(".")[1];if(!v)return null;const g=JSON.parse(atob(v));return g.username||g.sub||g.userId||g.user_id}catch{return null}},N=()=>{var g,j,D;if((g=s.value)!=null&&g.id)return s.value.id;if((j=s.value)!=null&&j.userId)return s.value.userId;if((D=s.value)!=null&&D.username)return s.value.username;const L=localStorage.getItem("userId");if(L)return L;const v=P();if(v)try{const F=JSON.parse(atob(v.split(".")[1])).username;if(F)return localStorage.setItem("userId",F),F}catch{}return null},M=()=>{const L=P(),v={"Content-Type":"application/json"};return L&&(v.Authorization=`Bearer ${L}`),v},E=ke(()=>!d.value.newPassword&&!d.value.confirmNewPassword?!1:d.value.newPassword!==d.value.confirmNewPassword),O=async()=>{try{if(r.value=!0,l.value="",!P()){l.value="로그인이 필요합니다.",t.push("/login");return}const v=await fetch(`${y}/api/users/profile`,{method:"GET",headers:M()});if(!v.ok){if(v.status===401){localStorage.removeItem("jwt"),localStorage.removeItem("userId"),t.push("/login");return}throw new Error("사용자 정보를 불러올 수 없습니다.")}const j=(await v.json()).data;d.value={username:j.userId,name:j.name||"",email:j.email||"",phone:j.phone||"",birthDate:j.birthDate||"",gender:j.gender||"U",newPassword:"",confirmNewPassword:""}}catch(L){l.value=L.message||"사용자 정보를 불러오는 중 오류가 발생했습니다."}finally{r.value=!1}},S=async()=>{if(!c.value){f.value="현재 비밀번호를 입력해주세요.";return}const L=P(),v=N();if(!L){f.value="인증 토큰이 없습니다. 다시 로그인해주세요.",t.push("/login");return}if(!v){f.value="사용자 정보를 찾을 수 없습니다. 다시 로그인해주세요.",t.push("/login");return}a.value=!0,f.value="";try{const g={password:c.value},j=`${y}/api/users/verify-password`,D=await fetch(j,{method:"POST",headers:M(),body:JSON.stringify(g)});if(D.ok)n.value="edit",c.value="",f.value="",await O();else{const $=await D.json();f.value=$.message||"비밀번호가 일치하지 않습니다."}}catch{f.value="비밀번호 확인 중 오류가 발생했습니다."}finally{a.value=!1}},A=async()=>{if(!d.value.name||!d.value.email){alert("이름과 이메일은 필수 항목입니다.");return}if(d.value.newPassword&&E.value){alert("새 비밀번호가 일치하지 않습니다.");return}if(d.value.newPassword&&d.value.newPassword.length<8){alert("새 비밀번호는 8자 이상이어야 합니다.");return}try{i.value=!0;const L={name:d.value.name,email:d.value.email,phone:d.value.phone,birthDate:d.value.birthDate,gender:d.value.gender};d.value.newPassword&&(L.password=d.value.newPassword);const v=await fetch(`${y}/api/users/profile`,{method:"PUT",headers:M(),body:JSON.stringify(L)});if(!v.ok){const g=await v.json();throw new Error(g.message||"회원 정보 수정에 실패했습니다.")}ce.name!==void 0&&(ce.name=d.value.name),ce.email!==void 0&&(ce.email=d.value.email),d.value.newPassword="",d.value.confirmNewPassword="",alert("회원 정보가 수정되었습니다."),t.push("/mypage")}catch(L){alert(L.message||"회원 정보 수정에 실패했습니다.")}finally{i.value=!1}},k=()=>{n.value==="edit"?(n.value="verify",d.value.newPassword="",d.value.confirmNewPassword=""):t.push("/mypage")},w=()=>{d.value.newPassword="",d.value.confirmNewPassword="",n.value="verify",c.value="",f.value=""},C=L=>{L==="current"?u.value=!u.value:m.value[L]=!m.value[L]};Ze(()=>{const L=P();if(L){vs(L);const v=R(L);v&&localStorage.setItem("userId",v)}else t.push("/login")});const z=H(!1),X=H({password:"",reason:"",confirmText:"",withdrawalDate:new Date().toISOString().split("T")[0]}),J=H(!1),x=H(""),q=["서비스 불만족","이용 빈도 낮음","개인정보 보호","타 서비스 이용","기타"],se=()=>{X.value={password:"",reason:"",confirmText:"",withdrawalDate:new Date().toISOString().split("T")[0]},x.value="",z.value=!0},ie=()=>{z.value=!1,X.value={password:"",reason:"",confirmText:"",withdrawalDate:new Date().toISOString().split("T")[0]},x.value=""},he=ke(()=>X.value.confirmText==="회원탈퇴"),te=async()=>{if(!X.value.password){x.value="비밀번호를 입력해주세요.";return}if(!X.value.reason){x.value="탈퇴 사유를 선택해주세요.";return}if(!he.value){x.value="확인 텍스트를 정확히 입력해주세요.";return}if(confirm(`정말로 회원탈퇴를 진행하시겠습니까?
탈퇴 후에는 계정 복구가 불가능합니다.`)){J.value=!0,x.value="";try{if(!P())throw new Error("인증 토큰이 없습니다. 다시 로그인해주세요.");const v=N();if(!v)throw new Error("사용자 정보를 찾을 수 없습니다.");const g={userId:v,password:X.value.password,withdrawalReason:X.value.reason,withdrawalDate:X.value.withdrawalDate},j=`${y}/api/users/withdrawal/process`,D=await fetch(j,{method:"POST",headers:M(),body:JSON.stringify(g)}),$=D.headers.get("content-type");let F=null;if($&&$.includes("application/json")){const re=await D.text();if(re.trim())try{F=JSON.parse(re)}catch{throw new Error("서버 응답을 처리할 수 없습니다.")}else F={success:D.ok}}else{const re=await D.text();F={success:D.ok,message:re||"응답 없음"}}if(D.ok)Gs(),d.value={username:"",name:"",email:"",phone:"",birthDate:"",gender:"U",newPassword:"",confirmNewPassword:""},X.value={password:"",reason:"",confirmText:"",withdrawalDate:new Date().toISOString().split("T")[0]},n.value="verify",c.value="",f.value="",z.value=!1,alert(`회원탈퇴가 정상적으로 처리되었습니다.
그동안 이용해 주셔서 감사합니다.`),window.location.href="/login";else{if(D.status===404)throw new Error("회원탈퇴 API를 찾을 수 없습니다. 서버 설정을 확인해주세요.");if(D.status===401)throw new Error("인증이 만료되었습니다. 다시 로그인해주세요.");if(D.status===403)throw new Error("권한이 없습니다.");{const re=(F==null?void 0:F.message)||`서버 오류 (${D.status})`;throw new Error(re)}}}catch(L){L.name==="TypeError"&&L.message.includes("fetch")?x.value="네트워크 연결에 문제가 있습니다. 서버가 실행 중인지 확인해주세요.":x.value=L.message||"회원탈퇴 처리 중 오류가 발생했습니다."}finally{J.value=!1}}};return(L,v)=>(_(),b("div",e2,[n.value==="verify"?(_(),b("div",t2,[o("div",{class:"step-header"},[o("button",{onClick:k,class:"back-button"},v[16]||(v[16]=[o("svg",{class:"back-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M19 12H5M12 19L5 12L12 5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),v[17]||(v[17]=o("div",{class:"header-info"},[o("div",null,[o("h2",{class:"step-title"},"비밀번호 재확인"),o("p",{class:"step-subtitle"}," 회원님의 정보를 안전하게 보호하기 위해 비밀번호를 다시 한번 확인해주세요. ")])],-1))]),o("div",s2,[o("div",n2,[o("div",r2,[v[18]||(v[18]=o("label",{class:"form-label"},[o("svg",{class:"label-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),o("circle",{cx:"12",cy:"7",r:"4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),ge(" 아이디 ")],-1)),o("input",{type:"text",value:s.value.id||s.value.username||"",disabled:"",class:"form-input disabled"},null,8,o2)]),o("div",a2,[v[21]||(v[21]=Xe('<label class="form-label" data-v-db9ed3eb><svg class="label-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-db9ed3eb><rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="currentColor" stroke-width="2" data-v-db9ed3eb></rect><circle cx="12" cy="16" r="1" fill="currentColor" data-v-db9ed3eb></circle><path d="M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11" stroke="currentColor" stroke-width="2" data-v-db9ed3eb></path></svg> 현재 비밀번호 <span class="required" data-v-db9ed3eb>*</span></label>',1)),o("div",i2,[_e(o("input",{type:u.value?"text":"password","onUpdate:modelValue":v[0]||(v[0]=g=>c.value=g),placeholder:"현재 비밀번호를 입력해주세요",class:"form-input",onKeypress:Pr(S,["enter"])},null,40,l2),[[to,c.value]]),o("button",{type:"button",onClick:v[1]||(v[1]=g=>C("current")),class:"password-toggle"},[u.value?(_(),b("svg",c2,v[19]||(v[19]=[o("path",{d:"M14.12 14.12C13.8454 14.4148 13.5141 14.6512 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1752 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.4811 9.80385 14.1962C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8248 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4859 9.58525 10.1546 9.88 9.88",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("path",{d:"M9.9 4.24C10.5883 4.0789 11.2931 3.99836 12 4C19 4 23 12 23 12C22.393 13.1356 21.6691 14.2048 20.84 15.19",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("path",{d:"M3.16 3.16L20.84 20.84",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("path",{d:"M12.9 12.9C12.8181 13.7611 12.3944 14.5519 11.7272 15.1027C11.0600 15.6535 10.2008 15.9181 9.33 15.84",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(_(),b("svg",u2,v[20]||(v[20]=[o("path",{d:"M1 12S5 4 12 4S23 12 23 12S19 20 12 20S1 12 1 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2"},null,-1)])))])])]),f.value?(_(),b("div",d2,T(f.value),1)):G("",!0),o("div",f2,[o("button",{onClick:S,disabled:a.value||!c.value,class:"verify-button"},[a.value?(_(),b("div",h2)):G("",!0),ge(" "+T(a.value?"확인 중...":"확인"),1)],8,p2)])])])])):(_(),b("div",m2,[o("div",{class:"step-header"},[o("button",{onClick:k,class:"back-button"},v[22]||(v[22]=[o("svg",{class:"back-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M19 12H5M12 19L5 12L12 5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),v[23]||(v[23]=Xe('<div class="header-info" data-v-db9ed3eb><svg class="header-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-db9ed3eb><path d="M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V18C2 18.5304 2.21071 19.0391 2.58579 19.4142C2.96086 19.7893 3.46957 20 4 20H16C16.5304 20 17.0391 19.7893 17.4142 19.4142C17.7893 19.0391 18 18.5304 18 18V11" stroke="#3b82f6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-db9ed3eb></path><path d="M18.5 2.50023C18.8978 2.10243 19.4374 1.87891 20 1.87891C20.5626 1.87891 21.1022 2.10243 21.5 2.50023C21.8978 2.89804 22.1213 3.43762 22.1213 4.00023C22.1213 4.56284 21.8978 5.10243 21.5 5.50023L12 15.0002L8 16.0002L9 12.0002L18.5 2.50023Z" stroke="#3b82f6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-db9ed3eb></path></svg><div data-v-db9ed3eb><h2 class="step-title" data-v-db9ed3eb>개인정보 수정</h2><p class="step-subtitle" data-v-db9ed3eb>변경하실 정보를 입력해주세요</p></div></div>',1))]),o("div",v2,[o("form",{onSubmit:_t(A,["prevent"])},[o("div",g2,[o("div",y2,[v[24]||(v[24]=o("label",{class:"form-label"},[o("svg",{class:"label-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),o("circle",{cx:"12",cy:"7",r:"4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),ge(" 아이디 ")],-1)),o("input",{type:"text",value:d.value.username,disabled:"",class:"form-input disabled"},null,8,_2)]),o("div",b2,[v[25]||(v[25]=Xe('<label class="form-label" data-v-db9ed3eb><svg class="label-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-db9ed3eb><path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-db9ed3eb></path><circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-db9ed3eb></circle></svg> 이름 <span class="required" data-v-db9ed3eb>*</span></label>',1)),_e(o("input",{type:"text","onUpdate:modelValue":v[2]||(v[2]=g=>d.value.name=g),required:"",class:"form-input"},null,512),[[Te,d.value.name]])]),o("div",w2,[v[26]||(v[26]=Xe('<label class="form-label" data-v-db9ed3eb><svg class="label-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-db9ed3eb><path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-db9ed3eb></path><polyline points="22,6 12,13 2,6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-db9ed3eb></polyline></svg> 이메일 <span class="required" data-v-db9ed3eb>*</span></label>',1)),_e(o("input",{type:"email","onUpdate:modelValue":v[3]||(v[3]=g=>d.value.email=g),required:"",class:"form-input"},null,512),[[Te,d.value.email]])]),o("div",k2,[v[27]||(v[27]=o("label",{class:"form-label"},[o("svg",{class:"label-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.095 3.90347 2.12787 3.62476 2.21649 3.36162C2.30512 3.09849 2.44756 2.85669 2.63476 2.65162C2.82196 2.44655 3.0498 2.28271 3.30379 2.17052C3.55777 2.05833 3.83233 2.00026 4.10999 2H7.10999C7.59531 1.99522 8.06606 2.16708 8.43376 2.48353C8.80145 2.79999 9.04229 3.23945 9.10999 3.72C9.23662 4.68007 9.47144 5.62273 9.80999 6.53C9.94454 6.88792 9.97366 7.27691 9.8939 7.65088C9.81415 8.02485 9.62886 8.36811 9.35999 8.64L8.08999 9.91C9.51355 12.4135 11.5865 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),ge(" 전화번호 ")],-1)),_e(o("input",{type:"text","onUpdate:modelValue":v[4]||(v[4]=g=>d.value.phone=g),class:"form-input",placeholder:"010-1234-5678"},null,512),[[Te,d.value.phone]])]),o("div",S2,[v[30]||(v[30]=o("label",{class:"form-label"},[o("svg",{class:"label-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),o("circle",{cx:"12",cy:"7",r:"4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),ge(" 성별 ")],-1)),o("div",C2,[o("label",{class:$e({active:d.value.gender==="M"})},[_e(o("input",{type:"radio",value:"M","onUpdate:modelValue":v[5]||(v[5]=g=>d.value.gender=g)},null,512),[[Qt,d.value.gender]]),v[28]||(v[28]=o("span",null,"남자",-1))],2),o("label",{class:$e({active:d.value.gender==="F"})},[_e(o("input",{type:"radio",value:"F","onUpdate:modelValue":v[6]||(v[6]=g=>d.value.gender=g)},null,512),[[Qt,d.value.gender]]),v[29]||(v[29]=o("span",null,"여자",-1))],2)])]),o("div",I2,[v[38]||(v[38]=o("h3",{class:"password-section-title"},"비밀번호 변경 (선택사항)",-1)),o("div",$2,[o("div",E2,[v[33]||(v[33]=Xe('<label class="form-label" data-v-db9ed3eb><svg class="label-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-db9ed3eb><rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="currentColor" stroke-width="2" data-v-db9ed3eb></rect><circle cx="12" cy="16" r="1" fill="currentColor" data-v-db9ed3eb></circle><path d="M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11" stroke="currentColor" stroke-width="2" data-v-db9ed3eb></path></svg> 새 비밀번호 </label>',1)),o("div",x2,[_e(o("input",{type:m.value.new?"text":"password","onUpdate:modelValue":v[7]||(v[7]=g=>d.value.newPassword=g),placeholder:"새 비밀번호 (변경시에만 입력)",class:"form-input"},null,8,T2),[[to,d.value.newPassword]]),o("button",{type:"button",onClick:v[8]||(v[8]=g=>C("new")),class:"password-toggle"},[m.value.new?(_(),b("svg",A2,v[31]||(v[31]=[o("path",{d:"M14.12 14.12C13.8454 14.4148 13.5141 14.6512 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1752 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.4811 9.80385 14.1962C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8248 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4859 9.58525 10.1546 9.88 9.88",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("path",{d:"M9.9 4.24C10.5883 4.0789 11.2931 3.99836 12 4C19 4 23 12 23 12C22.393 13.1356 21.6691 14.2048 20.84 15.19",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("path",{d:"M3.16 3.16L20.84 20.84",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("path",{d:"M12.9 12.9C12.8181 13.7611 12.3944 14.5519 11.7272 15.1027C11.0600 15.6535 10.2008 15.9181 9.33 15.84",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(_(),b("svg",R2,v[32]||(v[32]=[o("path",{d:"M1 12S5 4 12 4S23 12 23 12S19 20 12 20S1 12 1 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2"},null,-1)])))])]),v[34]||(v[34]=o("div",{class:"form-help"},"8자 이상, 영문/숫자/특수문자 조합",-1))]),o("div",P2,[v[37]||(v[37]=Xe('<label class="form-label" data-v-db9ed3eb><svg class="label-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-db9ed3eb><rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="currentColor" stroke-width="2" data-v-db9ed3eb></rect><circle cx="12" cy="16" r="1" fill="currentColor" data-v-db9ed3eb></circle><path d="M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11" stroke="currentColor" stroke-width="2" data-v-db9ed3eb></path></svg> 새 비밀번호 확인 </label>',1)),o("div",O2,[_e(o("input",{type:m.value.confirm?"text":"password","onUpdate:modelValue":v[9]||(v[9]=g=>d.value.confirmNewPassword=g),placeholder:"새 비밀번호 확인",class:"form-input"},null,8,N2),[[to,d.value.confirmNewPassword]]),o("button",{type:"button",onClick:v[10]||(v[10]=g=>C("confirm")),class:"password-toggle"},[m.value.confirm?(_(),b("svg",L2,v[35]||(v[35]=[o("path",{d:"M14.12 14.12C13.8454 14.4148 13.5141 14.6512 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1752 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.4811 9.80385 14.1962C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8248 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4859 9.58525 10.1546 9.88 9.88",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("path",{d:"M9.9 4.24C10.5883 4.0789 11.2931 3.99836 12 4C19 4 23 12 23 12C22.393 13.1356 21.6691 14.2048 20.84 15.19",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("path",{d:"M3.16 3.16L20.84 20.84",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("path",{d:"M12.9 12.9C12.8181 13.7611 12.3944 14.5519 11.7272 15.1027C11.0600 15.6535 10.2008 15.9181 9.33 15.84",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(_(),b("svg",D2,v[36]||(v[36]=[o("path",{d:"M1 12S5 4 12 4S23 12 23 12S19 20 12 20S1 12 1 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2"},null,-1)])))])]),E.value?(_(),b("div",M2," 새 비밀번호가 일치하지 않습니다. ")):G("",!0)])])])]),o("div",U2,[o("div",{class:"withdraw-group"},[o("button",{type:"button",onClick:se,class:"withdraw-button action-button"},v[39]||(v[39]=[Xe('<svg class="button-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-db9ed3eb><path d="M3 6H5H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-db9ed3eb></path><path d="M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-db9ed3eb></path><line x1="10" y1="11" x2="10" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-db9ed3eb></line><line x1="14" y1="11" x2="14" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-db9ed3eb></line></svg> 회원탈퇴 ',2)]))]),o("div",j2,[o("button",{type:"submit",disabled:i.value,class:"save-button action-button"},[v[40]||(v[40]=o("svg",{class:"button-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),o("polyline",{points:"17,21 17,13 7,13 7,21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),o("polyline",{points:"7,3 7,8 15,8",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),i.value?(_(),b("div",q2)):G("",!0),ge(" "+T(i.value?"저장 중...":"저장"),1)],8,B2),o("button",{type:"button",onClick:w,class:"cancel-button action-button"},v[41]||(v[41]=[o("svg",{class:"button-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"currentColor","stroke-width":"2"}),o("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"currentColor","stroke-width":"2"})],-1),ge(" 취소 ")]))])])],32)])])),z.value?(_(),b("div",{key:2,class:"modal-overlay",onClick:ie},[o("div",{class:"modal-content",onClick:v[14]||(v[14]=_t(()=>{},["stop"]))},[o("div",{class:"modal-header"},[v[43]||(v[43]=o("h3",{class:"modal-title"},"회원탈퇴",-1)),o("button",{onClick:ie,class:"modal-close"},v[42]||(v[42]=[o("svg",{class:"close-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"currentColor","stroke-width":"2"}),o("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"currentColor","stroke-width":"2"})],-1)]))]),o("div",H2,[v[49]||(v[49]=Xe('<div class="warning-section" data-v-db9ed3eb><div class="warning-icon" data-v-db9ed3eb><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-db9ed3eb><path d="M12 9V13M12 17H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-db9ed3eb></path></svg></div><div class="warning-content" data-v-db9ed3eb><h4 class="warning-title" data-v-db9ed3eb>정말로 탈퇴하시겠습니까?</h4><p class="warning-text" data-v-db9ed3eb> 탈퇴 시 모든 개인정보와 이용 기록이 삭제되며, 복구할 수 없습니다.<br data-v-db9ed3eb> 신중하게 결정해 주세요. </p></div></div>',1)),o("form",{onSubmit:_t(te,["prevent"]),class:"withdrawal-form"},[o("div",F2,[v[44]||(v[44]=Xe('<label class="form-label" data-v-db9ed3eb><svg class="label-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-db9ed3eb><rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="currentColor" stroke-width="2" data-v-db9ed3eb></rect><circle cx="12" cy="16" r="1" fill="currentColor" data-v-db9ed3eb></circle><path d="M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11" stroke="currentColor" stroke-width="2" data-v-db9ed3eb></path></svg> 비밀번호 확인 <span class="required" data-v-db9ed3eb>*</span></label>',1)),_e(o("input",{type:"password","onUpdate:modelValue":v[11]||(v[11]=g=>X.value.password=g),placeholder:"현재 비밀번호를 입력해주세요",class:"form-input",required:""},null,512),[[Te,X.value.password]])]),o("div",V2,[v[46]||(v[46]=o("label",{class:"form-label"},[o("svg",{class:"label-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M8.5 14.5L11 16.5L15.5 12M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),ge(" 탈퇴 사유 "),o("span",{class:"required"},"*")],-1)),_e(o("select",{"onUpdate:modelValue":v[12]||(v[12]=g=>X.value.reason=g),class:"form-select",required:""},[v[45]||(v[45]=o("option",{value:""},"탈퇴 사유를 선택해주세요",-1)),(_(),b(Ee,null,De(q,g=>o("option",{key:g,value:g},T(g),9,W2)),64))],512),[[Rs,X.value.reason]])]),o("div",z2,[v[47]||(v[47]=o("label",{class:"form-label"},[o("svg",{class:"label-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),ge(" 확인 문구 입력 "),o("span",{class:"required"},"*")],-1)),_e(o("input",{type:"text","onUpdate:modelValue":v[13]||(v[13]=g=>X.value.confirmText=g),placeholder:"'회원탈퇴'를 정확히 입력해주세요",class:$e(["form-input",{error:X.value.confirmText&&!he.value}]),required:""},null,2),[[Te,X.value.confirmText]]),v[48]||(v[48]=o("div",{class:"form-help"},[ge(" 탈퇴를 확인하시려면 "),o("strong",null,"'회원탈퇴'"),ge("를 정확히 입력해주세요. ")],-1))]),x.value?(_(),b("div",J2,T(x.value),1)):G("",!0),o("div",G2,[o("button",{type:"button",onClick:ie,class:"cancel-button",disabled:J.value}," 취소 ",8,K2),o("button",{type:"submit",class:"danger-button",disabled:J.value||!he.value},[J.value?(_(),b("div",X2)):G("",!0),ge(" "+T(J.value?"처리 중...":"탈퇴하기"),1)],8,Z2)])],32)])])])):G("",!0),r.value?(_(),b("div",Y2,v[50]||(v[50]=[o("div",{class:"loading-content"},[o("div",{class:"spinner"}),o("p",{class:"loading-text"},"회원 정보를 불러오는 중...")],-1)]))):G("",!0),l.value?(_(),b("div",Q2,[o("p",ek,T(l.value),1),o("button",{onClick:v[15]||(v[15]=(...g)=>L.loadUserDetailInfo&&L.loadUserDetailInfo(...g)),class:"retry-button"}," 다시 시도 ")])):G("",!0)]))}},sk=ze(tk,[["__scopeId","data-v-db9ed3eb"]]),nk={data(){return{user:{},form:{userAddress:""},password:"",loading:!0,isLogin:!1,isOwnerOrAdmin:!1}},mounted(){this.loadDaumPostcodeScript(),this.checkPermissionAndFetch()},methods:{async checkPermissionAndFetch(){try{const e=this.$route.params.userid,t=localStorage.getItem("jwt");if(!t){alert("로그인이 필요합니다."),this.$router.push("/login");return}const s=Nn(t),n=s.userid||s.sub||s.id,r=s.role||s.roles||[];if(this.isLogin=!0,this.isOwnerOrAdmin=String(n)===String(e)||r.includes("ADMIN"),!this.isOwnerOrAdmin){alert("수정 권한이 없습니다."),this.$router.push(`/user/${e}`);return}const a=await He.get(`/api/users/${e}`,{headers:{Authorization:`Bearer ${t}`}});this.user=a.data,this.form.userAddress=a.data.address||""}catch(e){console.error(e),alert("사용자 정보를 불러올 수 없습니다."),this.$router.push("/")}finally{this.loading=!1}},async updateUser(){const e=localStorage.getItem("jwt");if(!e){alert("로그인이 필요합니다."),this.$router.push("/login");return}try{const t={...this.user,address:this.form.userAddress};!this.userPwd||this.userPwd.trim()===""?t.hasOwnProperty("passwd")&&delete t.passwd:t.passwd=this.userPwd,await He.put(`/api/users/edit/${this.user.userid}`,t,{headers:{Authorization:`Bearer ${e}`}}),alert("회원 정보가 수정되었습니다."),this.$router.push(`/user/${this.user.userid}`)}catch(t){console.error(t),alert("회원 정보 수정에 실패했습니다.")}},cancelEdit(){this.$router.push(`/user/${this.user.userid}`)},execDaumPostcode(){new window.daum.Postcode({oncomplete:e=>{this.form.userAddress=e.roadAddress||e.jibunAddress}}).open()},loadDaumPostcodeScript(){const e=document.createElement("script");e.src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",e.async=!0,document.head.appendChild(e)}}},rk={class:"container mt-5"},ok={class:"row justify-content-center"},ak={class:"col-md-6 col-lg-5"},ik={key:0,class:"text-center"},lk={class:"form-group"},ck={class:"form-group"},uk={class:"form-group"},dk={class:"form-group"},fk={class:"form-group"},pk={class:"form-group"},hk={class:"form-group"},mk={class:"input-group"},vk={class:"input-group-append"},gk={class:"form-group"},yk={class:"form-group"},_k={class:"d-flex justify-content-between mt-4"};function bk(e,t,s,n,r,a){return _(),b("div",rk,[o("div",ok,[o("div",ak,[t[22]||(t[22]=o("h2",{class:"text-center mb-4"},"회원 정보 수정",-1)),r.loading?(_(),b("div",ik,"로딩 중...")):(_(),b("form",{key:1,onSubmit:t[11]||(t[11]=_t((...i)=>a.updateUser&&a.updateUser(...i),["prevent"])),novalidate:""},[o("div",lk,[t[12]||(t[12]=o("label",null,"아이디",-1)),_e(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=i=>r.user.userid=i),disabled:""},null,512),[[Te,r.user.userid]])]),o("div",ck,[t[13]||(t[13]=o("label",null,"이름",-1)),_e(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=i=>r.user.name=i),required:""},null,512),[[Te,r.user.name]])]),o("div",uk,[t[14]||(t[14]=o("label",null,"나이",-1)),_e(o("input",{type:"number",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=i=>r.user.age=i),required:"",min:"1"},null,512),[[Te,r.user.age,void 0,{number:!0}]])]),o("div",dk,[t[15]||(t[15]=o("label",null,"이메일",-1)),_e(o("input",{type:"email",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=i=>r.user.email=i),required:""},null,512),[[Te,r.user.email,void 0,{trim:!0}]])]),o("div",fk,[t[16]||(t[16]=o("label",null,"닉네임",-1)),_e(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=i=>r.user.nickname=i)},null,512),[[Te,r.user.nickname,void 0,{trim:!0}]])]),o("div",pk,[t[17]||(t[17]=o("label",null,"전화번호",-1)),_e(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=i=>r.user.phone=i)},null,512),[[Te,r.user.phone,void 0,{trim:!0}]])]),o("div",hk,[t[18]||(t[18]=o("label",{for:"userAddress"},"주소",-1)),o("div",mk,[_e(o("input",{type:"text",id:"userAddress","onUpdate:modelValue":t[6]||(t[6]=i=>r.form.userAddress=i),class:"form-control",placeholder:"주소를 입력하세요",readonly:"",required:""},null,512),[[Te,r.form.userAddress]]),o("div",vk,[o("button",{type:"button",class:"btn btn-outline-secondary",onClick:t[7]||(t[7]=(...i)=>a.execDaumPostcode&&a.execDaumPostcode(...i))}," 주소 찾기 ")])])]),o("div",gk,[t[19]||(t[19]=o("label",null,"상세 주소",-1)),_e(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=i=>r.user.detailAddress=i)},null,512),[[Te,r.user.detailAddress,void 0,{trim:!0}]])]),o("div",yk,[t[20]||(t[20]=o("label",null,"새 비밀번호 (변경 시에만 입력)",-1)),_e(o("input",{type:"password",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=i=>e.userPwd=i)},null,512),[[Te,e.userPwd]])]),o("div",_k,[t[21]||(t[21]=o("button",{type:"submit",class:"btn btn-success"},"수정 완료",-1)),o("button",{type:"button",onClick:t[10]||(t[10]=(...i)=>a.cancelEdit&&a.cancelEdit(...i)),class:"btn btn-secondary"},"취소")])],32))])])])}const El=ze(nk,[["render",bk]]),wk={class:"product-detail-container"},kk={key:0,class:"loading-container"},Sk={key:1,class:"error-container"},Ck={key:2},Ik={class:"product-header"},$k={class:"product-images"},Ek={class:"main-image"},xk=["src","alt"],Tk={key:0,class:"live-badge"},Ak={key:1,class:"discount-badge"},Rk={key:0,class:"image-indicators"},Pk=["onClick"],Ok={class:"product-info-section"},Nk={key:0,class:"brand-info"},Lk={class:"brand-name"},Dk={class:"product-title"},Mk={key:1,class:"product-subtitle"},Uk={class:"price-section"},jk={class:"discount-info"},Bk={key:0,class:"discount-rate"},qk={class:"final-price"},Hk={key:0,class:"original-price"},Fk={class:"product-details-table"},Vk={key:0,class:"detail-row"},Wk={class:"detail-value"},zk={key:1,class:"detail-row"},Jk={class:"detail-value"},Gk={key:2,class:"detail-row"},Kk={class:"detail-value"},Zk={key:3,class:"detail-row"},Xk={class:"detail-value"},Yk={key:4,class:"detail-row"},Qk={class:"detail-value"},eS={class:"purchase-section"},tS={class:"total-price"},sS={class:"total-amount"},nS={class:"action-buttons"},rS={class:"quantity-and-wishlist"},oS=["disabled"],aS={key:0,class:"wishlist-loading"},iS={class:"tabs-section"},lS={class:"tab-headers"},cS=["onClick"],uS={class:"tab-content"},dS={key:0,class:"details-content"},fS={key:0},pS=["src","alt"],hS={key:1,class:"no-detail-images"},mS={key:1,class:"info-content"},vS={key:0},gS={key:1},yS={key:2},_S={key:3},bS={key:4},wS={key:5},kS={key:2,class:"reviews-content"},SS={class:"review-summary"},CS={class:"rating-overview"},IS={class:"average-rating"},$S={class:"rating-score"},ES={class:"review-count"},xS={class:"review-actions"},TS={key:0,class:"review-form"},AS={class:"form-group"},RS={class:"rating-input"},PS={class:"rating-text"},OS={class:"form-group"},NS={class:"form-group"},LS={class:"form-buttons"},DS={class:"review-list"},MS={key:0,class:"no-reviews"},US={class:"review-header"},jS={class:"reviewer-info"},BS={class:"reviewer-name"},qS={class:"review-rating"},HS={key:0,class:"review-actions"},FS=["onClick"],VS=["onClick"],WS={class:"review-title"},zS={class:"review-text"},JS={class:"review-date"},GS={key:3,class:"inquiry-content"},KS={class:"qna-summary"},ZS={class:"qna-overview"},XS={class:"qna-count"},YS={class:"qna-actions"},QS={key:0,class:"qna-form"},e4={class:"form-group"},t4={class:"form-group"},s4={class:"form-group"},n4={class:"form-group"},r4={class:"checkbox-label"},o4={class:"form-buttons"},a4={class:"qna-list"},i4={key:0,class:"no-qnas"},l4={class:"qna-header"},c4={class:"qna-info"},u4={class:"qna-type"},d4={key:0,class:"secret-badge"},f4={key:0,class:"qna-actions"},p4=["onClick"],h4=["onClick"],m4=["onClick"],v4={class:"qna-meta"},g4={class:"qna-author"},y4={class:"qna-date"},_4={class:"qna-views"},b4={key:0,class:"qna-detail"},w4={class:"qna-question"},k4={key:0,class:"qna-answer"},S4={class:"answer-meta"},C4={class:"answer-author"},I4={class:"answer-date"},$4={key:1,class:"no-answer"},E4={key:0,class:"related-products-section"},x4={class:"related-products-grid"},T4=["onClick"],A4=["src","alt"],R4={class:"related-product-info"},P4={class:"related-product-title"},O4={class:"related-product-price"},N4={__name:"ProductDetail",setup(e){const t=Qe(),s=Vt(),n=H(!1),r=H(null),a=H(null),i=H([]),l=H([]),c=H([]),f=H("details"),u=H(1),d=H(!1),m=H(!1);H(!1);const y=H(0),P=H(!1),R=H(!1),N=H({rating:5,title:"",content:""}),M=H(null),E=H(!1),O=H(!1),S=H({qnaType:"기타",title:"",content:"",isSecret:!1}),A=H(null),k=H(null),w=ke(()=>[{id:"details",label:"상품설명"},{id:"info",label:"상세정보"},{id:"reviews",label:`후기 (${ae()})`},{id:"inquiry",label:`문의 (${se()})`}]),C=()=>localStorage.getItem("jwt");function z(W){let B=W.replace(/-/g,"+").replace(/_/g,"/");for(;B.length%4;)B+="=";return atob(B)}const X=()=>{const W=C();if(!W||W==="null"||W==="undefined")return!1;try{const B=W.startsWith("Bearer ")?W.substring(7):W,fe=z(B.split(".")[1]);return JSON.parse(fe).exp>Date.now()/1e3}catch{return!1}},J=()=>{const W=C();if(!W)return null;try{const B=W.startsWith("Bearer ")?W.substring(7):W,fe=z(B.split(".")[1]);return JSON.parse(fe)}catch{return null}},x=async()=>{var W,B;if(!(!X()||!((W=a.value)!=null&&W.productId)))try{const fe=await Ie.get(`/api/wishlist/check/${a.value.productId}`,{timeout:8e3});fe.data.success?d.value=fe.data.data||!1:d.value=!1}catch(fe){((B=fe.response)==null?void 0:B.status)===401&&localStorage.getItem("jwt"),d.value=!1}},q=async()=>{var B,fe,xe,be,Me;if(!X()){alert("로그인이 필요합니다."),t.push("/login");return}if(!((B=a.value)!=null&&B.productId)){alert("상품 정보를 불러올 수 없습니다.");return}const W=localStorage.getItem("jwt");if(!W||W==="null"||W==="undefined"){alert("로그인이 필요합니다."),t.push("/login");return}m.value=!0;try{if(d.value){const Oe=await Ie.delete(`/api/wishlist/${a.value.productId}`,{timeout:8e3});Oe.data.success?d.value=!1:alert(Oe.data.message||"찜 해제에 실패했습니다.")}else{const Oe=await Ie.post("/api/wishlist",{productId:a.value.productId},{timeout:8e3});Oe.data.success?d.value=!0:alert(Oe.data.message||"찜하기에 실패했습니다.")}}catch(Oe){((fe=Oe.response)==null?void 0:fe.status)===401?(alert("로그인이 만료되었습니다. 다시 로그인해주세요."),localStorage.removeItem("jwt"),localStorage.removeItem("userId"),t.push("/login")):((xe=Oe.response)==null?void 0:xe.status)===409?(alert("이미 찜한 상품입니다."),d.value=!0):((be=Oe.response)==null?void 0:be.status)===404?alert("위시리스트 기능이 아직 준비되지 않았습니다."):((Me=Oe.response)==null?void 0:Me.status)===500?alert("서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요."):Oe.code==="ECONNABORTED"?alert("요청 시간이 초과되었습니다. 다시 시도해주세요."):alert("찜하기 처리 중 오류가 발생했습니다.")}finally{m.value=!1}},se=()=>c.value.length,ie=W=>({WAITING:"답변대기",ANSWERED:"답변완료",CLOSED:"문의종료"})[W]||W,he=W=>{k.value=k.value===W?null:W},te=async()=>{var W,B,fe,xe,be,Me,Oe;if(!X()){alert("로그인이 필요합니다."),t.push("/login");return}if(!S.value.title.trim()||!S.value.content.trim()){alert("제목과 내용을 모두 입력해주세요.");return}try{const pe={productId:s.params.id.toString(),qnaType:S.value.qnaType,title:S.value.title.trim(),content:S.value.content.trim(),isSecret:S.value.isSecret?"Y":"N"},Le=await Ie.post("/api/qna",pe,{timeout:1e4});Le.data.success?(alert("문의가 등록되었습니다."),j(),await D(s.params.id)):alert(Le.data.message||"Q&A 등록에 실패했습니다.")}catch(pe){if(((W=pe.response)==null?void 0:W.status)===401)alert("로그인이 필요합니다."),localStorage.removeItem("jwt"),t.push("/login");else if(((B=pe.response)==null?void 0:B.status)===403)alert("해당 상품을 구매하고 배송완료된 고객만 문의를 작성할 수 있습니다.");else if(((fe=pe.response)==null?void 0:fe.status)===400){const Le=((be=(xe=pe.response)==null?void 0:xe.data)==null?void 0:be.message)||"입력 정보를 확인해주세요.";alert(`Q&A 등록 실패: ${Le}`)}else alert(`문의 등록에 실패했습니다: ${((Oe=(Me=pe.response)==null?void 0:Me.data)==null?void 0:Oe.message)||pe.message}`)}},L=W=>{O.value=!0,E.value=!0,A.value=W.qnaId,S.value={qnaType:W.qnaType,title:W.title,content:W.content,isSecret:W.isSecret==="Y"}},v=async()=>{var W;if(!S.value.title.trim()||!S.value.content.trim()){alert("제목과 내용을 모두 입력해주세요.");return}try{const B={qnaType:S.value.qnaType,title:S.value.title.trim(),content:S.value.content.trim(),isSecret:S.value.isSecret?"Y":"N"};await Ie.put(`/api/qna/${A.value}`,B),alert("문의가 수정되었습니다."),j(),await D(s.params.id)}catch(B){((W=B.response)==null?void 0:W.status)===403?alert("본인의 문의만 수정할 수 있습니다."):alert("문의 수정에 실패했습니다.")}},g=async W=>{var B;if(confirm("정말로 이 문의를 삭제하시겠습니까?"))try{await Ie.delete(`/api/qna/${W}`),alert("문의가 삭제되었습니다."),await D(s.params.id)}catch(fe){((B=fe.response)==null?void 0:B.status)===403?alert("본인의 문의만 삭제할 수 있습니다."):alert("문의 삭제에 실패했습니다.")}},j=()=>{E.value=!1,O.value=!1,A.value=null,S.value={qnaType:"기타",title:"",content:"",isSecret:!1}},D=async W=>{try{const B=await Ie.get(`/api/qna/product/${W}`,{params:{page:1,size:10,sortBy:"createdAt"},withAuth:!1,skipErrorRedirect:!0});B.data&&Array.isArray(B.data)?c.value=B.data.map(fe=>({...fe,id:fe.qnaId,userName:fe.authorName,createdAt:fe.createdDate,userId:fe.userId||fe.authorId||fe.user_id,authorId:fe.authorId||fe.userId||fe.user_id})):c.value=[]}catch{c.value=[]}},$=async()=>{var W,B,fe,xe,be,Me,Oe;if(!X()){alert("로그인이 필요합니다."),t.push("/login");return}if(!N.value.title.trim()||!N.value.content.trim()){alert("제목과 내용을 모두 입력해주세요.");return}try{const pe={productId:s.params.id.toString(),title:N.value.title.trim(),content:N.value.content.trim(),rating:N.value.rating},Le=await Ie.post("/api/board/reviews",pe,{timeout:1e4});Le.data.success?(alert("리뷰가 등록되었습니다."),V(),await p(s.params.id)):alert(Le.data.message||"리뷰 등록에 실패했습니다.")}catch(pe){if(((W=pe.response)==null?void 0:W.status)===401)alert("로그인이 필요합니다."),localStorage.removeItem("jwt"),t.push("/login");else if(((B=pe.response)==null?void 0:B.status)===403)alert("해당 상품을 구매하고 배송완료된 고객만 리뷰를 작성할 수 있습니다.");else if(((fe=pe.response)==null?void 0:fe.status)===400){const Le=((be=(xe=pe.response)==null?void 0:xe.data)==null?void 0:be.message)||"입력 정보를 확인해주세요.";alert(`리뷰 등록 실패: ${Le}`)}else alert(`리뷰 등록에 실패했습니다: ${((Oe=(Me=pe.response)==null?void 0:Me.data)==null?void 0:Oe.message)||pe.message}`)}},F=W=>{R.value=!0,P.value=!0,M.value=W.reviewId,N.value={rating:W.rating,title:W.title,content:W.content}},re=async()=>{var W;if(!N.value.title.trim()||!N.value.content.trim()){alert("제목과 내용을 모두 입력해주세요.");return}try{const B={title:N.value.title.trim(),content:N.value.content.trim(),rating:N.value.rating};await Ie.put(`/api/board/reviews/${M.value}`,B),alert("리뷰가 수정되었습니다."),V(),await p(s.params.id)}catch(B){((W=B.response)==null?void 0:W.status)===403?alert("본인의 리뷰만 수정할 수 있습니다."):alert("리뷰 수정에 실패했습니다.")}},de=async W=>{var B;if(confirm("정말로 이 리뷰를 삭제하시겠습니까?"))try{await Ie.delete(`/api/board/reviews/${W}`),alert("리뷰가 삭제되었습니다."),await p(s.params.id)}catch(fe){((B=fe.response)==null?void 0:B.status)===403?alert("본인의 리뷰만 삭제할 수 있습니다."):alert("리뷰 삭제에 실패했습니다.")}},V=()=>{P.value=!1,R.value=!1,M.value=null,N.value={rating:5,title:"",content:""}},oe=()=>{if(!a.value)return 0;if(a.value.salePrice>0&&a.value.price>0){const W=a.value.price-a.value.salePrice,B=Math.floor(W/a.value.price*100);return B<=0||B>=100?0:B}return 0},ee=()=>l.value.length===0?0:(l.value.reduce((B,fe)=>B+(fe.rating||0),0)/l.value.length).toFixed(1),ae=()=>l.value.length,Y=W=>{var B;return((B=W.images)==null?void 0:B.length)>0?W.images[0]:W.mainImage||W.image||"https://via.placeholder.com/300x200?text=상품+이미지"},p=async W=>{try{try{const B=await Ie.get(`/api/board/product/${W}`,{params:{page:1,size:10,sortBy:"createdAt"},withAuth:!1,skipErrorRedirect:!0});if(B.data&&Array.isArray(B.data)&&B.data.length>0){l.value=B.data.map(fe=>({...fe,id:fe.reviewId,userName:fe.authorName,createdAt:fe.createdDate,userId:fe.userId||fe.authorId||fe.user_id,authorId:fe.authorId||fe.userId||fe.user_id}));return}}catch{}try{await Ie.get("/api/board/health",{withAuth:!1,skipErrorRedirect:!0})}catch{l.value=[];return}try{const B=await Ie.get("/api/board/list",{params:{page:1,size:50,sortBy:"createdAt"},withAuth:!1,timeout:5e3,skipErrorRedirect:!0});if(B.data){let fe=[];Array.isArray(B.data)?fe=B.data:B.data.content&&Array.isArray(B.data.content)?fe=B.data.content:B.data.data&&Array.isArray(B.data.data)&&(fe=B.data.data);const xe=fe.filter(be=>{var Me;return be.productId===W||be.productId===parseInt(W)||((Me=be.productId)==null?void 0:Me.toString())===W.toString()});l.value=xe.map(be=>({...be,id:be.reviewId,userName:be.authorName,createdAt:be.createdDate,userId:be.userId||be.authorId||be.user_id,authorId:be.authorId||be.userId||be.user_id}))}else l.value=[]}catch{l.value=[]}}catch{l.value=[]}},h=async()=>{var W,B;try{n.value=!0,r.value=null;const fe=s.params.id,xe=await Ie.get(`/api/products/${fe}`,{withAuth:!1});a.value=xe.data,await I(fe)}catch(fe){r.value=((B=(W=fe.response)==null?void 0:W.data)==null?void 0:B.message)||"상품 정보를 불러오는데 실패했습니다."}finally{n.value=!1}},I=async W=>{try{const B=await Ie.get(`/api/products/${W}/related?limit=4`,{withAuth:!1});i.value=B.data||[]}catch{i.value=[]}},U=()=>t.go(-1),Z=W=>t.push(`/product/${W}`),K=async()=>{var fe,xe;if(!((fe=a.value)!=null&&fe.productId)){alert("상품 정보를 찾을 수 없습니다.");return}if(!localStorage.getItem("jwt")){alert("로그인이 필요합니다."),t.push("/login");return}if(!X()){alert("로그인이 만료되었습니다. 다시 로그인해주세요."),localStorage.removeItem("jwt"),t.push("/login");return}const B={productId:a.value.productId,quantity:u.value,productOptionId:"defaultOptionId"};try{const be=await Ie.post("/api/cart",B,{timeout:1e4});be.data.success?confirm("장바구니에 추가되었습니다! 장바구니로 이동하시겠습니까?")&&t.push("/cart"):alert(be.data.message||"장바구니 추가에 실패했습니다.")}catch(be){if(be.response){const Me=be.response.status,Oe=((xe=be.response.data)==null?void 0:xe.message)||be.message;if(Me===401){alert("인증이 만료되었습니다. 다시 로그인해주세요."),localStorage.removeItem("jwt"),t.push("/login");return}else if(Me===403){alert("권한이 없습니다.");return}else if(Me===400){alert(`잘못된 요청입니다: ${Oe}`);return}else alert(`장바구니 추가 실패: ${Oe}`)}else be.request?alert("네트워크 오류가 발생했습니다. 인터넷 연결을 확인해주세요."):alert("장바구니 추가 중 오류가 발생했습니다.")}},me=()=>{var W,B,fe,xe;return((B=(W=a.value)==null?void 0:W.images)==null?void 0:B.length)>0?a.value.images[y.value]||a.value.images[0]:((fe=a.value)==null?void 0:fe.mainImage)||((xe=a.value)==null?void 0:xe.image)||"https://via.placeholder.com/600x600?text=상품+이미지"},ne=()=>a.value?a.value.salePrice>0&&a.value.salePrice<a.value.price?a.value.salePrice:a.value.price||0:0,ue=W=>(W==null?void 0:W.toLocaleString())||"0",le=W=>{if(!W)return"";try{return new Date(W).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})}catch{return W}},ye=W=>!W||W.length===0?"익명":W.length===1?W:W.length===2?W.charAt(0)+"*":W.charAt(0)+"*".repeat(W.length-2)+W.charAt(W.length-1),ve=W=>{if(W.target.dataset.errorHandled)return;W.target.dataset.errorHandled="true",W.target.style.display="none";const B=document.createElement("div");B.className="image-placeholder",B.innerHTML="이미지 없음",W.target.parentNode.appendChild(B)};return Ze(async()=>{await h();const W=s.params.id;W&&(await p(W),await D(W),await x())}),Ge(()=>s.params.id,async W=>{W&&(await h(),await p(W),await D(W),await x())}),(W,B)=>{const fe=vt("ChevronLeft"),xe=vt("Heart"),be=vt("Plus"),Me=vt("Star"),Oe=vt("ChevronDown");return _(),b("div",wk,[n.value?(_(),b("div",kk,B[10]||(B[10]=[o("div",{class:"loading-spinner"},null,-1),o("p",null,"상품 정보를 불러오는 중...",-1)]))):r.value?(_(),b("div",Sk,[B[11]||(B[11]=o("h3",null,"상품을 불러올 수 없습니다",-1)),o("p",null,T(r.value),1),o("button",{onClick:h,class:"retry-button"},"다시 시도")])):a.value?(_(),b("div",Ck,[o("div",Ik,[o("button",{class:"back-button",onClick:U},[we(fe,{size:24})])]),o("div",$k,[o("div",Ek,[o("img",{src:me(),alt:a.value.name||a.value.title,onError:ve},null,40,xk),a.value.isLive?(_(),b("div",Tk,B[12]||(B[12]=[o("span",{class:"live-dot"},null,-1),ge(" LIVE ")]))):G("",!0),oe()>0?(_(),b("div",Ak,T(oe())+"% 할인 ",1)):G("",!0)]),a.value.images&&a.value.images.length>1?(_(),b("div",Rk,[(_(!0),b(Ee,null,De(a.value.images,(pe,Le)=>(_(),b("div",{key:Le,class:$e(["indicator",{active:y.value===Le}]),onClick:bt=>y.value=Le},null,10,Pk))),128))])):G("",!0)]),o("div",Ok,[a.value.brand?(_(),b("div",Nk,[B[13]||(B[13]=o("span",{class:"brand-label"},"브랜드관",-1)),o("span",Lk,T(a.value.brand),1)])):G("",!0),o("h1",Dk,T(a.value.name||a.value.title),1),a.value.subtitle||a.value.productShortDescription?(_(),b("p",Mk,T(a.value.subtitle||a.value.productShortDescription),1)):G("",!0),o("div",Uk,[o("div",jk,[oe()>0?(_(),b("span",Bk,T(oe())+"%",1)):G("",!0),o("span",qk,T(ue(ne()))+"원",1)]),oe()>0?(_(),b("div",Hk,T(ue(a.value.price))+"원",1)):G("",!0)]),o("div",Fk,[B[19]||(B[19]=Xe('<div class="detail-row" data-v-1a2a7e9c><span class="detail-label" data-v-1a2a7e9c>배송</span><span class="detail-value" data-v-1a2a7e9c>무료배송</span></div><div class="detail-row" data-v-1a2a7e9c><span class="detail-label" data-v-1a2a7e9c>판매자</span><span class="detail-value" data-v-1a2a7e9c>트라이마켓</span></div>',2)),a.value.deliveryInfo?(_(),b("div",Vk,[B[14]||(B[14]=o("span",{class:"detail-label"},"포장타입",-1)),o("span",Wk,T(a.value.deliveryInfo),1)])):G("",!0),a.value.packaging?(_(),b("div",zk,[B[15]||(B[15]=o("span",{class:"detail-label"},"판매단위",-1)),o("span",Jk,T(a.value.packaging),1)])):G("",!0),a.value.weight?(_(),b("div",Gk,[B[16]||(B[16]=o("span",{class:"detail-label"},"중량/용량",-1)),o("span",Kk,T(a.value.weight),1)])):G("",!0),a.value.origin?(_(),b("div",Zk,[B[17]||(B[17]=o("span",{class:"detail-label"},"원산지",-1)),o("span",Xk,T(a.value.origin),1)])):G("",!0),a.value.allergyInfo?(_(),b("div",Yk,[B[18]||(B[18]=o("span",{class:"detail-label"},"알레르기정보",-1)),o("span",Qk,T(a.value.allergyInfo),1)])):G("",!0)])]),o("div",eS,[o("div",tS,[B[20]||(B[20]=o("span",{class:"total-label"},"총 상품금액:",-1)),o("span",sS,T(ue(ne()*u.value))+" 원",1)]),o("div",nS,[o("div",rS,[o("button",{class:$e(["wishlist-button",{active:d.value}]),onClick:q,disabled:m.value},[we(xe,{size:20,fill:d.value?"#ff4444":"none",stroke:d.value?"#ff4444":"#666"},null,8,["fill","stroke"]),m.value?(_(),b("span",aS,"처리중...")):G("",!0)],10,oS)]),o("button",{class:"buy-now-button",onClick:K}," 장바구니 담기 ")])]),o("div",iS,[o("div",lS,[(_(!0),b(Ee,null,De(w.value,pe=>(_(),b("button",{key:pe.id,class:$e(["tab-header",{active:f.value===pe.id}]),onClick:Le=>f.value=pe.id},T(pe.label),11,cS))),128))]),o("div",uS,[f.value==="details"?(_(),b("div",dS,[a.value.detailImages&&a.value.detailImages.length>0?(_(),b("div",fS,[(_(!0),b(Ee,null,De(a.value.detailImages,(pe,Le)=>(_(),b("img",{key:Le,src:pe,alt:`상품 상세 이미지 ${Le+1}`,onError:ve},null,40,pS))),128))])):(_(),b("div",hS,[o("p",null,T(a.value.productDescription||"상품 상세 이미지가 준비 중입니다."),1)]))])):G("",!0),f.value==="info"?(_(),b("div",mS,[B[21]||(B[21]=o("h3",null,"상품 정보",-1)),a.value.origin?(_(),b("p",vS,"원산지: "+T(a.value.origin),1)):G("",!0),a.value.deliveryInfo?(_(),b("p",gS,"포장타입: "+T(a.value.deliveryInfo),1)):G("",!0),a.value.packaging?(_(),b("p",yS,"판매단위: "+T(a.value.packaging),1)):G("",!0),a.value.weight?(_(),b("p",_S,"중량/용량: "+T(a.value.weight),1)):G("",!0),a.value.ingredients?(_(),b("p",bS,"원재료명: "+T(a.value.ingredients),1)):G("",!0),a.value.productDescription?(_(),b("p",wS,"상품설명: "+T(a.value.productDescription),1)):G("",!0)])):G("",!0),f.value==="reviews"?(_(),b("div",kS,[o("div",SS,[o("div",CS,[o("div",IS,[o("span",$S,T(ee()),1)]),o("span",ES,"("+T(ae())+"개 후기)",1)]),o("div",xS,[P.value?G("",!0):(_(),b("button",{key:0,onClick:B[0]||(B[0]=pe=>P.value=!0),class:"write-review-button"},[we(be,{size:16}),B[22]||(B[22]=ge(" 리뷰 작성하기 "))]))])]),P.value?(_(),b("div",TS,[o("h4",null,T(R.value?"리뷰 수정":"리뷰 작성"),1),o("div",AS,[B[23]||(B[23]=o("label",null,"평점",-1)),o("div",RS,[(_(),b(Ee,null,De(5,pe=>we(Me,{key:pe,size:24,fill:pe<=N.value.rating?"#ffc107":"none",stroke:pe<=N.value.rating?"#ffc107":"#ccc",onClick:Le=>N.value.rating=pe,style:{cursor:"pointer"}},null,8,["fill","stroke","onClick"])),64)),o("span",PS,T(N.value.rating)+"점",1)])]),o("div",OS,[B[24]||(B[24]=o("label",null,"제목",-1)),_e(o("input",{"onUpdate:modelValue":B[1]||(B[1]=pe=>N.value.title=pe),type:"text",placeholder:"리뷰 제목을 입력하세요",class:"form-input"},null,512),[[Te,N.value.title]])]),o("div",NS,[B[25]||(B[25]=o("label",null,"내용",-1)),_e(o("textarea",{"onUpdate:modelValue":B[2]||(B[2]=pe=>N.value.content=pe),placeholder:"리뷰 내용을 입력하세요",rows:"4",class:"form-textarea"},null,512),[[Te,N.value.content]])]),o("div",LS,[o("button",{onClick:V,class:"cancel-button"},"취소"),o("button",{onClick:B[3]||(B[3]=pe=>R.value?re():$()),class:"submit-button"},T(R.value?"수정":"등록"),1)])])):G("",!0),o("div",DS,[l.value.length===0?(_(),b("div",MS,B[26]||(B[26]=[o("p",null,"아직 작성된 후기가 없습니다.",-1),o("p",null,"첫 번째 후기를 작성해보세요!",-1)]))):G("",!0),(_(!0),b(Ee,null,De(l.value,pe=>{var Le,bt;return _(),b("div",{class:"review-item",key:pe.reviewId},[o("div",US,[o("div",jS,[o("span",BS,T(ye(pe.authorName)),1),o("div",qS,[(_(),b(Ee,null,De(5,Nt=>we(Me,{key:Nt,size:12,fill:Nt<=pe.rating?"#ffc107":"none"},null,8,["fill"])),64))])]),(((Le=J())==null?void 0:Le.sub)||((bt=J())==null?void 0:bt.userId))===pe.userId?(_(),b("div",HS,[o("button",{onClick:Nt=>F(pe),class:"edit-button"},"수정",8,FS),o("button",{onClick:Nt=>de(pe.reviewId),class:"delete-button"},"삭제",8,VS)])):G("",!0)]),o("h5",WS,T(pe.title),1),o("p",zS,T(pe.content),1),o("span",JS,T(le(pe.createdDate)),1)])}),128))])])):G("",!0),f.value==="inquiry"?(_(),b("div",GS,[o("div",KS,[o("div",ZS,[o("span",XS,T(se())+"개의 문의",1)]),o("div",YS,[E.value?G("",!0):(_(),b("button",{key:0,onClick:B[4]||(B[4]=pe=>E.value=!0),class:"write-qna-button"},[we(be,{size:16}),B[27]||(B[27]=ge(" 문의 작성하기 "))]))])]),E.value?(_(),b("div",QS,[o("h4",null,T(O.value?"문의 수정":"문의 작성"),1),o("div",e4,[B[29]||(B[29]=o("label",null,"문의 유형",-1)),_e(o("select",{"onUpdate:modelValue":B[5]||(B[5]=pe=>S.value.qnaType=pe),class:"form-select"},B[28]||(B[28]=[o("option",{value:"배송"},"배송",-1),o("option",{value:"상품"},"상품",-1),o("option",{value:"교환/반품"},"교환/반품",-1),o("option",{value:"기타"},"기타",-1)]),512),[[Rs,S.value.qnaType]])]),o("div",t4,[B[30]||(B[30]=o("label",null,"제목",-1)),_e(o("input",{"onUpdate:modelValue":B[6]||(B[6]=pe=>S.value.title=pe),type:"text",placeholder:"문의 제목을 입력하세요",class:"form-input"},null,512),[[Te,S.value.title]])]),o("div",s4,[B[31]||(B[31]=o("label",null,"내용",-1)),_e(o("textarea",{"onUpdate:modelValue":B[7]||(B[7]=pe=>S.value.content=pe),placeholder:"문의 내용을 입력하세요",rows:"4",class:"form-textarea"},null,512),[[Te,S.value.content]])]),o("div",n4,[o("label",r4,[_e(o("input",{type:"checkbox","onUpdate:modelValue":B[8]||(B[8]=pe=>S.value.isSecret=pe)},null,512),[[Bt,S.value.isSecret]]),B[32]||(B[32]=ge(" 비밀글로 작성하기 "))])]),o("div",o4,[o("button",{onClick:j,class:"cancel-button"},"취소"),o("button",{onClick:B[9]||(B[9]=pe=>O.value?v():te()),class:"submit-button"},T(O.value?"수정":"등록"),1)])])):G("",!0),o("div",a4,[c.value.length===0?(_(),b("div",i4,B[33]||(B[33]=[o("p",null,"아직 작성된 문의가 없습니다.",-1),o("p",null,"궁금한 점이 있다면 문의를 남겨보세요!",-1)]))):G("",!0),(_(!0),b(Ee,null,De(c.value,pe=>{var Le,bt;return _(),b("div",{class:"qna-item",key:pe.qnaId},[o("div",l4,[o("div",c4,[o("span",u4,T(pe.qnaType),1),pe.isSecret==="Y"?(_(),b("span",d4,"🔒 비밀글")):G("",!0),o("span",{class:$e(["qna-status",pe.qnaStatus.toLowerCase()])},T(ie(pe.qnaStatus)),3)]),(((Le=J())==null?void 0:Le.sub)||((bt=J())==null?void 0:bt.userId))===pe.userId?(_(),b("div",f4,[o("button",{onClick:Nt=>L(pe),class:"edit-button"},"수정",8,p4),o("button",{onClick:Nt=>g(pe.qnaId),class:"delete-button"},"삭제",8,h4)])):G("",!0)]),o("h5",{class:"qna-title",onClick:Nt=>he(pe.qnaId)},[ge(T(pe.title)+" ",1),we(Oe,{size:16,class:$e(["expand-icon",{expanded:k.value===pe.qnaId}])},null,8,["class"])],8,m4),o("div",v4,[o("span",g4,T(ye(pe.authorName)),1),o("span",y4,T(le(pe.createdDate)),1),o("span",_4,"조회 "+T(pe.viewCount||0),1)]),k.value===pe.qnaId?(_(),b("div",b4,[o("div",w4,[B[34]||(B[34]=o("h6",null,"문의 내용",-1)),o("p",null,T(pe.content),1)]),pe.answerContent?(_(),b("div",k4,[B[35]||(B[35]=o("h6",null,"답변",-1)),o("p",null,T(pe.answerContent),1),o("div",S4,[o("span",C4,T(pe.answerAuthorName||"관리자"),1),o("span",I4,T(le(pe.answerDate)),1)])])):(_(),b("div",$4,B[36]||(B[36]=[o("p",null,"아직 답변이 등록되지 않았습니다.",-1)])))])):G("",!0)])}),128))])])):G("",!0)])]),i.value.length>0?(_(),b("div",E4,[B[37]||(B[37]=o("h3",null,"이런 상품도 있어요",-1)),o("div",x4,[(_(!0),b(Ee,null,De(i.value,pe=>(_(),b("div",{key:pe.productId,class:"related-product-item",onClick:Le=>Z(pe.productId)},[o("img",{src:Y(pe),alt:pe.name||pe.title,onError:ve},null,40,A4),o("div",R4,[o("p",P4,T(pe.name||pe.title),1),o("p",O4,T(ue(pe.salePrice||pe.price))+"원",1)])],8,T4))),128))])])):G("",!0)])):G("",!0)])}}},L4=ze(N4,[["__scopeId","data-v-1a2a7e9c"]]),D4={class:"cart-container"},M4={class:"cart-header"},U4={key:0,class:"loading-container"},j4={key:1,class:"main-content"},B4={class:"cart-content"},q4={key:0,class:"empty-cart"},H4={key:1},F4={class:"select-all-section"},V4={class:"checkbox-container"},W4=["disabled"],z4={key:0,class:"cart-section"},J4={class:"cart-items"},G4={class:"checkbox-container"},K4=["value"],Z4={class:"item-image"},X4=["src","alt"],Y4={class:"item-details"},Q4={class:"item-name"},eC={class:"item-price-section"},tC={class:"price-info"},sC={key:0,class:"discount-rate"},nC={class:"final-price"},rC={key:0,class:"original-price"},oC={class:"item-total-price"},aC={class:"total-amount"},iC={key:0,class:"total-discount"},lC={class:"quantity-controls"},cC=["onClick","disabled"],uC={class:"quantity"},dC=["onClick"],fC=["onClick"],pC={key:1,class:"cart-section"},hC={class:"cart-items"},mC={class:"checkbox-container"},vC=["value"],gC={class:"item-image"},yC=["src","alt"],_C={class:"item-details"},bC={class:"item-name"},wC={class:"item-price-section"},kC={class:"price-info"},SC={key:0,class:"discount-rate"},CC={class:"final-price"},IC={key:0,class:"original-price"},$C={class:"item-total-price"},EC={class:"total-amount"},xC={key:0,class:"total-discount"},TC={class:"quantity-controls"},AC=["onClick","disabled"],RC={class:"quantity"},PC=["onClick"],OC=["onClick"],NC={class:"order-summary-sidebar"},LC={class:"summary-card"},DC={class:"summary-details"},MC={class:"summary-row"},UC={class:"summary-value"},jC={key:0,class:"summary-row discount"},BC={class:"summary-value discount-text"},qC={class:"summary-row"},HC={class:"summary-value"},FC={class:"summary-row total"},VC={class:"summary-value total-price"},WC=["disabled"],zC={key:0},JC={key:1},GC={key:2},KC={key:3},ZC=4e4,XC=0,YC={__name:"Cart",setup(e){const t=Qe(),s=H(!1),n=H(!1),r=H([]),a=H([]),i=H(!1),l=H(ZC),c=H(!1),f=v=>{if(!v)return!1;try{const g=v.split(".");if(g.length!==3)return!1;let j=g[1].replace(/-/g,"+").replace(/_/g,"/");for(;j.length%4;)j+="=";const D=atob(j),$=JSON.parse(D),F=Math.floor(Date.now()/1e3);return!($.exp&&$.exp<F)}catch{return!1}},u=()=>{const v=localStorage.getItem("jwt"),g=v&&f(v);return c.value=g,!g&&v&&localStorage.removeItem("jwt"),c.value},d=v=>v?v.discountRate>0&&v.salePrice<v.price:!1,m=ke(()=>Array.isArray(r.value)?r.value.filter(v=>v&&v.category==="frozen"):[]),y=ke(()=>Array.isArray(r.value)?r.value.filter(v=>v&&v.category==="normal"):[]),P=ke(()=>!Array.isArray(r.value)||!Array.isArray(a.value)?[]:r.value.filter(v=>v&&a.value.includes(v.id))),R=ke(()=>Array.isArray(P.value)?P.value.reduce((v,g)=>g?v+(g.price||0)*(g.quantity||1):v,0):0),N=ke(()=>Array.isArray(P.value)?P.value.reduce((v,g)=>g?v+(g.salePrice||0)*(g.quantity||1):v,0):0),M=ke(()=>Array.isArray(P.value)?P.value.reduce((v,g)=>!g||!d(g)?v:v+((g.price||0)-(g.salePrice||0))*(g.quantity||1),0):0),E=ke(()=>N.value>=l.value?0:XC),O=ke(()=>N.value+E.value),S=()=>{Array.isArray(r.value)&&(i.value?a.value=r.value.map(v=>v==null?void 0:v.id).filter(Boolean):a.value=[])},A=async v=>{var j,D;if(!v||!confirm("상품을 장바구니에서 제거하시겠습니까?"))return;const g=r.value.find($=>($==null?void 0:$.id)===v);if(c.value)try{await Ie.delete(`/api/cart/items/${v}`)}catch($){if(((j=$.response)==null?void 0:j.status)!==404){if(((D=$.response)==null?void 0:D.status)===401)return;alert("상품 삭제에 실패했습니다.");return}}else if(g){const F=JSON.parse(localStorage.getItem("guestCart")||"[]").filter(re=>re.productId!==g.productId);localStorage.setItem("guestCart",JSON.stringify(F))}r.value=r.value.filter($=>($==null?void 0:$.id)!==v),a.value=a.value.filter($=>$!==v)},k=async()=>{var v;if(!(!Array.isArray(a.value)||a.value.length===0)&&confirm(`선택한 ${a.value.length}개 상품을 삭제하시겠습니까?`)){if(c.value){const g=r.value.filter(j=>j&&a.value.includes(j.id)).map(j=>j.id);try{await Ie.delete("/api/cart/items",{data:{cartItemIds:g}})}catch(j){if(((v=j.response)==null?void 0:v.status)===401)return;for(const D of g)try{await Ie.delete(`/api/cart/items/${D}`)}catch{}}}else{const g=r.value.filter($=>$&&a.value.includes($.id)).map($=>$.productId),D=JSON.parse(localStorage.getItem("guestCart")||"[]").filter($=>!g.includes($.productId));localStorage.setItem("guestCart",JSON.stringify(D))}r.value=r.value.filter(g=>g&&!a.value.includes(g.id)),a.value=[],i.value=!1}},w=v=>v?(v.salePrice||0)*(v.quantity||1):0,C=v=>!v||!d(v)?0:((v.price||0)-(v.salePrice||0))*(v.quantity||1),z=(v,g)=>{try{const j=JSON.parse(localStorage.getItem("guestCart")||"[]"),D=j.findIndex($=>$.productId===v);D>=0&&(j[D].quantity=g,localStorage.setItem("guestCart",JSON.stringify(j)))}catch{}},X=async()=>{try{if(n.value=!0,!u()){alert("주문하려면 로그인이 필요합니다."),t.push("/login");return}const g=r.value.filter(D=>D&&a.value.includes(D.id));if(g.length===0){alert("주문할 상품을 선택해주세요.");return}const j={items:g,totalPrice:O.value,productAmount:R.value,discountAmount:M.value,deliveryFee:E.value};sessionStorage.setItem("checkout_data",JSON.stringify(j)),t.push("/checkout")}catch{alert("주문 페이지로 이동 중 오류가 발생했습니다.")}finally{n.value=!1}},J=()=>{t.go(-1)},x=v=>(v||0).toLocaleString(),q=()=>"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjNmNGY2Ii8+CiAgPHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzZiNzI4MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuydtOuvuOyngDwvdGV4dD4KPC9zdmc+Cg==",se=v=>{v.target.dataset.errorHandled||(v.target.dataset.errorHandled="true",v.target.src=q())};Ge(a,()=>{!Array.isArray(r.value)||!Array.isArray(a.value)||(i.value=a.value.length===r.value.length&&r.value.length>0)},{deep:!0}),Ze(async()=>{var v;s.value=!0;try{const g=u(),j=new URLSearchParams(window.location.search),D=j.get("from")==="payment"||j.get("payment")==="complete"||sessionStorage.getItem("payment_completed")==="true",$=sessionStorage.getItem("cart_cleaned_after_payment")==="true",F=sessionStorage.getItem("last_purchase_cleanup"),re=F&&Date.now()-parseInt(F)<3e4;if(D){if(sessionStorage.removeItem("checkout_data"),sessionStorage.removeItem("pending_order_data"),sessionStorage.removeItem("payment_completed"),j.has("from")||j.has("payment")){const de=window.location.pathname;window.history.replaceState({},"",de)}$&&(sessionStorage.removeItem("cart_cleaned_after_payment"),sessionStorage.removeItem("last_purchase_cleanup"))}if(g)try{const de=D||$?`?_t=${Date.now()}`:"",V=await Ie.get(`/api/cart${de}`);if(V.data.success&&Array.isArray((v=V.data.data)==null?void 0:v.cartItems)){const oe=V.data.data.cartItems.map(L).filter(Boolean);r.value=oe,a.value=oe.map(ee=>ee.id),i.value=oe.length>0}else r.value=[]}catch{r.value=[]}else try{const de=JSON.parse(localStorage.getItem("guestCart")||"[]");Array.isArray(de)&&de.length>0?(r.value=de.map(L).filter(Boolean),a.value=r.value.map(V=>V.id),i.value=r.value.length>0):r.value=[]}catch{r.value=[]}D&&$&&re&&setTimeout(()=>{sessionStorage.getItem("payment_success_notified")||(sessionStorage.setItem("payment_success_notified","true"),setTimeout(()=>{sessionStorage.removeItem("payment_success_notified")},5e3),alert("결제가 완료되었습니다! 구매하신 상품이 장바구니에서 제거되었습니다."))},1e3)}catch{r.value=[]}finally{s.value=!1}});const ie=async v=>{var j,D,$,F;if(!v)return;const g=v.quantity||1;if(v.quantity=g+1,c.value)try{const re={cartItemId:v.cartItemId||v.id,quantity:v.quantity},de=await Ie.put("/api/cart/items",re)}catch(re){if(v.quantity=g,((j=re.response)==null?void 0:j.status)===404){alert("장바구니 상품을 찾을 수 없습니다. 장바구니를 다시 불러오겠습니다."),await he();return}else{if(((D=re.response)==null?void 0:D.status)===401)return;alert("수량 변경에 실패했습니다: "+(((F=($=re.response)==null?void 0:$.data)==null?void 0:F.message)||re.message))}}else z(v.productId,v.quantity)},he=async()=>{var v;s.value=!0;try{if(c.value){const g=await Ie.get("/api/cart");if(g.data.success&&Array.isArray((v=g.data.data)==null?void 0:v.cartItems)){const j=g.data.data.cartItems.map(L).filter(Boolean);r.value=j,a.value=j.map(D=>D.id),i.value=j.length>0}}}catch{}finally{s.value=!1}},te=async v=>{var j,D,$,F;if(!v||(v.quantity||1)<=1)return;const g=v.quantity||1;if(v.quantity=g-1,c.value)try{const re={cartItemId:v.cartItemId||v.id,quantity:v.quantity},de=await Ie.put("/api/cart/items",re)}catch(re){if(v.quantity=g,((j=re.response)==null?void 0:j.status)===404)alert("장바구니 상품을 찾을 수 없습니다. 페이지를 새로고침합니다."),window.location.reload();else{if(((D=re.response)==null?void 0:D.status)===401)return;alert("수량 변경에 실패했습니다: "+(((F=($=re.response)==null?void 0:$.data)==null?void 0:F.message)||re.message))}}else z(v.productId,v.quantity)},L=v=>{if(!v)return null;const g=v.productPrice||v.price||0,j=v.salePrice||g;let D=0;return g>0&&j<g&&(D=Math.floor((g-j)/g*100),(D<=0||D>=100)&&(D=0)),{id:v.cartItemId||v.id||`item_${v.productId}_${Date.now()}`,cartItemId:v.cartItemId,productId:v.productId,name:v.productName||v.name||"상품명 없음",price:g,salePrice:j>0&&j<g?j:g,discountRate:D,quantity:v.quantity||1,image:v.productImage||v.image||q(),category:v.category||"normal",deliveryType:v.deliveryType||"normal"}};return(v,g)=>{var j,D;return _(),b("div",D4,[o("div",M4,[o("button",{class:"back-button",onClick:J},[we(Ne(Ld),{size:24})]),g[3]||(g[3]=o("h1",{class:"cart-title"},"장바구니",-1)),g[4]||(g[4]=o("div",{class:"header-spacer"},null,-1))]),s.value?(_(),b("div",U4,g[5]||(g[5]=[o("div",{class:"loading-spinner"},null,-1),o("p",null,"장바구니를 불러오는 중...",-1)]))):(_(),b("div",j4,[o("div",B4,[!r.value||!Array.isArray(r.value)||r.value.length===0?(_(),b("div",q4,g[6]||(g[6]=[o("div",{class:"empty-icon"},"!",-1),o("h3",null,"장바구니에 담긴 상품이 없습니다",-1)]))):(_(),b("div",H4,[o("div",F4,[o("label",V4,[_e(o("input",{type:"checkbox","onUpdate:modelValue":g[0]||(g[0]=$=>i.value=$),onChange:S},null,544),[[Bt,i.value]]),g[7]||(g[7]=o("span",{class:"checkmark"},null,-1)),ge(" 전체선택 "+T(((j=a.value)==null?void 0:j.length)||0)+"/"+T(((D=r.value)==null?void 0:D.length)||0),1)]),o("button",{class:"delete-selected-btn",onClick:k,disabled:!a.value||a.value.length===0}," 선택삭제 ",8,W4)]),m.value&&m.value.length>0?(_(),b("div",z4,[g[10]||(g[10]=o("div",{class:"section-header"},[o("div",{class:"section-title"},[o("span",{class:"temp-icon"},"❄️"),ge(" 냉동 상품 ")])],-1)),o("div",J4,[(_(!0),b(Ee,null,De(m.value,$=>(_(),b("div",{key:$.id,class:"cart-item"},[o("label",G4,[_e(o("input",{type:"checkbox","onUpdate:modelValue":g[1]||(g[1]=F=>a.value=F),value:$.id},null,8,K4),[[Bt,a.value]]),g[8]||(g[8]=o("span",{class:"checkmark"},null,-1))]),o("div",Z4,[o("img",{src:$.image,alt:$.name,onError:se},null,40,X4)]),o("div",Y4,[o("h3",Q4,T($.name||"상품명 없음"),1),o("div",eC,[o("div",tC,[d($)?(_(),b("span",sC,T($.discountRate||0)+"%",1)):G("",!0),o("span",nC,T(x($.salePrice||0))+"원",1)]),d($)?(_(),b("div",rC,T(x($.price||0))+"원",1)):G("",!0)]),o("div",oC,[g[9]||(g[9]=o("span",{class:"total-label"},"소계: ",-1)),o("span",aC,T(x(w($)))+"원",1),d($)?(_(),b("span",iC," ("+T(x(C($)))+"원 할인) ",1)):G("",!0)]),o("div",lC,[o("button",{class:"quantity-btn",onClick:F=>te($),disabled:($.quantity||1)<=1},[we(Ne(Il),{size:16})],8,cC),o("span",uC,T($.quantity||1),1),o("button",{class:"quantity-btn",onClick:F=>ie($)},[we(Ne($l),{size:16})],8,dC)])]),o("button",{class:"delete-item-btn",onClick:F=>A($.id)},[we(Ne(Ra),{size:20})],8,fC)]))),128))])])):G("",!0),y.value&&y.value.length>0?(_(),b("div",pC,[g[13]||(g[13]=o("div",{class:"section-header"},[o("div",{class:"section-title"},[o("span",{class:"temp-icon"},"🛍️"),ge(" 일반 상품 ")])],-1)),o("div",hC,[(_(!0),b(Ee,null,De(y.value,$=>(_(),b("div",{key:$.id,class:"cart-item"},[o("label",mC,[_e(o("input",{type:"checkbox","onUpdate:modelValue":g[2]||(g[2]=F=>a.value=F),value:$.id},null,8,vC),[[Bt,a.value]]),g[11]||(g[11]=o("span",{class:"checkmark"},null,-1))]),o("div",gC,[o("img",{src:$.image,alt:$.name,onError:se},null,40,yC)]),o("div",_C,[o("h3",bC,T($.name||"상품명 없음"),1),o("div",wC,[o("div",kC,[d($)?(_(),b("span",SC,T($.discountRate||0)+"%",1)):G("",!0),o("span",CC,T(x($.salePrice||0))+"원",1)]),d($)?(_(),b("div",IC,T(x($.price||0))+"원",1)):G("",!0)]),o("div",$C,[g[12]||(g[12]=o("span",{class:"total-label"},"소계: ",-1)),o("span",EC,T(x(w($)))+"원",1),d($)?(_(),b("span",xC," ("+T(x(C($)))+"원 할인) ",1)):G("",!0)]),o("div",TC,[o("button",{class:"quantity-btn",onClick:F=>te($),disabled:($.quantity||1)<=1},[we(Ne(Il),{size:16})],8,AC),o("span",RC,T($.quantity||1),1),o("button",{class:"quantity-btn",onClick:F=>ie($)},[we(Ne($l),{size:16})],8,PC)])]),o("button",{class:"delete-item-btn",onClick:F=>A($.id)},[we(Ne(Ra),{size:20})],8,OC)]))),128))])])):G("",!0)]))]),o("div",NC,[o("div",LC,[g[19]||(g[19]=o("h3",{class:"summary-title"},"결제금액",-1)),o("div",DC,[o("div",MC,[g[14]||(g[14]=o("span",{class:"summary-label"},"상품금액",-1)),o("span",UC,T(x(R.value))+"원",1)]),M.value>0?(_(),b("div",jC,[g[15]||(g[15]=o("span",{class:"summary-label"},"상품할인금액",-1)),o("span",BC,"-"+T(x(M.value))+"원",1)])):G("",!0),o("div",qC,[g[16]||(g[16]=o("span",{class:"summary-label"},"배송비",-1)),o("span",HC,T(x(E.value))+"원",1)]),g[18]||(g[18]=o("div",{class:"summary-divider"},null,-1)),o("div",FC,[g[17]||(g[17]=o("span",{class:"summary-label"},"결제예정금액",-1)),o("span",VC,T(x(O.value))+"원",1)])]),o("button",{class:"checkout-btn",onClick:X,disabled:!a.value||a.value.length===0||!r.value||r.value.length===0||n.value},[n.value?(_(),b("span",zC,"주문 준비 중...")):!r.value||r.value.length===0?(_(),b("span",JC,"장바구니 비어있음")):c.value?(_(),b("span",KC,"주문하기")):(_(),b("span",GC,"로그인"))],8,WC)])])]))])}}},QC=ze(YC,[["__scopeId","data-v-58d664d9"]]);class gt{static isCancelRelated(t,s){if(t&&["STOP_PAYMENT","USER_CANCEL","PAYMENT_CANCEL","USER_CANCELLED"].includes(t))return!0;if(s){const r=s.toLowerCase();return this.CANCEL_KEYWORDS.some(a=>r.includes(a.toLowerCase()))}return!1}static getFailureReason(t,s){if(console.log("에러 분석:",{errorCode:t,errorMsg:s}),t&&this.ERROR_CODE_MESSAGES[t])return console.log("에러 코드 매칭:",t),this.ERROR_CODE_MESSAGES[t];if(this.isCancelRelated(t,s))return console.log("취소 관련 메시지 감지"),"결제를 취소하셨네요. 괜찮습니다! 다시 시도하시면 됩니다";if(s){for(const[r,a]of Object.entries(this.ERROR_MESSAGE_PATTERNS))if(s.includes(r))return console.log("메시지 패턴 매칭:",r),a;const n=s.toLowerCase();if(n.includes("거절")||n.includes("declined"))return"카드 승인이 안 되었어요. 다른 카드로 시도해보세요";if(n.includes("잔액")||n.includes("insufficient"))return"잔액이 부족한 것 같아요. 충전 후 다시 시도해보세요";if(n.includes("시간")||n.includes("timeout"))return"결제 시간이 초과되었어요. 다시 시도해보세요";if(n.includes("네트워크")||n.includes("network"))return"인터넷 연결을 확인하고 다시 시도해보세요"}return console.log("기본 메시지 사용"),s||"결제 중 문제가 발생했어요. 다시 시도해보시거나 고객센터에 문의해주세요"}static getSuccessMessage(t,s,n=null){const r=this.PG_DISPLAY_NAMES[t]||"결제서비스";if(n!==null&&this.SUCCESS_MESSAGES[n])return this.SUCCESS_MESSAGES[n](r,s);const a=Math.floor(Math.random()*this.SUCCESS_MESSAGES.length);return this.SUCCESS_MESSAGES[a](r,s)}static getPgDisplayName(t){return this.PG_DISPLAY_NAMES[t]||t}static getMessageType(t,s){return this.isCancelRelated(t,s)?"info":["TIMEOUT","NETWORK_ERROR","SYSTEM_ERROR","SERVER_ERROR"].includes(t)?"warning":"error"}}Ps(gt,"ERROR_CODE_MESSAGES",{STOP_PAYMENT:"결제를 중단하셨습니다. 언제든 다시 시도해보세요!",USER_CANCEL:"결제를 취소하셨네요. 괜찮습니다! 다시 시도하시면 됩니다",PAYMENT_CANCEL:"결제를 취소하셨어요. 다시 필요하시면 언제든지!",USER_CANCELLED:"결제를 취소하셨네요. 괜찮습니다! 다시 시도하시면 됩니다",CARD_DECLINED:"카드 승인이 거절되었어요. 다른 카드로 시도하거나 카드사에 문의해보세요",INSUFFICIENT_FUNDS:"잔액이 부족한 것 같아요. 충전 후 다시 시도해보세요",INVALID_CARD:"카드 정보를 다시 확인해주세요. 카드번호나 유효기간을 다시 입력해보세요",EXPIRED_CARD:"카드 유효기간이 만료되었어요. 다른 카드로 시도해보세요",CARD_ERROR:"카드에 문제가 있는 것 같아요. 다른 카드로 시도해보세요",TIMEOUT:"결제 시간이 초과되었어요. 네트워크를 확인하고 다시 시도해보세요",NETWORK_ERROR:"인터넷 연결을 확인하고 다시 시도해보세요",SYSTEM_ERROR:"일시적인 오류가 발생했어요. 잠시 후 다시 시도해보세요",SERVER_ERROR:"서버에 일시적인 문제가 있어요. 잠시 후 다시 시도해보세요",PG_ERROR:"결제 서비스에 일시적인 문제가 있어요. 다른 결제수단으로 시도해보세요",PG_TIMEOUT:"결제 서비스 응답이 지연되고 있어요. 다시 시도해보세요",AUTH_FAILED:"본인인증에 실패했어요. 정보를 다시 확인해주세요",SMS_FAILED:"SMS 인증에 실패했어요. 휴대폰 번호를 확인해보세요",OTP_FAILED:"인증번호가 맞지 않아요. 다시 확인해보세요",DAILY_LIMIT_EXCEEDED:"일일 결제 한도를 초과했어요. 내일 다시 시도하거나 다른 카드를 사용해보세요",MONTHLY_LIMIT_EXCEEDED:"월 결제 한도를 초과했어요. 다른 카드를 사용해보세요"}),Ps(gt,"CANCEL_KEYWORDS",["취소","cancel","cancelled","canceled","중단","stop","abort","포기"]),Ps(gt,"ERROR_MESSAGE_PATTERNS",{"카드 결제가 거절되었습니다":"카드 승인이 안 되었어요. 다른 카드로 시도해보세요","카드 승인에 실패했습니다":"카드 승인이 안 되었어요. 카드사에 문의하거나 다른 카드로 시도해보세요","잔액이 부족합니다":"잔액이 부족한 것 같아요. 충전 후 다시 시도해보세요","결제 시간이 초과되었습니다":"결제 시간이 초과되었어요. 다시 시도해보세요","네트워크 오류가 발생했습니다":"인터넷 연결을 확인하고 다시 시도해보세요","서버 오류가 발생했습니다":"일시적인 서버 문제가 있어요. 잠시 후 다시 시도해보세요"}),Ps(gt,"SUCCESS_MESSAGES",[(t,s)=>`${t} 결제가 완료되었어요!`,(t,s)=>`결제 성공! ${s==null?void 0:s.toLocaleString()}원이 결제되었습니다`,(t,s)=>`${t}로 결제가 완료되었습니다! 감사합니다`,(t,s)=>"결제 완료! 주문이 성공적으로 처리되었어요",(t,s)=>`${s==null?void 0:s.toLocaleString()}원 결제가 완료되었어요! 주문해 주셔서 감사합니다`]),Ps(gt,"PG_DISPLAY_NAMES",{"kakaopay.TC0ONETIME":"카카오페이",html5_inicis:"일반카드","tosspay.tosstest":"토스페이","payco.PARTNERTEST":"페이코","kcp.T0000":"컬리페이",naverpay:"네이버페이",smilepay:"스마일페이"});const Jn=gt.getFailureReason.bind(gt),eI=gt.getSuccessMessage.bind(gt);gt.getPgDisplayName.bind(gt);const tI=gt.getMessageType.bind(gt),sI={class:"checkout-container"},nI={class:"checkout-header"},rI={class:"checkout-content"},oI={class:"order-form"},aI={class:"form-section"},iI={class:"order-items"},lI={class:"item-image"},cI=["src","alt"],uI={class:"item-details"},dI={class:"item-name"},fI={class:"item-price"},pI={key:0,class:"discount-rate"},hI={class:"final-price"},mI={class:"item-quantity"},vI={class:"form-section"},gI={class:"form-grid"},yI={class:"form-group"},_I={class:"form-value"},bI={class:"form-group"},wI={class:"form-value"},kI={class:"form-group"},SI={class:"email-info"},CI={class:"form-value"},II={class:"form-section"},$I={class:"delivery-address"},EI={class:"address-content"},xI={class:"delivery-info-section"},TI={class:"delivery-options"},AI={class:"form-section"},RI={class:"payment-methods"},PI={key:0,class:"sub-payment-methods"},OI={class:"sub-payment-group"},NI={class:"radio-container"},LI={key:0,class:"card-options"},DI={key:1,class:"payment-guide"},MI={key:0,class:"guide-text"},UI={key:1,class:"guide-text"},jI={key:2,class:"guide-text"},BI={class:"sub-payment-group"},qI={class:"radio-container"},HI={class:"sub-payment-group"},FI={class:"radio-container"},VI={class:"payment-notice-section"},WI={class:"notice-list"},zI={key:0,class:"phone-notice"},JI={class:"payment-summary"},GI={class:"summary-card"},KI={class:"summary-details"},ZI={class:"summary-row"},XI={class:"summary-value"},YI={class:"summary-row"},QI={class:"summary-value"},e3={class:"summary-row"},t3={class:"summary-value"},s3={class:"summary-row total"},n3={class:"summary-value"},r3=["disabled"],o3={key:0},a3={key:1},i3={class:"address-search-section"},l3={class:"search-input-group"},c3={class:"detail-address-group"},u3={class:"modal-actions"},d3=["disabled"],f3={__name:"Checkout",setup(e){const t=H("card"),s=H("general"),n=H("credit");H(0);const r=H(!1),a=H({zipCode:"",address:"",detailAddress:""}),i=H({name:"",phone:"",email:""}),l=H({address:"",detailAddress:"",zipCode:"",request:"",recipientName:"",recipientPhone:""}),c=H([]),f=H(0),u=H(0);H(0);const d=H(0),m=H(0),y=H(0),P=H(0),R=H(0),N=H(0),M=H(!1);H("");const E=H(!1),O=ke(()=>Math.max(0,f.value+d.value-m.value-y.value-P.value-R.value-N.value)),S=ke(()=>s.value&&c.value.length>0),A=ke(()=>a.value.zipCode&&a.value.address&&a.value.detailAddress.trim());let k=null,w=0;const C=(Y,p="info")=>{const h=Date.now();k===Y&&h-w<1e3||(k=Y,w=h,alert(Y))},z=Y=>{t.value=Y,n.value!=="credit"&&(n.value="credit"),C(`${{card:"신용카드",simple:"간편결제",phone:"휴대폰 결제"}[Y]}가 선택되었습니다!`,"info")},X=()=>{r.value=!0,a.value={zipCode:l.value.zipCode||"",address:l.value.address||"",detailAddress:l.value.detailAddress||""}},J=()=>{r.value=!1,a.value={zipCode:"",address:"",detailAddress:""}},x=()=>new Promise((Y,p)=>{if(typeof daum<"u"&&daum.Postcode){Y();return}const h=document.createElement("script");h.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",h.onload=()=>Y(),h.onerror=()=>p(new Error("카카오 API 로드 실패")),document.head.appendChild(h)}),q=async()=>{try{(typeof daum>"u"||!daum.Postcode)&&await x(),new daum.Postcode({oncomplete:function(Y){a.value.zipCode=Y.zonecode,a.value.address=Y.address,setTimeout(()=>{const p=document.querySelector(".detail-address-input");p&&p.focus()},100)}}).open()}catch{C("우편번호 검색 서비스를 로드할 수 없습니다.","error")}},se=()=>{if(!A.value){C("우편번호, 기본주소, 상세주소를 모두 입력해주세요.","warning");return}l.value={...l.value,zipCode:a.value.zipCode,address:a.value.address,detailAddress:a.value.detailAddress},J(),C("배송지가 변경되었습니다!","success")},ie=()=>{const Y=prompt("배송 요청사항을 입력하세요:",l.value.request);Y!==null&&(l.value.request=Y.trim()||"문 앞에 놓아주세요",C("배송 요청사항이 변경되었습니다!","info"))},he=Y=>{if(!Y||typeof Y!="string")return!1;try{const p=Y.split(".");if(p.length!==3)return!1;let h=p[1].replace(/-/g,"+").replace(/_/g,"/");for(;h.length%4;)h+="=";const I=atob(h),U=JSON.parse(I),Z=Math.floor(Date.now()/1e3);return!(U.exp&&U.exp<Z||!U.sub&&!U.username)}catch{return!1}},te=()=>{const Y=localStorage.getItem("jwt");if(!Y)return M.value=!1,!1;if(!he(Y))return localStorage.removeItem("jwt"),localStorage.removeItem("userId"),M.value=!1,!1;try{return vs(Y),M.value=!!ce.id,M.value}catch{return M.value=!1,!1}},L=async()=>{var Y,p;try{if(!M.value){i.value={name:"게스트 사용자",phone:"",email:""},v("게스트 사용자","");return}let h=ce.name||"사용자",I=ce.email||localStorage.getItem("user_email")||sessionStorage.getItem("user_email")||"",U=ce.phone||localStorage.getItem("user_phone")||sessionStorage.getItem("user_phone")||"";const Z=localStorage.getItem("jwt");if(Z)try{const me=Z.replace("Bearer ","").split(".");if(me.length===3){let ne=me[1].replace(/-/g,"+").replace(/_/g,"/");for(;ne.length%4;)ne+="=";const ue=JSON.parse(atob(ne));if((!h||h==="사용자")&&ue.name&&ue.name.trim()&&ue.name!==ue.sub&&(h=ue.name),!I){const le=["email","mail","userEmail","emailAddress"];for(const ye of le)if(ue[ye]){I=ue[ye];break}}if(!U){const le=["phone","phoneNumber","mobile","userPhone","tel","cellphone"];for(const ye of le)if(ue[ye]){U=ue[ye];break}}}}catch{}if(!(I&&U))try{const me=await Ie.get("/api/users/profile",{timeout:3e3,validateStatus:function(ne){return ne<500}});if(me.status===200&&((Y=me.data)!=null&&Y.success)&&((p=me.data)!=null&&p.data)){const ne=me.data.data;!I&&ne.email&&ne.email.trim()&&(I=ne.email.trim()),!U&&ne.phone&&ne.phone.trim()&&(U=ne.phone.trim()),!(localStorage.getItem("social_login_name")||sessionStorage.getItem("current_user_name"))&&ne.name&&ne.name.trim()&&ne.name!=="사용자"&&(h=ne.name.trim()),ce.name=h,I&&(ce.email=I),U&&(ce.phone=U),I&&(localStorage.setItem("user_email",I),sessionStorage.setItem("user_email",I)),U&&(localStorage.setItem("user_phone",U),sessionStorage.setItem("user_phone",U))}}catch{}i.value={name:h,phone:U,email:I},v(i.value.name,i.value.phone)}catch{i.value={name:ce.name||ce.id||"사용자",phone:ce.phone||"",email:ce.email||""},v(i.value.name,i.value.phone)}},v=(Y,p)=>{l.value={address:"서울특별시 송파구 정현로 135",detailAddress:"(어마덜랩터원) 7층 16층 한국스프트에이전시협의회",zipCode:"05506",request:"문 앞에 놓아주세요",recipientName:Y||"수령인",recipientPhone:p||""}},g=async()=>{var Y;if(M.value&&!l.value.address)try{const p=await Ie.get("/api/users/addresses");if(p.data.success&&((Y=p.data.data)==null?void 0:Y.length)>0){const h=p.data.data[0];l.value={address:h.address||"",detailAddress:h.detailAddress||"",zipCode:h.zipCode||"",request:h.request||"",recipientName:h.recipientName||i.value.name,recipientPhone:h.recipientPhone||i.value.phone}}}catch{l.value={address:"서울특별시 송파구 정현로 135",detailAddress:"(어마덜랩터원) 7층 16층 한국스프트에이전시협의회",zipCode:"05506",request:"문 앞에 놓아주세요",recipientName:"게스트 사용자",recipientPhone:""}}},j=()=>{try{const Y=sessionStorage.getItem("checkout_data");if(Y){const p=JSON.parse(Y);p.items&&p.items.length>0?(c.value=p.items,f.value=p.totalPrice||p.totalAmount||0,u.value=p.productAmount||f.value,d.value=p.deliveryFee||0):(C("주문할 상품이 없습니다. 장바구니로 이동합니다.","warning"),window.location.href="/cart")}else C("주문 정보를 찾을 수 없습니다. 장바구니로 이동합니다.","warning"),window.location.href="/cart"}catch{C("주문 정보 로드 중 오류가 발생했습니다.","error"),window.location.href="/cart"}},D=()=>{window.history.back()},$=Y=>(Y==null?void 0:Y.toLocaleString())||"0",F=()=>{if(!c.value||c.value.length===0)return"주문상품";const Y=c.value[0],p=Y.name||Y.productName||"상품";return c.value.length===1?p:`${p} 외 ${c.value.length-1}건`},re=()=>new Promise((Y,p)=>{if(typeof window.IMP<"u"){Y(window.IMP);return}const h=document.createElement("script");h.src="https://cdn.iamport.kr/v1/iamport.js",h.onload=()=>{typeof window.IMP<"u"?Y(window.IMP):p(new Error("아임포트 로드 실패"))},h.onerror=()=>p(new Error("아임포트 스크립트 로드 에러")),document.head.appendChild(h)}),de=()=>s.value?s.value==="general"&&!n.value?(C("세부 결제 방식을 선택해주세요.","warning"),!1):n.value==="credit"&&t.value==="phone"&&!i.value.phone?(C("휴대폰 결제를 위해 휴대폰 번호가 필요합니다.","warning"),!1):!0:(C("결제 수단을 선택해주세요.","warning"),!1),V=async Y=>{try{const p=await re();return new Promise((h,I)=>{p.init("imp19424728");let U="kakaopay.TC0ONETIME",Z="card";if(s.value==="general")switch(n.value){case"credit":t.value==="phone"?(U="html5_inicis",Z="phone"):t.value==="simple"?(U="html5_inicis",Z="samsung"):(U="html5_inicis",Z="card");break;case"kakao":U="kakaopay.TC0ONETIME",Z="card";break;case"toss":U="tosspay.tosstest",Z="card";break;case"payco":U="payco.PARTNERTEST",Z="card";break;default:U="html5_inicis",Z="card"}const K=Y.amount||O.value,me={pg:U,pay_method:Z,merchant_uid:Y.orderId,name:Y.orderName,amount:K,buyer_email:Y.userEmail,buyer_name:Y.userName,buyer_tel:Y.userPhone,custom_data:{finalAmount:K,originalAmount:f.value,deliveryFee:d.value,cardType:t.value}};p.request_pay(me,async ne=>{var ue;try{if(ne.success){const le=sessionStorage.getItem("pending_order_data");if(!le)throw new Error("임시 주문 데이터를 찾을 수 없습니다");const ye=JSON.parse(le);try{const ve=await Ie.post("/api/payments/orders/checkout",{...ye,paymentId:ne.imp_uid,paidAmount:ne.paid_amount,pgProvider:U});if(ve.data.success){try{await oe(ye.items)}catch{}sessionStorage.removeItem("pending_order_data"),sessionStorage.removeItem("checkout_data"),sessionStorage.setItem("payment_completed","true");const W=eI(U,ne.paid_amount);C(W,"success");const B=localStorage.getItem("jwt");B&&he(B),window.location.href=`/order-complete?orderId=${ve.data.data.orderId}&paymentId=${ne.imp_uid}&amount=${ne.paid_amount}&from=checkout`,h(ne)}else throw new Error(ve.data.message||"주문 생성 실패")}catch(ve){if(((ue=ve.response)==null?void 0:ue.status)===401){sessionStorage.setItem("payment_completed","true"),sessionStorage.setItem("pending_payment_verification",JSON.stringify({paymentId:ne.imp_uid,orderId:Y.orderId,amount:ne.paid_amount})),window.location.href=`/order-complete?orderId=${Y.orderId}&paymentId=${ne.imp_uid}&amount=${ne.paid_amount}&from=checkout&verify=true`,h(ne);return}throw ve}}else{sessionStorage.removeItem("pending_order_data");const le=Jn(ne.error_code,ne.error_msg),ye=tI(ne.error_code,ne.error_msg);C(le,ye);const ve=new Error(le);ve.alreadyHandled=!0,I(ve)}}catch(le){if(sessionStorage.removeItem("pending_order_data"),!le.alreadyHandled){if(ne.success&&ne.imp_uid)try{await Ie.post(`/api/payments/${ne.imp_uid}/cancel`,{reason:"주문 생성 실패로 인한 자동 취소",refund_amount:ne.paid_amount})}catch{}const ye=Jn("SYSTEM_ERROR","결제 처리 중 오류가 발생했습니다");C(ye,"error")}I(le)}})})}catch(p){sessionStorage.removeItem("pending_order_data");const h=Jn("SYSTEM_ERROR","결제 시스템 초기화 실패");throw C(h,"error"),p}},oe=async Y=>{var p;try{if(te()){const I=Y.map(U=>{let Z=U.productId||U.id||U.product_id;if(typeof Z=="string"){const K=parseInt(Z,10);isNaN(K)||(Z=K)}return Z}).filter(U=>U!=null);if(I.length>0)try{const U=await Ie.post("/api/cart/remove-purchased-items",{productIds:I},{timeout:3e3,validateStatus:function(Z){return Z<500}});U.status===401||(p=U.data)!=null&&p.success}catch{}}else{const I=Y.map(U=>U.productId||U.id||U.product_id).filter(Boolean);if(I.length>0)try{const Z=JSON.parse(localStorage.getItem("guestCart")||"[]").filter(K=>!I.includes(String(K.productId)));localStorage.setItem("guestCart",JSON.stringify(Z))}catch{}}sessionStorage.setItem("cart_cleaned_after_payment","true"),sessionStorage.setItem("last_purchase_cleanup",Date.now().toString())}catch{}},ee=Y=>Y==="general"&&n.value==="credit"?{card:"신용카드",simple:"간편결제",phone:"휴대폰결제"}[t.value]||"신용카드":{kurly:"Kurly Pay",npay:"네이버페이",general:"일반결제",credit:"신용카드",kakao:"카카오페이",toss:"토스",payco:"페이코"}[Y]||"기타",ae=async()=>{if(de()){if(!S.value){C("결제 정보를 확인해주세요.","warning");return}try{if(E.value=!0,Mm(),sessionStorage.setItem("payment_in_progress","true"),!te()){C("결제를 위해 로그인이 필요합니다.","info"),setTimeout(()=>{window.location.href="/login"},1500);return}if(!i.value.name||i.value.name.trim()===""){C("주문자 이름이 필요합니다.","warning");return}if(!l.value.address||l.value.address.trim()===""){C("배송 주소를 입력해주세요.","warning");return}const p=`ORDER${Date.now()}_${Math.random().toString(36).substr(2,9)}`,h={userId:ce.id&&ce.id!=="null"?ce.id:void 0,items:c.value.map(U=>({productId:U.productId||U.id,productName:U.name||U.productName,quantity:U.quantity,unitPrice:U.salePrice||U.price,totalPrice:(U.salePrice||U.price)*U.quantity,imageUrl:U.image||U.imageUrl||""})),phone:i.value.phone||"",email:i.value.email||"",recipientName:l.value.recipientName||i.value.name||"수령인",recipientPhone:l.value.recipientPhone||i.value.phone||"",orderZipcode:l.value.zipCode||"",orderAddressDetail:l.value.address?(l.value.address+" "+(l.value.detailAddress||"")).trim():"",deliveryMemo:l.value.request||"문 앞에 놓아주세요",paymentMethod:s.value,paymentMethodName:ee(s.value),usedPoint:P.value||0,totalAmount:O.value,cardType:t.value,tempOrderId:p};if(!h.items||h.items.length===0){C("주문할 상품이 없습니다.","warning");return}if(h.totalAmount<=0){C("결제 금액이 올바르지 않습니다.","warning");return}sessionStorage.setItem("pending_order_data",JSON.stringify(h));const I=F();await V({orderId:p,amount:O.value,orderName:I,userEmail:i.value.email,userName:i.value.name,userPhone:i.value.phone,orderData:h})}catch(Y){if(Um(),sessionStorage.removeItem("payment_in_progress"),!Y.alreadyHandled){const p=Y.friendlyMessage||Jn(null,Y.message)||"결제 처리 중 오류가 발생했습니다.";C(p,"error")}}finally{E.value=!1}}};return Ze(async()=>{try{const Y=te();j(),await L(),await g()}catch{C("페이지 로드 중 문제가 발생했습니다.","error")}}),(Y,p)=>(_(),b("div",sI,[o("div",nI,[o("button",{class:"back-button",onClick:D},[we(Ne(Ld),{size:24})]),p[10]||(p[10]=o("h1",{class:"checkout-title"},"주문서",-1)),p[11]||(p[11]=o("div",{class:"header-spacer"},null,-1))]),o("div",rI,[o("div",oI,[o("div",aI,[p[12]||(p[12]=o("h2",{class:"section-title"},"주문 상품",-1)),o("div",iI,[(_(!0),b(Ee,null,De(c.value,h=>(_(),b("div",{key:h.id,class:"order-item"},[o("div",lI,[o("img",{src:h.image,alt:h.name},null,8,cI)]),o("div",uI,[o("h3",dI,T(h.name),1),o("div",fI,[h.discountRate>0?(_(),b("span",pI,T(h.discountRate)+"%",1)):G("",!0),o("span",hI,T($(h.salePrice))+"원",1)]),o("div",mI,"수량: "+T(h.quantity)+"개",1)])]))),128))])]),o("div",vI,[p[17]||(p[17]=o("h2",{class:"section-title"},"주문자 정보",-1)),o("div",gI,[o("div",yI,[p[13]||(p[13]=o("label",{class:"form-label"},"보내는 분",-1)),o("span",_I,T(i.value.name),1)]),o("div",bI,[p[14]||(p[14]=o("label",{class:"form-label"},"휴대폰",-1)),o("span",wI,T(i.value.phone),1)]),o("div",kI,[p[16]||(p[16]=o("label",{class:"form-label"},"이메일",-1)),o("div",SI,[o("span",CI,T(i.value.email),1),p[15]||(p[15]=o("div",{class:"email-notice"},[o("p",null,"이메일로 주문에 대한 정보를 보내드립니다."),o("p",null,"잘못 입력된 이메일이나 메일차단 시 확인이 불가합니다.")],-1))])])])]),o("div",II,[p[21]||(p[21]=o("h2",{class:"section-title"},[ge("배송 정보 "),o("button",{class:"modify-btn"},"배송지 변경 안내")],-1)),o("div",$I,[p[19]||(p[19]=o("div",{class:"address-label"},"배송지",-1)),o("div",EI,[o("p",null,[l.value.zipCode?(_(),b(Ee,{key:0},[ge(" ("+T(l.value.zipCode)+") "+T(l.value.address),1),p[18]||(p[18]=o("br",null,null,-1)),ge(" "+T(l.value.detailAddress),1)],64)):(_(),b(Ee,{key:1},[ge(T(l.value.address||"서울특별시 송파구 정현로 135 (어마덜랩터원) 7층 16층 한국스프트에이전시협의회"),1)],64))]),o("button",{class:"change-btn",onClick:X},"변경")])]),o("div",xI,[p[20]||(p[20]=o("div",{class:"delivery-info-label"},"배송 요청사항",-1)),o("div",TI,[o("span",null,T(l.value.request||"빠짐 · 공동현관 비밀번호 (권장)"),1),o("p",null,T(l.value.recipientName||i.value.name||"-")+", "+T(l.value.recipientPhone||i.value.phone||"-"),1),o("button",{class:"edit-btn",onClick:ie},"수정")])])]),o("div",AI,[p[31]||(p[31]=o("h2",{class:"section-title"},"결제 수단",-1)),o("div",RI,[s.value==="general"?(_(),b("div",PI,[o("div",OI,[o("label",NI,[_e(o("input",{type:"radio",name:"subPayment",value:"credit","onUpdate:modelValue":p[0]||(p[0]=h=>n.value=h),checked:""},null,512),[[Qt,n.value]]),p[22]||(p[22]=o("span",{class:"radio-mark"},null,-1)),p[23]||(p[23]=o("span",{class:"payment-label"},"신용/체크카드",-1))]),n.value==="credit"?(_(),b("div",LI,[o("button",{class:$e(["card-option-btn",{active:t.value==="card"}]),onClick:p[1]||(p[1]=h=>z("card")),type:"button"}," 신용카드 ",2),o("button",{class:$e(["card-option-btn",{active:t.value==="simple"}]),onClick:p[2]||(p[2]=h=>z("simple")),type:"button"}," 간편결제 ",2),o("button",{class:$e(["card-option-btn",{active:t.value==="phone"}]),onClick:p[3]||(p[3]=h=>z("phone")),type:"button"}," 휴대폰 ",2)])):G("",!0),n.value==="credit"?(_(),b("div",DI,[t.value==="card"?(_(),b("div",MI," 신용카드 또는 체크카드로 결제합니다 ")):t.value==="simple"?(_(),b("div",UI," 삼성페이, 애플페이 등 간편결제로 결제합니다 ")):t.value==="phone"?(_(),b("div",jI," 휴대폰 소액결제로 결제합니다 (통신사 요금에 합산) ")):G("",!0)])):G("",!0)]),o("div",BI,[o("label",qI,[_e(o("input",{type:"radio",name:"subPayment",value:"kakao","onUpdate:modelValue":p[4]||(p[4]=h=>n.value=h)},null,512),[[Qt,n.value]]),p[24]||(p[24]=o("span",{class:"radio-mark"},null,-1)),p[25]||(p[25]=o("span",{class:"payment-label"},"카카오페이",-1))])]),o("div",HI,[o("label",FI,[_e(o("input",{type:"radio",name:"subPayment",value:"payco","onUpdate:modelValue":p[5]||(p[5]=h=>n.value=h)},null,512),[[Qt,n.value]])])])])):G("",!0)]),o("div",VI,[p[30]||(p[30]=o("p",{class:"notice-title"},"주의사항 안내",-1)),o("ul",WI,[p[26]||(p[26]=o("li",null,"무이자 할부가 적용되지 않은 카드, PG사에서는 취급 없음",-1)),p[27]||(p[27]=o("li",null,"무이자카드: 광주 씨, 씨티 씨, 롯데 씨, 삼성 씨를 확인 안됨",-1)),p[28]||(p[28]=o("li",null,"삼성카드: 온라인 50만 원 이상 결제 시, 2024 컵 3월 정책 안됨",-1)),p[29]||(p[29]=o("li",null,"하나카드: 온라인 결제 시, 1.2만원 참여 학습 온라인 시개 안됨",-1)),t.value==="phone"?(_(),b("li",zI,"휴대폰 결제는 월 30만원 한도가 있습니다")):G("",!0)])])])]),o("div",JI,[o("div",GI,[p[37]||(p[37]=o("h3",{class:"summary-title"},"결제금액",-1)),o("div",KI,[o("div",ZI,[p[32]||(p[32]=o("span",{class:"summary-label"},"주문금액",-1)),o("span",XI,T($(f.value))+"원",1)]),o("div",YI,[p[33]||(p[33]=o("span",{class:"summary-label"},"상품금액",-1)),o("span",QI,T($(u.value))+"원",1)]),o("div",e3,[p[34]||(p[34]=o("span",{class:"summary-label"},"배송비",-1)),o("span",t3,T($(d.value))+"원",1)]),p[36]||(p[36]=o("div",{class:"summary-divider"},null,-1)),o("div",s3,[p[35]||(p[35]=o("span",{class:"summary-label"},"최종 결제금액",-1)),o("span",n3,T($(O.value))+"원",1)])]),o("button",{class:"checkout-btn",onClick:ae,disabled:!S.value||E.value},[E.value?(_(),b("span",o3,"결제 처리 중...")):(_(),b("span",a3,T($(O.value))+"원 결제하기",1))],8,r3),p[38]||(p[38]=o("div",{class:"agreement-text"}," 결제 시 이용약관 및 개인정보 수집에 이용에 동의하게 됩니다 ",-1))])])]),r.value?(_(),b("div",{key:0,class:"address-modal-overlay",onClick:J},[o("div",{class:"address-modal",onClick:p[9]||(p[9]=_t(()=>{},["stop"]))},[o("div",{class:"modal-header"},[p[40]||(p[40]=o("h3",{class:"modal-title"},"배송지 변경",-1)),o("button",{class:"close-btn",onClick:J},p[39]||(p[39]=[o("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"m18 6-12 12"}),o("path",{d:"m6 6 12 12"})],-1)]))]),o("div",i3,[p[41]||(p[41]=o("div",{class:"address-info"},[o("p",null,"우편번호를 검색하고 상세주소를 입력해주세요.")],-1)),o("div",l3,[_e(o("input",{type:"text","onUpdate:modelValue":p[6]||(p[6]=h=>a.value.zipCode=h),placeholder:"우편번호",class:"search-input",readonly:""},null,512),[[Te,a.value.zipCode]]),o("button",{class:"search-btn",onClick:q},"우편번호 검색")]),_e(o("input",{type:"text","onUpdate:modelValue":p[7]||(p[7]=h=>a.value.address=h),placeholder:"기본주소",class:"search-input",readonly:"",style:{"margin-bottom":"8px"}},null,512),[[Te,a.value.address]]),o("div",c3,[_e(o("input",{type:"text","onUpdate:modelValue":p[8]||(p[8]=h=>a.value.detailAddress=h),placeholder:"상세주소를 입력하세요",class:"detail-address-input",onKeyup:Pr(se,["enter"])},null,544),[[Te,a.value.detailAddress]])])]),o("div",u3,[o("button",{class:"cancel-btn",onClick:J},"취소"),o("button",{class:"save-btn",onClick:se,disabled:!A.value}," 적용 ",8,d3)])])])):G("",!0)]))}},p3=ze(f3,[["__scopeId","data-v-ce32d0d4"]]),h3={class:"order-complete-page"},m3={class:"container"},v3={key:0,class:"loading-container"},g3={key:1,class:"error-container"},y3={class:"error-content"},_3={class:"error-message"},b3={class:"error-actions"},w3={key:2,class:"order-content"},k3={class:"order-header"},S3={class:"success-section"},C3={class:"success-content"},I3={class:"subtitle"},$3={class:"order-info-box"},E3={class:"info-row"},x3={class:"value order-id"},T3={class:"info-row"},A3={class:"value"},R3={class:"info-row"},P3={class:"value"},O3={key:0,class:"cancel-notice"},N3={class:"section"},L3={class:"section-header"},D3={class:"section-title"},M3={class:"section-content"},U3={key:0,class:"no-items"},j3={key:1,class:"items-list"},B3=["src","alt"],q3={class:"item-info"},H3={class:"item-name"},F3={class:"item-details"},V3={class:"item-quantity"},W3={class:"item-unit-price"},z3={class:"item-price"},J3={class:"price"},G3={class:"section"},K3={class:"section-content"},Z3={class:"info-list"},X3={class:"info-item"},Y3={class:"info-value"},Q3={class:"info-item"},e$={class:"info-value"},t$={class:"info-item last"},s$={class:"info-value"},n$={class:"section"},r$={class:"section-content"},o$={class:"payment-list"},a$={class:"payment-item"},i$={class:"payment-value"},l$={class:"payment-item"},c$={class:"payment-value"},u$={key:0,class:"payment-item"},d$={class:"payment-value discount"},f$={key:1,class:"payment-item"},p$={class:"payment-value discount"},h$={class:"payment-total"},m$={class:"total-item"},v$={class:"total-value"},g$={class:"payment-method"},y$={class:"payment-value"},_$={key:2,class:"payment-method"},b$={class:"payment-value payment-id"},w$={class:"section"},k$={class:"section-content"},S$={class:"info-list"},C$={class:"info-item"},I$={class:"info-value"},$$={class:"info-item"},E$={class:"info-value"},x$={key:0,class:"info-item"},T$={class:"address-info"},A$={key:0,class:"zipcode"},R$={class:"address"},P$={key:1,class:"info-item last"},O$={class:"delivery-memo"},N$={class:"action-buttons"},L$={class:"modal-header"},D$={class:"modal-body"},M$={class:"cancel-reason"},U$={key:0,class:"cancel-detail"},j$={class:"refund-info"},B$={class:"refund-details"},q$={class:"refund-item"},H$={class:"refund-value"},F$={class:"refund-item"},V$={class:"refund-value"},W$={class:"modal-footer"},z$=["disabled"],J$={key:0,class:"btn-spinner"},G$={__name:"OrderComplete",setup(e){const t="http://localhost:8080",s=Vt(),n=Qe(),r=H(null),a=H(!0),i=H("");H("");const l=H(!1),c=H(!1),f=H(""),u=H(""),d=()=>{const A=localStorage.getItem("jwt"),k={"Content-Type":"application/json"};if(A&&A.trim()&&A!=="null"&&A!=="undefined"){const w=A.startsWith("Bearer ")?A:`Bearer ${A}`;k.Authorization=w}return k},m=async()=>{const A=localStorage.getItem("jwt");if(!A)return!1;try{const k=await fetch(`${t}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`}});if(k.ok){const w=await k.json();if(w.success&&w.token)return localStorage.setItem("jwt",w.token),!0}return!1}catch{return!1}},y=async A=>{try{a.value=!0,i.value="";const k=localStorage.getItem("userId")||"guest",w=`${t}/api/orders/${A}?userId=${k}`,C=await fetch(w,{method:"GET",headers:d()});if(!C.ok)throw new Error(`주문 정보를 찾을 수 없습니다. (${C.status})`);const z=await C.json();if(z.success){if(r.value=z.data,!r.value.userName||r.value.userName==="사용자")if(r.value.recipientName&&r.value.recipientName!=="수령인")r.value.userName=r.value.recipientName;else if(ce.name&&ce.name!=="사용자")r.value.userName=ce.name;else{const X=localStorage.getItem("jwt");if(X)try{const J=X.replace("Bearer ","").split(".");if(J.length===3){let x=J[1].replace(/-/g,"+").replace(/_/g,"/");for(;x.length%4;)x+="=";const q=JSON.parse(atob(x));q.name&&q.name!==q.sub&&(r.value.userName=q.name)}}catch{}}if(!r.value.email)if(ce.email)r.value.email=ce.email;else{const X=localStorage.getItem("user_email")||sessionStorage.getItem("user_email");if(X)r.value.email=X;else{const J=localStorage.getItem("jwt");if(J)try{const x=J.replace("Bearer ","").split(".");if(x.length===3){let q=x[1].replace(/-/g,"+").replace(/_/g,"/");for(;q.length%4;)q+="=";const se=JSON.parse(atob(q)),ie=["email","mail","userEmail","emailAddress"];for(const he of ie)if(se[he]){r.value.email=se[he];break}}}catch{}}}if(!r.value.phone)if(r.value.recipientPhone)r.value.phone=r.value.recipientPhone;else if(ce.phone)r.value.phone=ce.phone;else{const X=localStorage.getItem("user_phone")||sessionStorage.getItem("user_phone");if(X)r.value.phone=X;else{const J=localStorage.getItem("jwt");if(J)try{const x=J.replace("Bearer ","").split(".");if(x.length===3){let q=x[1].replace(/-/g,"+").replace(/_/g,"/");for(;q.length%4;)q+="=";const se=JSON.parse(atob(q)),ie=["phone","phoneNumber","mobile","userPhone","tel","cellphone"];for(const he of ie)if(se[he]){r.value.phone=se[he];break}}}catch{}}}}else throw new Error(z.message||"주문 정보를 불러오는데 실패했습니다.")}catch(k){i.value=k.message||"주문 정보를 불러오는 중 오류가 발생했습니다."}finally{a.value=!1}},P=async()=>{if(r.value)try{c.value=!0;const A=localStorage.getItem("userId")||"guest",k={orderId:r.value.orderId,userId:A,reason:f.value||"사용자 요청",detail:u.value||"",refundAmount:r.value.totalPrice,paymentId:r.value.paymentId};let w=await fetch(`${t}/api/orders/${r.value.orderId}/cancel`,{method:"POST",headers:d(),body:JSON.stringify(k)});if(w.status===401)if(await m())w=await fetch(`${t}/api/orders/${r.value.orderId}/cancel`,{method:"POST",headers:d(),body:JSON.stringify(k)});else{alert("로그인이 만료되었습니다. 다시 로그인해주세요."),localStorage.removeItem("jwt"),localStorage.removeItem("userId"),n.push("/login");return}if(!w.ok){const z=await w.json();throw new Error(z.message||"주문 취소에 실패했습니다.")}const C=await w.json();if(C.success)alert(`주문이 성공적으로 취소되었습니다.
환불은 영업일 기준 3-5일 소요됩니다.`),await y(r.value.orderId),l.value=!1,f.value="",u.value="";else throw new Error(C.message||"주문 취소 처리 중 오류가 발생했습니다.")}catch(A){alert(`주문 취소 실패: ${A.message}`)}finally{c.value=!1}},R=A=>A==null?"0":A.toLocaleString(),N=A=>{if(!A)return"-";try{return new Date(A).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return A}},M=()=>{var A;return(A=r.value)!=null&&A.items?r.value.items.reduce((k,w)=>k+(w.totalPrice||0),0):0},E=()=>{const A=s.query.from,k=sessionStorage.getItem("payment_completed")==="true";A==="checkout"||A==="payment"||A==="mypage"||k?(sessionStorage.removeItem("payment_completed"),n.push({name:"MyPageOrders",query:{from:"order-complete"}})):n.push({name:"MyPageOrders"})},O=()=>{n.push("/")},S=()=>{var k;if(!((k=r.value)!=null&&k.items)){alert("재주문할 상품이 없습니다.");return}const A=r.value.items.map(w=>w.productId).filter(Boolean);if(A.length===0){alert("재주문할 수 있는 상품이 없습니다.");return}n.push({path:"/cart",query:{reorder:A.join(",")}})};return Ze(async()=>{const A=s.query.orderId,k=s.query.paymentId||"",w=s.query.amount||"";k&&w&&sessionStorage.setItem("payment_completed","true");const C=sessionStorage.getItem("payment_backup_time");if(C&&Date.now()-parseInt(C)<10*60*1e3){const X=localStorage.getItem("payment_user_name"),J=localStorage.getItem("payment_user_email"),x=localStorage.getItem("payment_user_phone");X&&(!ce.name||ce.name==="사용자")&&(ce.name=X,sessionStorage.setItem("current_user_name",X)),J&&!ce.email&&(ce.email=J,sessionStorage.setItem("user_email",J),localStorage.setItem("user_email",J)),x&&!ce.phone&&(ce.phone=x,sessionStorage.setItem("user_phone",x),localStorage.setItem("user_phone",x))}if(!A){i.value="주문번호가 제공되지 않았습니다.",a.value=!1;return}await y(A)}),(A,k)=>{var w;return _(),b("div",h3,[o("div",m3,[o("div",{class:"breadcrumb"},[o("button",{onClick:E,class:"breadcrumb-item"}," 주문 내역 "),k[8]||(k[8]=o("span",{class:"breadcrumb-separator"},">",-1)),k[9]||(k[9]=o("span",{class:"breadcrumb-current"},"주문 상세",-1))]),a.value?(_(),b("div",v3,k[10]||(k[10]=[o("div",{class:"loading-content"},[o("div",{class:"spinner"}),o("p",{class:"loading-text"},"주문 정보를 불러오는 중...")],-1)]))):i.value?(_(),b("div",g3,[o("div",y3,[o("p",_3,T(i.value),1),o("div",b3,[o("button",{onClick:k[0]||(k[0]=C=>y(Ne(s).query.orderId)),class:"error-button retry"},"다시 시도"),o("button",{onClick:E,class:"error-button secondary"},"목록으로 돌아가기")])])])):r.value?(_(),b("div",w3,[o("div",k3,[o("div",S3,[o("div",C3,[k[11]||(k[11]=o("h1",{class:"title"},"주문 상세 정보",-1)),o("p",I3,"주문번호 "+T(r.value.orderId)+"의 상세 내역입니다.",1)])]),o("div",$3,[o("div",E3,[k[12]||(k[12]=o("span",{class:"label"},"주문번호",-1)),o("span",x3,T(r.value.orderId),1)]),o("div",T3,[k[13]||(k[13]=o("span",{class:"label"},"주문일시",-1)),o("span",A3,T(N(r.value.orderDate)),1)]),o("div",R3,[k[14]||(k[14]=o("span",{class:"label"},"주문상태",-1)),o("span",P3,[o("span",{class:$e(["status-badge",Ne(Md)(r.value.orderStatus)])},T(Ne(Dd)(r.value.orderStatus)),3)])])])]),Ne(Pa)(r.value.orderStatus)?(_(),b("div",O3,k[15]||(k[15]=[o("div",{class:"notice-content"},[o("h4",{class:"notice-title"},"주문 취소 가능"),o("p",{class:"notice-text"},"이 주문은 아직 취소할 수 있습니다. 취소 시 결제금액이 환불됩니다.")],-1)]))):G("",!0),o("div",N3,[o("div",L3,[o("h2",D3,"주문상품 ("+T(((w=r.value.items)==null?void 0:w.length)||0)+"개)",1)]),o("div",M3,[!r.value.items||r.value.items.length===0?(_(),b("div",U3,k[16]||(k[16]=[o("p",{class:"no-items-text"},"주문 상품 정보가 없습니다.",-1)]))):(_(),b("div",j3,[(_(!0),b(Ee,null,De(r.value.items,(C,z)=>(_(),b("div",{key:C.productId||C.orderItemId||z,class:"item-row"},[o("img",{src:C.imageUrl||"/api/placeholder/80/80",alt:C.productName||C.name,class:"item-image"},null,8,B3),o("div",q3,[o("h3",H3,T(C.productName||C.name),1),o("div",F3,[o("span",V3,"수량: "+T(C.quantity)+"개",1),o("span",W3,"단가: "+T(R(C.unitPrice||C.totalPrice/C.quantity))+"원",1)])]),o("div",z3,[o("p",J3,T(R(C.totalPrice))+"원",1)])]))),128))]))])]),o("div",G3,[k[20]||(k[20]=o("div",{class:"section-header"},[o("h2",{class:"section-title"},"주문자 정보")],-1)),o("div",K3,[o("div",Z3,[o("div",X3,[k[17]||(k[17]=o("span",{class:"info-label"},"주문자",-1)),o("span",Y3,T(r.value.userName||r.value.recipientName||"주문자"),1)]),o("div",Q3,[k[18]||(k[18]=o("span",{class:"info-label"},"휴대폰",-1)),o("span",e$,T(r.value.phone||"-"),1)]),o("div",t$,[k[19]||(k[19]=o("span",{class:"info-label"},"이메일",-1)),o("span",s$,T(r.value.email||"-"),1)])])])]),o("div",n$,[k[28]||(k[28]=o("div",{class:"section-header"},[o("h2",{class:"section-title"},"결제 정보")],-1)),o("div",r$,[o("div",o$,[o("div",a$,[k[21]||(k[21]=o("span",{class:"payment-label"},"주문금액",-1)),o("span",i$,T(R(M()))+"원",1)]),o("div",l$,[k[22]||(k[22]=o("span",{class:"payment-label"},"배송비",-1)),o("span",c$,T(R(r.value.deliveryFee||0))+"원",1)]),r.value.discountAmount?(_(),b("div",u$,[k[23]||(k[23]=o("span",{class:"payment-label"},"할인금액",-1)),o("span",d$,"-"+T(R(r.value.discountAmount))+"원",1)])):G("",!0),r.value.usedPoint?(_(),b("div",f$,[k[24]||(k[24]=o("span",{class:"payment-label"},"사용 적립금",-1)),o("span",p$,"-"+T(R(r.value.usedPoint))+"원",1)])):G("",!0),o("div",h$,[o("div",m$,[k[25]||(k[25]=o("span",{class:"total-label"},"총 결제금액",-1)),o("span",v$,T(R(r.value.totalPrice))+"원",1)])]),o("div",g$,[k[26]||(k[26]=o("span",{class:"payment-label"},"결제수단",-1)),o("span",y$,T(r.value.paymentMethodName||"카드결제"),1)]),r.value.paymentId?(_(),b("div",_$,[k[27]||(k[27]=o("span",{class:"payment-label"},"결제번호",-1)),o("span",b$,T(r.value.paymentId),1)])):G("",!0)])])]),o("div",w$,[k[33]||(k[33]=o("div",{class:"section-header"},[o("h2",{class:"section-title"},"배송지 정보")],-1)),o("div",k$,[o("div",S$,[o("div",C$,[k[29]||(k[29]=o("span",{class:"info-label"},"받는 분",-1)),o("span",I$,T(r.value.recipientName||"수령인"),1)]),o("div",$$,[k[30]||(k[30]=o("span",{class:"info-label"},"휴대폰",-1)),o("span",E$,T(r.value.recipientPhone||"-"),1)]),r.value.orderZipcode||r.value.orderAddressDetail?(_(),b("div",x$,[k[31]||(k[31]=o("span",{class:"info-label"},"주소",-1)),o("div",T$,[r.value.orderZipcode?(_(),b("div",A$,"("+T(r.value.orderZipcode)+")",1)):G("",!0),o("div",R$,T(r.value.orderAddressDetail||"배송지 정보 없음"),1)])])):G("",!0),r.value.deliveryMemo?(_(),b("div",P$,[k[32]||(k[32]=o("span",{class:"info-label"},"배송 요청사항",-1)),o("span",O$,T(r.value.deliveryMemo),1)])):G("",!0)])])]),o("div",N$,[o("button",{onClick:E,class:"btn btn-secondary"}," 주문 내역으로 "),Ne(Pa)(r.value.orderStatus)?(_(),b("button",{key:0,onClick:k[1]||(k[1]=C=>l.value=!0),class:"btn btn-danger"}," 주문취소 ")):(_(),b("button",{key:1,onClick:S,class:"btn btn-primary"}," 재주문하기 ")),o("button",{onClick:O,class:"btn btn-outline"}," 홈으로 ")])])):G("",!0)]),l.value?(_(),b("div",{key:0,class:"modal-overlay",onClick:k[7]||(k[7]=C=>l.value=!1)},[o("div",{class:"modal-content",onClick:k[6]||(k[6]=_t(()=>{},["stop"]))},[o("div",L$,[k[34]||(k[34]=o("h3",{class:"modal-title"},"주문 취소",-1)),o("button",{onClick:k[2]||(k[2]=C=>l.value=!1),class:"modal-close"}," ✕ ")]),o("div",D$,[k[42]||(k[42]=o("div",{class:"cancel-warning"},[o("div",{class:"warning-content"},[o("h4",{class:"warning-title"},"주문을 취소하시겠습니까?"),o("p",{class:"warning-text"}," 취소된 주문은 되돌릴 수 없으며, 결제금액은 환불 처리됩니다. ")])],-1)),o("div",M$,[k[36]||(k[36]=o("label",{class:"reason-label"},"취소 사유 (선택)",-1)),_e(o("select",{"onUpdate:modelValue":k[3]||(k[3]=C=>f.value=C),class:"reason-select"},k[35]||(k[35]=[Xe('<option value="" data-v-d3e0041b>취소 사유를 선택해주세요</option><option value="단순변심" data-v-d3e0041b>단순변심</option><option value="상품정보상이" data-v-d3e0041b>상품정보 상이</option><option value="배송지연" data-v-d3e0041b>배송 지연</option><option value="판매자요청" data-v-d3e0041b>판매자 요청</option><option value="기타" data-v-d3e0041b>기타</option>',6)]),512),[[Rs,f.value]])]),f.value==="기타"?(_(),b("div",U$,[k[37]||(k[37]=o("label",{class:"detail-label"},"상세 사유",-1)),_e(o("textarea",{"onUpdate:modelValue":k[4]||(k[4]=C=>u.value=C),class:"detail-textarea",placeholder:"취소 사유를 자세히 입력해주세요",rows:"3"},null,512),[[Te,u.value]])])):G("",!0),o("div",j$,[k[41]||(k[41]=o("h4",{class:"refund-title"},"환불 정보",-1)),o("div",B$,[o("div",q$,[k[38]||(k[38]=o("span",{class:"refund-label"},"환불 금액",-1)),o("span",H$,T(R(r.value.totalPrice))+"원",1)]),o("div",F$,[k[39]||(k[39]=o("span",{class:"refund-label"},"환불 방법",-1)),o("span",V$,T(r.value.paymentMethodName||"카드결제")+" 취소",1)]),k[40]||(k[40]=o("div",{class:"refund-item"},[o("span",{class:"refund-label"},"환불 예상일"),o("span",{class:"refund-value"},"영업일 기준 3-5일")],-1))])])]),o("div",W$,[o("button",{onClick:k[5]||(k[5]=C=>l.value=!1),class:"btn btn-outline"}," 취소 "),o("button",{onClick:P,class:"btn btn-danger",disabled:c.value},[c.value?(_(),b("div",J$)):G("",!0),ge(" "+T(c.value?"처리중...":"주문취소"),1)],8,z$)])])])):G("",!0)])}}},K$=ze(G$,[["__scopeId","data-v-d3e0041b"]]),Z$={class:"main-container"},X$={class:"category-container"},Y$={class:"category-list"},Q$=["onClick"],eE={class:"category-icon"},tE=["src","alt"],sE={key:2,class:"fas fa-th-large all-icon"},nE={class:"category-name"},rE={key:0,class:"sub-category-container"},oE={class:"sub-category-list"},aE=["onClick"],iE={class:"sub-category-name"},lE={class:"live-broadcast-container"},cE={class:"section-header"},uE={class:"section-title"},dE={class:"live-count"},fE={class:"count-badge"},pE={key:0,class:"loading-container"},hE={key:1,class:"error-container"},mE={key:2,class:"broadcast-scroll-container"},vE={class:"broadcast-list"},gE=["onClick"],yE={class:"broadcast-thumbnail"},_E=["src","alt"],bE={class:"live-badge"},wE={class:"viewer-count"},kE={class:"broadcast-time"},SE={class:"broadcast-info"},CE={class:"broadcast-title"},IE={class:"broadcast-description"},$E={class:"broadcaster-info"},EE={class:"broadcaster-avatar"},xE=["src","alt"],TE={class:"broadcaster-name"},AE={class:"broadcast-tags"},RE={class:"category-tag"},PE={key:0,class:"tags"},OE={class:"broadcast-stats"},NE={class:"like-count"},LE={key:3,class:"no-broadcasts"},DE={__name:"BroadcastList",setup(e){const t=Qe(),s=Vt(),n=H("ALL"),r=H(""),a=H([]),i=H([]),l=H(!1),c=H(null),f=H(null),u=H([{categoryId:"ALL",name:"전체",categoryDisplayOrder:0}]),d=ke(()=>{if(r.value){const se=a.value.find(ie=>ie.categoryId===r.value);if(se)return se.name}const q=u.value.find(se=>String(se.categoryId)===String(n.value));return q?q.name:"전체"}),m=async()=>{try{const q=await Ie.get("/api/categories/main",{withAuth:!1});if(q.data&&q.data.length>0){const se={categoryId:"ALL",name:"전체",categoryDisplayOrder:0},ie=q.data.filter(he=>he.categoryUseYn==="Y"&&he.categoryLevel===1).sort((he,te)=>he.categoryDisplayOrder-te.categoryDisplayOrder).map(he=>({categoryId:String(he.categoryId),name:he.name,categoryDisplayOrder:he.categoryDisplayOrder}));u.value=[se,...ie]}}catch{u.value=[{categoryId:"ALL",name:"전체",categoryDisplayOrder:0}]}},y=async q=>{var se,ie;try{l.value=!0,c.value=null;const he={broadcast_status:"live",is_public:1,limit:100};q!=="ALL"&&(he.category_id=r.value||q);const te=await Ie.get("/api/broadcasts/live",{params:he,withAuth:!1});te.data&&Array.isArray(te.data)?i.value=te.data.map(L=>({broadcast_id:L.broadcastId,broadcaster_id:L.broadcasterId,broadcaster_name:L.broadcasterName||"방송자",title:L.title||"제목 없음",description:L.description,broadcast_status:L.broadcastStatus,actual_start_time:L.actualStartTime,current_viewers:L.currentViewers||0,like_count:L.likeCount||0,category_id:L.categoryId,category_name:L.categoryName,tags:L.tags,thumbnail_url:L.thumbnailUrl,stream_url:L.streamUrl,scheduled_start_time:L.scheduledStartTime,scheduled_end_time:L.scheduledEndTime,total_viewers:L.totalViewers||0,peak_viewers:L.peakViewers||0})):i.value=[]}catch(he){c.value=((ie=(se=he.response)==null?void 0:se.data)==null?void 0:ie.message)||"방송 목록을 불러오는데 실패했습니다",i.value=[]}finally{l.value=!1}},P=async q=>{var se;try{if(q==="ALL"){a.value=[];return}const ie=await Ie.get(`/api/categories/${q}/sub`,{withAuth:!1});a.value=((se=ie.data)==null?void 0:se.length)>0?ie.data.filter(he=>he.categoryUseYn==="Y").sort((he,te)=>he.categoryDisplayOrder-te.categoryDisplayOrder).map(he=>({categoryId:he.categoryId,name:he.name,categoryDisplayOrder:he.categoryDisplayOrder})):[]}catch{a.value=[]}},R=async q=>{const se=String(q);String(n.value)!==se&&(n.value=se,r.value="",await P(se),await y(se),se==="ALL"?t.push("/broadcasts/category/"):t.push(`/broadcasts/category/${se}`))},N=async q=>{if(r.value===q)return;r.value=q;const se=q||n.value;await y(se)},M=q=>({live:"LIVE",starting:"시작중",paused:"일시정지",scheduled:"예정",ended:"종료",cancelled:"취소"})[q]||"LIVE",E=q=>`https://picsum.photos/seed/${q}/300/200`,O=q=>`https://picsum.photos/seed/user${q}/40/40`,S=q=>{},A=q=>{q.target.src="/default-avatar.jpg"},k=q=>q?q.split(",").slice(0,2).join(", "):"",w=q=>q>=1e3?`${(q/1e3).toFixed(1)}k`:(q==null?void 0:q.toString())||"0",C=q=>{if(!q)return"진행 중";const se=new Date(q),he=Math.floor((new Date-se)/(1e3*60));if(he<60)return`${he}분`;{const te=Math.floor(he/60),L=he%60;return`${te}시간 ${L}분`}},z=q=>{const se=q.broadcastId||q.broadcast_id;se?t.push({name:"LiveBroadcastViewer",params:{broadcastId:String(se)}}):alert("방송 정보를 찾을 수 없습니다.")},X=async()=>{const q=r.value||n.value;await y(q)},J=()=>{f.value=setInterval(async()=>{const q=r.value||n.value;await y(q)},3e4)},x=()=>{f.value&&(clearInterval(f.value),f.value=null)};return Ge(()=>s.params,async q=>{q.categoryId&&String(q.categoryId)!==String(n.value)&&(n.value=String(q.categoryId),r.value="",await P(n.value),await y(n.value))},{immediate:!1}),Ze(async()=>{await m(),s.params.categoryId&&(n.value=String(s.params.categoryId),await P(n.value)),await y(n.value),J()}),Js(()=>{x()}),(q,se)=>(_(),b("div",Z$,[o("div",X$,[o("div",Y$,[(_(!0),b(Ee,null,De(u.value,ie=>(_(),b("div",{key:ie.categoryId,class:$e(["category-item",{active:String(n.value)===String(ie.categoryId)}]),onClick:he=>R(ie.categoryId)},[o("div",eE,[ie.iconUrl?(_(),b("img",{key:0,src:ie.iconUrl,alt:ie.name,class:"icon-image"},null,8,tE)):ie.icon?(_(),b("i",{key:1,class:$e([ie.icon,"icon-image"])},null,2)):(_(),b("i",sE))]),o("span",nE,T(ie.name),1)],10,Q$))),128))])]),a.value.length>0?(_(),b("div",rE,[o("div",oE,[o("div",{class:$e(["sub-category-item",{active:r.value===""}]),onClick:se[0]||(se[0]=ie=>N(""))},se[1]||(se[1]=[o("span",{class:"sub-category-name"},"전체",-1)]),2),(_(!0),b(Ee,null,De(a.value,ie=>(_(),b("div",{key:ie.categoryId,class:$e(["sub-category-item",{active:r.value===ie.categoryId}]),onClick:he=>N(ie.categoryId)},[o("span",iE,T(ie.name),1)],10,aE))),128))])])):G("",!0),o("div",lE,[o("div",cE,[o("h2",uE,T(d.value)+" 라이브 방송 ",1),o("div",dE,[o("span",fE,T(i.value.length)+"개 방송 진행중",1)])]),l.value?(_(),b("div",pE,se[2]||(se[2]=[o("div",{class:"loading-spinner"},null,-1),o("p",null,"방송 목록을 불러오는 중...",-1)]))):c.value?(_(),b("div",hE,[se[3]||(se[3]=o("div",{class:"error-icon"},[o("i",{class:"fas fa-exclamation-triangle"})],-1)),se[4]||(se[4]=o("h3",null,"방송 목록을 불러오는데 실패했습니다",-1)),o("p",null,T(c.value),1),o("button",{onClick:X,class:"retry-button"},"다시 시도")])):i.value.length>0?(_(),b("div",mE,[o("div",vE,[(_(!0),b(Ee,null,De(i.value,ie=>(_(),b("div",{key:ie.broadcast_id||ie.broadcastId,class:"broadcast-card",onClick:he=>z(ie)},[o("div",yE,[o("img",{src:ie.thumbnail_url||E(ie.broadcast_id||ie.broadcastId),alt:ie.title,class:"thumbnail-image",onError:S},null,40,_E),o("div",bE,[se[5]||(se[5]=o("span",{class:"live-dot"},null,-1)),ge(" "+T(M(ie.broadcast_status)),1)]),o("div",wE,[se[6]||(se[6]=o("i",{class:"fas fa-users viewer-icon"},null,-1)),ge(" "+T(w(ie.current_viewers)),1)]),o("div",kE,T(C(ie.actual_start_time)),1)]),o("div",SE,[o("h3",CE,T(ie.title),1),o("p",IE,T(ie.description||"방송 설명이 없습니다."),1),o("div",$E,[o("div",EE,[o("img",{src:O(ie.broadcaster_id),alt:ie.broadcaster_name,class:"avatar-image",onError:A},null,40,xE)]),o("span",TE,T(ie.broadcaster_name||"방송자"),1)]),o("div",AE,[o("span",RE,T(ie.category_name||"일반"),1),ie.tags?(_(),b("span",PE,T(k(ie.tags)),1)):G("",!0)]),o("div",OE,[o("span",NE,[se[7]||(se[7]=o("i",{class:"fas fa-heart heart-icon"},null,-1)),ge(" "+T(ie.like_count||0),1)])])])],8,gE))),128))])])):(_(),b("div",LE,[se[8]||(se[8]=o("div",{class:"no-broadcast-icon"},[o("i",{class:"fas fa-tv"})],-1)),o("h3",null,T(d.value)+" 카테고리에 진행 중인 라이브 방송이 없습니다",1),se[9]||(se[9]=o("p",null,"다른 카테고리를 선택하거나 잠시 후 다시 확인해주세요!",-1))]))])]))}},ME=ze(DE,[["__scopeId","data-v-bfe3df4a"]]);function UE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var co={exports:{}},Gn={},xl;function jE(){return xl||(xl=1,globalThis.crypto&&globalThis.crypto.getRandomValues?Gn.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:Gn.randomBytes=function(e){for(var t=new Array(e),s=0;s<e;s++)t[s]=Math.floor(Math.random()*256);return t}),Gn}var uo,Tl;function Xs(){if(Tl)return uo;Tl=1;var e=jE(),t="abcdefghijklmnopqrstuvwxyz012345";return uo={string:function(s){for(var n=t.length,r=e.randomBytes(s),a=[],i=0;i<s;i++)a.push(t.substr(r[i]%n,1));return a.join("")},number:function(s){return Math.floor(Math.random()*s)},numberString:function(s){var n=(""+(s-1)).length,r=new Array(n+1).join("0");return(r+this.number(s)).slice(-n)}},uo}var Al;function _s(){return Al||(Al=1,function(e){var t=Xs(),s={},n=!1,r=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(i,l){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(i,l,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+i,l),globalThis.attachEvent("on"+i,l))},detachEvent:function(i,l){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(i,l,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+i,l),globalThis.detachEvent("on"+i,l))},unloadAdd:function(i){if(r)return null;var l=t.string(8);return s[l]=i,n&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(i){i in s&&delete s[i]},triggerUnloadCallbacks:function(){for(var i in s)s[i](),delete s[i]}};var a=function(){n||(n=!0,e.exports.triggerUnloadCallbacks())};r||e.exports.attachEvent("unload",a)}(co)),co.exports}var fo,Rl;function BE(){return Rl||(Rl=1,fo=function(t,s){if(s=s.split(":")[0],t=+t,!t)return!1;switch(s){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}),fo}var Kn={},Pl;function qE(){if(Pl)return Kn;Pl=1;var e=Object.prototype.hasOwnProperty,t;function s(i){try{return decodeURIComponent(i.replace(/\+/g," "))}catch{return null}}function n(i){try{return encodeURIComponent(i)}catch{return null}}function r(i){for(var l=/([^=?#&]+)=?([^&]*)/g,c={},f;f=l.exec(i);){var u=s(f[1]),d=s(f[2]);u===null||d===null||u in c||(c[u]=d)}return c}function a(i,l){l=l||"";var c=[],f,u;typeof l!="string"&&(l="?");for(u in i)if(e.call(i,u)){if(f=i[u],!f&&(f===null||f===t||isNaN(f))&&(f=""),u=n(u),f=n(f),u===null||f===null)continue;c.push(u+"="+f)}return c.length?l+c.join("&"):""}return Kn.stringify=a,Kn.parse=r,Kn}var po,Ol;function Ud(){if(Ol)return po;Ol=1;var e=BE(),t=qE(),s=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,n=/[\n\r\t]/g,r=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/:\d+$/,i=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,l=/^[a-zA-Z]:/;function c(E){return(E||"").toString().replace(s,"")}var f=[["#","hash"],["?","query"],function(O,S){return m(S.protocol)?O.replace(/\\/g,"/"):O},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],u={hash:1,query:1};function d(E){var O;typeof window<"u"?O=window:typeof globalThis<"u"?O=globalThis:typeof self<"u"?O=self:O={};var S=O.location||{};E=E||S;var A={},k=typeof E,w;if(E.protocol==="blob:")A=new R(unescape(E.pathname),{});else if(k==="string"){A=new R(E,{});for(w in u)delete A[w]}else if(k==="object"){for(w in E)w in u||(A[w]=E[w]);A.slashes===void 0&&(A.slashes=r.test(E.href))}return A}function m(E){return E==="file:"||E==="ftp:"||E==="http:"||E==="https:"||E==="ws:"||E==="wss:"}function y(E,O){E=c(E),E=E.replace(n,""),O=O||{};var S=i.exec(E),A=S[1]?S[1].toLowerCase():"",k=!!S[2],w=!!S[3],C=0,z;return k?w?(z=S[2]+S[3]+S[4],C=S[2].length+S[3].length):(z=S[2]+S[4],C=S[2].length):w?(z=S[3]+S[4],C=S[3].length):z=S[4],A==="file:"?C>=2&&(z=z.slice(2)):m(A)?z=S[4]:A?k&&(z=z.slice(2)):C>=2&&m(O.protocol)&&(z=S[4]),{protocol:A,slashes:k||m(A),slashesCount:C,rest:z}}function P(E,O){if(E==="")return O;for(var S=(O||"/").split("/").slice(0,-1).concat(E.split("/")),A=S.length,k=S[A-1],w=!1,C=0;A--;)S[A]==="."?S.splice(A,1):S[A]===".."?(S.splice(A,1),C++):C&&(A===0&&(w=!0),S.splice(A,1),C--);return w&&S.unshift(""),(k==="."||k==="..")&&S.push(""),S.join("/")}function R(E,O,S){if(E=c(E),E=E.replace(n,""),!(this instanceof R))return new R(E,O,S);var A,k,w,C,z,X,J=f.slice(),x=typeof O,q=this,se=0;for(x!=="object"&&x!=="string"&&(S=O,O=null),S&&typeof S!="function"&&(S=t.parse),O=d(O),k=y(E||"",O),A=!k.protocol&&!k.slashes,q.slashes=k.slashes||A&&O.slashes,q.protocol=k.protocol||O.protocol||"",E=k.rest,(k.protocol==="file:"&&(k.slashesCount!==2||l.test(E))||!k.slashes&&(k.protocol||k.slashesCount<2||!m(q.protocol)))&&(J[3]=[/(.*)/,"pathname"]);se<J.length;se++){if(C=J[se],typeof C=="function"){E=C(E,q);continue}w=C[0],X=C[1],w!==w?q[X]=E:typeof w=="string"?(z=w==="@"?E.lastIndexOf(w):E.indexOf(w),~z&&(typeof C[2]=="number"?(q[X]=E.slice(0,z),E=E.slice(z+C[2])):(q[X]=E.slice(z),E=E.slice(0,z)))):(z=w.exec(E))&&(q[X]=z[1],E=E.slice(0,z.index)),q[X]=q[X]||A&&C[3]&&O[X]||"",C[4]&&(q[X]=q[X].toLowerCase())}S&&(q.query=S(q.query)),A&&O.slashes&&q.pathname.charAt(0)!=="/"&&(q.pathname!==""||O.pathname!=="")&&(q.pathname=P(q.pathname,O.pathname)),q.pathname.charAt(0)!=="/"&&m(q.protocol)&&(q.pathname="/"+q.pathname),e(q.port,q.protocol)||(q.host=q.hostname,q.port=""),q.username=q.password="",q.auth&&(z=q.auth.indexOf(":"),~z?(q.username=q.auth.slice(0,z),q.username=encodeURIComponent(decodeURIComponent(q.username)),q.password=q.auth.slice(z+1),q.password=encodeURIComponent(decodeURIComponent(q.password))):q.username=encodeURIComponent(decodeURIComponent(q.auth)),q.auth=q.password?q.username+":"+q.password:q.username),q.origin=q.protocol!=="file:"&&m(q.protocol)&&q.host?q.protocol+"//"+q.host:"null",q.href=q.toString()}function N(E,O,S){var A=this;switch(E){case"query":typeof O=="string"&&O.length&&(O=(S||t.parse)(O)),A[E]=O;break;case"port":A[E]=O,e(O,A.protocol)?O&&(A.host=A.hostname+":"+O):(A.host=A.hostname,A[E]="");break;case"hostname":A[E]=O,A.port&&(O+=":"+A.port),A.host=O;break;case"host":A[E]=O,a.test(O)?(O=O.split(":"),A.port=O.pop(),A.hostname=O.join(":")):(A.hostname=O,A.port="");break;case"protocol":A.protocol=O.toLowerCase(),A.slashes=!S;break;case"pathname":case"hash":if(O){var k=E==="pathname"?"/":"#";A[E]=O.charAt(0)!==k?k+O:O}else A[E]=O;break;case"username":case"password":A[E]=encodeURIComponent(O);break;case"auth":var w=O.indexOf(":");~w?(A.username=O.slice(0,w),A.username=encodeURIComponent(decodeURIComponent(A.username)),A.password=O.slice(w+1),A.password=encodeURIComponent(decodeURIComponent(A.password))):A.username=encodeURIComponent(decodeURIComponent(O))}for(var C=0;C<f.length;C++){var z=f[C];z[4]&&(A[z[1]]=A[z[1]].toLowerCase())}return A.auth=A.password?A.username+":"+A.password:A.username,A.origin=A.protocol!=="file:"&&m(A.protocol)&&A.host?A.protocol+"//"+A.host:"null",A.href=A.toString(),A}function M(E){(!E||typeof E!="function")&&(E=t.stringify);var O,S=this,A=S.host,k=S.protocol;k&&k.charAt(k.length-1)!==":"&&(k+=":");var w=k+(S.protocol&&S.slashes||m(S.protocol)?"//":"");return S.username?(w+=S.username,S.password&&(w+=":"+S.password),w+="@"):S.password?(w+=":"+S.password,w+="@"):S.protocol!=="file:"&&m(S.protocol)&&!A&&S.pathname!=="/"&&(w+="@"),(A[A.length-1]===":"||a.test(S.hostname)&&!S.port)&&(A+=":"),w+=A+S.pathname,O=typeof S.query=="object"?E(S.query):S.query,O&&(w+=O.charAt(0)!=="?"?"?"+O:O),S.hash&&(w+=S.hash),w}return R.prototype={set:N,toString:M},R.extractProtocol=y,R.location=d,R.trimLeft=c,R.qs=t,po=R,po}var ho,Nl;function It(){if(Nl)return ho;Nl=1;var e=Ud();return ho={getOrigin:function(t){if(!t)return null;var s=new e(t);if(s.protocol==="file:")return null;var n=s.port;return n||(n=s.protocol==="https:"?"443":"80"),s.protocol+"//"+s.hostname+":"+n},isOriginEqual:function(t,s){var n=this.getOrigin(t)===this.getOrigin(s);return n},isSchemeEqual:function(t,s){return t.split(":")[0]===s.split(":")[0]},addPath:function(t,s){var n=t.split("?");return n[0]+s+(n[1]?"?"+n[1]:"")},addQuery:function(t,s){return t+(t.indexOf("?")===-1?"?"+s:"&"+s)},isLoopbackAddr:function(t){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^\[::1\]$/.test(t)}},ho}var Zn={exports:{}},Ll;function je(){return Ll||(Ll=1,typeof Object.create=="function"?Zn.exports=function(t,s){s&&(t.super_=s,t.prototype=Object.create(s.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Zn.exports=function(t,s){if(s){t.super_=s;var n=function(){};n.prototype=s.prototype,t.prototype=new n,t.prototype.constructor=t}}),Zn.exports}var mo={},vo,Dl;function jd(){if(Dl)return vo;Dl=1;function e(){this._listeners={}}return e.prototype.addEventListener=function(t,s){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];n.indexOf(s)===-1&&(n=n.concat([s])),this._listeners[t]=n},e.prototype.removeEventListener=function(t,s){var n=this._listeners[t];if(n){var r=n.indexOf(s);if(r!==-1){n.length>1?this._listeners[t]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[t];return}}},e.prototype.dispatchEvent=function(){var t=arguments[0],s=t.type,n=arguments.length===1?[t]:Array.apply(null,arguments);if(this["on"+s]&&this["on"+s].apply(this,n),s in this._listeners)for(var r=this._listeners[s],a=0;a<r.length;a++)r[a].apply(this,n)},vo=e,vo}var Ml;function ct(){if(Ml)return mo;Ml=1;var e=je(),t=jd();function s(){t.call(this)}return e(s,t),s.prototype.removeAllListeners=function(n){n?delete this._listeners[n]:this._listeners={}},s.prototype.once=function(n,r){var a=this,i=!1;function l(){a.removeListener(n,l),i||(i=!0,r.apply(this,arguments))}this.on(n,l)},s.prototype.emit=function(){var n=arguments[0],r=this._listeners[n];if(r){for(var a=arguments.length,i=new Array(a-1),l=1;l<a;l++)i[l-1]=arguments[l];for(var c=0;c<r.length;c++)r[c].apply(this,i)}},s.prototype.on=s.prototype.addListener=t.prototype.addEventListener,s.prototype.removeListener=t.prototype.removeEventListener,mo.EventEmitter=s,mo}var Xn={exports:{}},Ul;function HE(){if(Ul)return Xn.exports;Ul=1;var e=globalThis.WebSocket||globalThis.MozWebSocket;return e?Xn.exports=function(s){return new e(s)}:Xn.exports=void 0,Xn.exports}var go,jl;function FE(){if(jl)return go;jl=1;var e=_s(),t=It(),s=je(),n=ct().EventEmitter,r=HE(),a=function(){};function i(l,c,f){if(!i.enabled())throw new Error("Transport created when disabled");n.call(this);var u=this,d=t.addPath(l,"/websocket");d.slice(0,5)==="https"?d="wss"+d.slice(5):d="ws"+d.slice(4),this.url=d,this.ws=new r(this.url,[],f),this.ws.onmessage=function(m){a("message event",m.data),u.emit("message",m.data)},this.unloadRef=e.unloadAdd(function(){u.ws.close()}),this.ws.onclose=function(m){a("close event",m.code,m.reason),u.emit("close",m.code,m.reason),u._cleanup()},this.ws.onerror=function(m){u.emit("close",1006,"WebSocket connection broken"),u._cleanup()}}return s(i,n),i.prototype.send=function(l){var c="["+l+"]";this.ws.send(c)},i.prototype.close=function(){var l=this.ws;this._cleanup(),l&&l.close()},i.prototype._cleanup=function(){var l=this.ws;l&&(l.onmessage=l.onclose=l.onerror=null),e.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},i.enabled=function(){return!!r},i.transportName="websocket",i.roundTrips=2,go=i,go}var yo,Bl;function VE(){if(Bl)return yo;Bl=1;var e=je(),t=ct().EventEmitter,s=function(){};function n(r,a){t.call(this),this.sendBuffer=[],this.sender=a,this.url=r}return e(n,t),n.prototype.send=function(r){this.sendBuffer.push(r),this.sendStop||this.sendSchedule()},n.prototype.sendScheduleWait=function(){var r=this,a;this.sendStop=function(){r.sendStop=null,clearTimeout(a)},a=setTimeout(function(){r.sendStop=null,r.sendSchedule()},25)},n.prototype.sendSchedule=function(){s("sendSchedule",this.sendBuffer.length);var r=this;if(this.sendBuffer.length>0){var a="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,a,function(i){r.sendStop=null,i?(r.emit("close",i.code||1006,"Sending error: "+i),r.close()):r.sendScheduleWait()}),this.sendBuffer=[]}},n.prototype._cleanup=function(){this.removeAllListeners()},n.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},yo=n,yo}var _o,ql;function WE(){if(ql)return _o;ql=1;var e=je(),t=ct().EventEmitter,s=function(){};function n(r,a,i){t.call(this),this.Receiver=r,this.receiveUrl=a,this.AjaxObject=i,this._scheduleReceiver()}return e(n,t),n.prototype._scheduleReceiver=function(){var r=this,a=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);a.on("message",function(i){r.emit("message",i)}),a.once("close",function(i,l){s("close",i,l,r.pollIsClosing),r.poll=a=null,r.pollIsClosing||(l==="network"?r._scheduleReceiver():(r.emit("close",i||1006,l),r.removeAllListeners()))})},n.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},_o=n,_o}var bo,Hl;function Bd(){if(Hl)return bo;Hl=1;var e=je(),t=It(),s=VE(),n=WE();function r(a,i,l,c,f){var u=t.addPath(a,i),d=this;s.call(this,a,l),this.poll=new n(c,u,f),this.poll.on("message",function(m){d.emit("message",m)}),this.poll.once("close",function(m,y){d.poll=null,d.emit("close",m,y),d.close()})}return e(r,s),r.prototype.close=function(){s.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},bo=r,bo}var wo,Fl;function Ys(){if(Fl)return wo;Fl=1;var e=je(),t=It(),s=Bd();function n(a){return function(i,l,c){var f={};typeof l=="string"&&(f.headers={"Content-type":"text/plain"});var u=t.addPath(i,"/xhr_send"),d=new a("POST",u,l,f);return d.once("finish",function(m){if(d=null,m!==200&&m!==204)return c(new Error("http status "+m));c()}),function(){d.close(),d=null;var m=new Error("Aborted");m.code=1e3,c(m)}}}function r(a,i,l,c){s.call(this,a,i,n(c),l,c)}return e(r,s),wo=r,wo}var ko,Vl;function Hr(){if(Vl)return ko;Vl=1;var e=je(),t=ct().EventEmitter;function s(n,r){t.call(this);var a=this;this.bufferPosition=0,this.xo=new r("POST",n,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(i,l){a._chunkHandler(i,l),a.xo=null;var c=i===200?"network":"permanent";a.emit("close",null,c),a._cleanup()})}return e(s,t),s.prototype._chunkHandler=function(n,r){if(!(n!==200||!r))for(var a=-1;;this.bufferPosition+=a+1){var i=r.slice(this.bufferPosition);if(a=i.indexOf(`
`),a===-1)break;var l=i.slice(0,a);l&&this.emit("message",l)}},s.prototype._cleanup=function(){this.removeAllListeners()},s.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},ko=s,ko}var So,Wl;function qd(){if(Wl)return So;Wl=1;var e=ct().EventEmitter,t=je(),s=_s(),n=It(),r=globalThis.XMLHttpRequest,a=function(){};function i(f,u,d,m){var y=this;e.call(this),setTimeout(function(){y._start(f,u,d,m)},0)}t(i,e),i.prototype._start=function(f,u,d,m){var y=this;try{this.xhr=new r}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}u=n.addQuery(u,"t="+ +new Date),this.unloadRef=s.unloadAdd(function(){y._cleanup(!0)});try{this.xhr.open(f,u,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){a("xhr timeout"),y.emit("finish",0,""),y._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!m||!m.noCredentials)&&i.supportsCORS&&(this.xhr.withCredentials=!0),m&&m.headers)for(var P in m.headers)this.xhr.setRequestHeader(P,m.headers[P]);this.xhr.onreadystatechange=function(){if(y.xhr){var R=y.xhr,N,M;switch(a("readyState",R.readyState),R.readyState){case 3:try{M=R.status,N=R.responseText}catch{}M===1223&&(M=204),M===200&&N&&N.length>0&&y.emit("chunk",M,N);break;case 4:M=R.status,M===1223&&(M=204),(M===12005||M===12029)&&(M=0),a("finish",M,R.responseText),y.emit("finish",M,R.responseText),y._cleanup(!1);break}}};try{y.xhr.send(d)}catch{y.emit("finish",0,""),y._cleanup(!1)}},i.prototype._cleanup=function(f){if(this.xhr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),f)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},i.prototype.close=function(){this._cleanup(!0)},i.enabled=!!r;var l=["Active"].concat("Object").join("X");!i.enabled&&l in globalThis&&(r=function(){try{return new globalThis[l]("Microsoft.XMLHTTP")}catch{return null}},i.enabled=!!new r);var c=!1;try{c="withCredentials"in new r}catch{}return i.supportsCORS=c,So=i,So}var Co,zl;function Fr(){if(zl)return Co;zl=1;var e=je(),t=qd();function s(n,r,a,i){t.call(this,n,r,a,i)}return e(s,t),s.enabled=t.enabled&&t.supportsCORS,Co=s,Co}var Io,Jl;function Un(){if(Jl)return Io;Jl=1;var e=je(),t=qd();function s(n,r,a){t.call(this,n,r,a,{noCredentials:!0})}return e(s,t),s.enabled=t.enabled,Io=s,Io}var $o,Gl;function jn(){return Gl||(Gl=1,$o={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}}),$o}var Eo,Kl;function zE(){if(Kl)return Eo;Kl=1;var e=je(),t=Ys(),s=Hr(),n=Fr(),r=Un(),a=jn();function i(l){if(!r.enabled&&!n.enabled)throw new Error("Transport created when disabled");t.call(this,l,"/xhr_streaming",s,n)}return e(i,t),i.enabled=function(l){return l.nullOrigin||a.isOpera()?!1:n.enabled},i.transportName="xhr-streaming",i.roundTrips=2,i.needBody=!!globalThis.document,Eo=i,Eo}var xo,Zl;function si(){if(Zl)return xo;Zl=1;var e=ct().EventEmitter,t=je(),s=_s(),n=jn(),r=It(),a=function(){};function i(l,c,f){var u=this;e.call(this),setTimeout(function(){u._start(l,c,f)},0)}return t(i,e),i.prototype._start=function(l,c,f){var u=this,d=new globalThis.XDomainRequest;c=r.addQuery(c,"t="+ +new Date),d.onerror=function(){u._error()},d.ontimeout=function(){u._error()},d.onprogress=function(){a("progress",d.responseText),u.emit("chunk",200,d.responseText)},d.onload=function(){u.emit("finish",200,d.responseText),u._cleanup(!1)},this.xdr=d,this.unloadRef=s.unloadAdd(function(){u._cleanup(!0)});try{this.xdr.open(l,c),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(f)}catch{this._error()}},i.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},i.prototype._cleanup=function(l){if(this.xdr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,l)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},i.prototype.close=function(){this._cleanup(!0)},i.enabled=!!(globalThis.XDomainRequest&&n.hasDomain()),xo=i,xo}var To,Xl;function Hd(){if(Xl)return To;Xl=1;var e=je(),t=Ys(),s=Hr(),n=si();function r(a){if(!n.enabled)throw new Error("Transport created when disabled");t.call(this,a,"/xhr_streaming",s,n)}return e(r,t),r.enabled=function(a){return a.cookie_needed||a.nullOrigin?!1:n.enabled&&a.sameScheme},r.transportName="xdr-streaming",r.roundTrips=2,To=r,To}var Ao,Yl;function Fd(){return Yl||(Yl=1,Ao=globalThis.EventSource),Ao}var Ro,Ql;function JE(){if(Ql)return Ro;Ql=1;var e=je(),t=ct().EventEmitter,s=Fd(),n=function(){};function r(a){t.call(this);var i=this,l=this.es=new s(a);l.onmessage=function(c){n("message",c.data),i.emit("message",decodeURI(c.data))},l.onerror=function(c){n("error",l.readyState);var f=l.readyState!==2?"network":"permanent";i._cleanup(),i._close(f)}}return e(r,t),r.prototype.abort=function(){this._cleanup(),this._close("user")},r.prototype._cleanup=function(){var a=this.es;a&&(a.onmessage=a.onerror=null,a.close(),this.es=null)},r.prototype._close=function(a){var i=this;setTimeout(function(){i.emit("close",null,a),i.removeAllListeners()},200)},Ro=r,Ro}var Po,ec;function tc(){if(ec)return Po;ec=1;var e=je(),t=Ys(),s=JE(),n=Fr(),r=Fd();function a(i){if(!a.enabled())throw new Error("Transport created when disabled");t.call(this,i,"/eventsource",s,n)}return e(a,t),a.enabled=function(){return!!r},a.transportName="eventsource",a.roundTrips=2,Po=a,Po}var Oo,sc;function Vd(){return sc||(sc=1,Oo="1.6.1"),Oo}var No={exports:{}},nc;function Bn(){return nc||(nc=1,function(e){var t=_s(),s=jn();e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(n,r){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:n,data:r||""}),"*")},createIframe:function(n,r){var a=globalThis.document.createElement("iframe"),i,l,c=function(){clearTimeout(i);try{a.onload=null}catch{}a.onerror=null},f=function(){a&&(c(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),t.unloadDel(l))},u=function(m){a&&(f(),r(m))},d=function(m,y){setTimeout(function(){try{a&&a.contentWindow&&a.contentWindow.postMessage(m,y)}catch{}},0)};return a.src=n,a.style.display="none",a.style.position="absolute",a.onerror=function(){u("onerror")},a.onload=function(){clearTimeout(i),i=setTimeout(function(){u("onload timeout")},2e3)},globalThis.document.body.appendChild(a),i=setTimeout(function(){u("timeout")},15e3),l=t.unloadAdd(f),{post:d,cleanup:f,loaded:c}},createHtmlfile:function(n,r){var a=["Active"].concat("Object").join("X"),i=new globalThis[a]("htmlfile"),l,c,f,u=function(){clearTimeout(l),f.onerror=null},d=function(){i&&(u(),t.unloadDel(c),f.parentNode.removeChild(f),f=i=null,CollectGarbage())},m=function(R){i&&(d(),r(R))},y=function(R,N){try{setTimeout(function(){f&&f.contentWindow&&f.contentWindow.postMessage(R,N)},0)}catch{}};i.open(),i.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),i.close(),i.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var P=i.createElement("div");return i.body.appendChild(P),f=i.createElement("iframe"),P.appendChild(f),f.src=n,f.onerror=function(){m("onerror")},l=setTimeout(function(){m("timeout")},15e3),c=t.unloadAdd(d),{post:y,cleanup:d,loaded:u}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!s.isKonqueror())}(No)),No.exports}var Lo,rc;function Wd(){if(rc)return Lo;rc=1;var e=je(),t=ct().EventEmitter,s=Vd(),n=It(),r=Bn(),a=_s(),i=Xs(),l=function(){};function c(f,u,d){if(!c.enabled())throw new Error("Transport created when disabled");t.call(this);var m=this;this.origin=n.getOrigin(d),this.baseUrl=d,this.transUrl=u,this.transport=f,this.windowId=i.string(8);var y=n.addPath(d,"/iframe.html")+"#"+this.windowId;this.iframeObj=r.createIframe(y,function(P){m.emit("close",1006,"Unable to load an iframe ("+P+")"),m.close()}),this.onmessageCallback=this._message.bind(this),a.attachEvent("message",this.onmessageCallback)}return e(c,t),c.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){a.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},c.prototype._message=function(f){if(l("message",f.data),!n.isOriginEqual(f.origin,this.origin)){l("not same origin",f.origin,this.origin);return}var u;try{u=JSON.parse(f.data)}catch{l("bad json",f.data);return}if(u.windowId!==this.windowId){l("mismatched window id",u.windowId,this.windowId);return}switch(u.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([s,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",u.data);break;case"c":var d;try{d=JSON.parse(u.data)}catch{l("bad json",u.data);return}this.emit("close",d[0],d[1]),this.close();break}},c.prototype.postMessage=function(f,u){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:f,data:u||""}),this.origin)},c.prototype.send=function(f){this.postMessage("m",f)},c.enabled=function(){return r.iframeEnabled},c.transportName="iframe",c.roundTrips=2,Lo=c,Lo}var Do,oc;function ni(){return oc||(oc=1,Do={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,s,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}}),Do}var Mo,ac;function Uo(){if(ac)return Mo;ac=1;var e=je(),t=Wd(),s=ni();return Mo=function(n){function r(a,i){t.call(this,n.transportName,a,i)}return e(r,t),r.enabled=function(a,i){if(!globalThis.document)return!1;var l=s.extend({},i);return l.sameOrigin=!0,n.enabled(l)&&t.enabled()},r.transportName="iframe-"+n.transportName,r.needBody=!0,r.roundTrips=t.roundTrips+n.roundTrips-1,r.facadeTransport=n,r},Mo}var jo,ic;function GE(){if(ic)return jo;ic=1;var e=je(),t=Bn(),s=It(),n=ct().EventEmitter,r=Xs(),a=function(){};function i(c){n.call(this);var f=this;t.polluteGlobalNamespace(),this.id="a"+r.string(6),c=s.addQuery(c,"c="+decodeURIComponent(t.WPrefix+"."+this.id)),a("using htmlfile",i.htmlfileEnabled);var u=i.htmlfileEnabled?t.createHtmlfile:t.createIframe;globalThis[t.WPrefix][this.id]={start:function(){f.iframeObj.loaded()},message:function(d){f.emit("message",d)},stop:function(){f._cleanup(),f._close("network")}},this.iframeObj=u(c,function(){f._cleanup(),f._close("permanent")})}e(i,n),i.prototype.abort=function(){this._cleanup(),this._close("user")},i.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[t.WPrefix][this.id]},i.prototype._close=function(c){this.emit("close",null,c),this.removeAllListeners()},i.htmlfileEnabled=!1;var l=["Active"].concat("Object").join("X");if(l in globalThis)try{i.htmlfileEnabled=!!new globalThis[l]("htmlfile")}catch{}return i.enabled=i.htmlfileEnabled||t.iframeEnabled,jo=i,jo}var Bo,lc;function cc(){if(lc)return Bo;lc=1;var e=je(),t=GE(),s=Un(),n=Ys();function r(a){if(!t.enabled)throw new Error("Transport created when disabled");n.call(this,a,"/htmlfile",t,s)}return e(r,n),r.enabled=function(a){return t.enabled&&a.sameOrigin},r.transportName="htmlfile",r.roundTrips=2,Bo=r,Bo}var qo,uc;function dc(){if(uc)return qo;uc=1;var e=je(),t=Ys(),s=Hr(),n=Fr(),r=Un();function a(i){if(!r.enabled&&!n.enabled)throw new Error("Transport created when disabled");t.call(this,i,"/xhr",s,n)}return e(a,t),a.enabled=function(i){return i.nullOrigin?!1:r.enabled&&i.sameOrigin?!0:n.enabled},a.transportName="xhr-polling",a.roundTrips=2,qo=a,qo}var Ho,fc;function KE(){if(fc)return Ho;fc=1;var e=je(),t=Ys(),s=Hd(),n=Hr(),r=si();function a(i){if(!r.enabled)throw new Error("Transport created when disabled");t.call(this,i,"/xhr",n,r)}return e(a,t),a.enabled=s.enabled,a.transportName="xdr-polling",a.roundTrips=2,Ho=a,Ho}var Fo,pc;function ZE(){if(pc)return Fo;pc=1;var e=Bn(),t=Xs(),s=jn(),n=It(),r=je(),a=ct().EventEmitter,i=function(){};function l(c){var f=this;a.call(this),e.polluteGlobalNamespace(),this.id="a"+t.string(6);var u=n.addQuery(c,"c="+encodeURIComponent(e.WPrefix+"."+this.id));globalThis[e.WPrefix][this.id]=this._callback.bind(this),this._createScript(u),this.timeoutId=setTimeout(function(){f._abort(new Error("JSONP script loaded abnormally (timeout)"))},l.timeout)}return r(l,a),l.prototype.abort=function(){if(globalThis[e.WPrefix][this.id]){var c=new Error("JSONP user aborted read");c.code=1e3,this._abort(c)}},l.timeout=35e3,l.scriptErrorTimeout=1e3,l.prototype._callback=function(c){this._cleanup(),!this.aborting&&(c&&this.emit("message",c),this.emit("close",null,"network"),this.removeAllListeners())},l.prototype._abort=function(c){this._cleanup(),this.aborting=!0,this.emit("close",c.code,c.message),this.removeAllListeners()},l.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var c=this.script;c.parentNode.removeChild(c),c.onreadystatechange=c.onerror=c.onload=c.onclick=null,this.script=null}delete globalThis[e.WPrefix][this.id]},l.prototype._scriptError=function(){var c=this;this.errorTimer||(this.errorTimer=setTimeout(function(){c.loadedOkay||c._abort(new Error("JSONP script loaded abnormally (onerror)"))},l.scriptErrorTimeout))},l.prototype._createScript=function(c){var f=this,u=this.script=globalThis.document.createElement("script"),d;if(u.id="a"+t.string(8),u.src=c,u.type="text/javascript",u.charset="UTF-8",u.onerror=this._scriptError.bind(this),u.onload=function(){f._abort(new Error("JSONP script loaded abnormally (onload)"))},u.onreadystatechange=function(){if(i("onreadystatechange",u.readyState),/loaded|closed/.test(u.readyState)){if(u&&u.htmlFor&&u.onclick){f.loadedOkay=!0;try{u.onclick()}catch{}}u&&f._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof u.async>"u"&&globalThis.document.attachEvent)if(s.isOpera())d=this.script2=globalThis.document.createElement("script"),d.text="try{var a = document.getElementById('"+u.id+"'); if(a)a.onerror();}catch(x){};",u.async=d.async=!1;else{try{u.htmlFor=u.id,u.event="onclick"}catch{}u.async=!0}typeof u.async<"u"&&(u.async=!0);var m=globalThis.document.getElementsByTagName("head")[0];m.insertBefore(u,m.firstChild),d&&m.insertBefore(d,m.firstChild)},Fo=l,Fo}var Vo,hc;function XE(){if(hc)return Vo;hc=1;var e=Xs(),t=It(),s=function(){},n,r;function a(l){try{return globalThis.document.createElement('<iframe name="'+l+'">')}catch{var c=globalThis.document.createElement("iframe");return c.name=l,c}}function i(){n=globalThis.document.createElement("form"),n.style.display="none",n.style.position="absolute",n.method="POST",n.enctype="application/x-www-form-urlencoded",n.acceptCharset="UTF-8",r=globalThis.document.createElement("textarea"),r.name="d",n.appendChild(r),globalThis.document.body.appendChild(n)}return Vo=function(l,c,f){n||i();var u="a"+e.string(8);n.target=u,n.action=t.addQuery(t.addPath(l,"/jsonp_send"),"i="+u);var d=a(u);d.id=u,d.style.display="none",n.appendChild(d);try{r.value=c}catch{}n.submit();var m=function(y){d.onerror&&(d.onreadystatechange=d.onerror=d.onload=null,setTimeout(function(){d.parentNode.removeChild(d),d=null},500),r.value="",f(y))};return d.onerror=function(){m()},d.onload=function(){m()},d.onreadystatechange=function(y){s("onreadystatechange",u,d.readyState),d.readyState==="complete"&&m()},function(){m(new Error("Aborted"))}},Vo}var Wo,mc;function YE(){if(mc)return Wo;mc=1;var e=je(),t=Bd(),s=ZE(),n=XE();function r(a){if(!r.enabled())throw new Error("Transport created when disabled");t.call(this,a,"/jsonp",n,s)}return e(r,t),r.enabled=function(){return!!globalThis.document},r.transportName="jsonp-polling",r.roundTrips=1,r.needBody=!0,Wo=r,Wo}var zo,vc;function QE(){return vc||(vc=1,zo=[FE(),zE(),Hd(),tc(),Uo()(tc()),cc(),Uo()(cc()),dc(),KE(),Uo()(dc()),YE()]),zo}var gc={},yc;function e5(){if(yc)return gc;yc=1;var e=Array.prototype,t=Object.prototype,s=Function.prototype,n=String.prototype,r=e.slice,a=t.toString,i=function(w){return t.toString.call(w)==="[object Function]"},l=function(C){return a.call(C)==="[object Array]"},c=function(C){return a.call(C)==="[object String]"},f=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),u;f?u=function(w,C,z,X){!X&&C in w||Object.defineProperty(w,C,{configurable:!0,enumerable:!1,writable:!0,value:z})}:u=function(w,C,z,X){!X&&C in w||(w[C]=z)};var d=function(w,C,z){for(var X in C)t.hasOwnProperty.call(C,X)&&u(w,X,C[X],z)},m=function(w){if(w==null)throw new TypeError("can't convert "+w+" to object");return Object(w)};function y(w){var C=+w;return C!==C?C=0:C!==0&&C!==1/0&&C!==-1/0&&(C=(C>0||-1)*Math.floor(Math.abs(C))),C}function P(w){return w>>>0}function R(){}d(s,{bind:function(C){var z=this;if(!i(z))throw new TypeError("Function.prototype.bind called on incompatible "+z);for(var X=r.call(arguments,1),J=function(){if(this instanceof ie){var he=z.apply(this,X.concat(r.call(arguments)));return Object(he)===he?he:this}else return z.apply(C,X.concat(r.call(arguments)))},x=Math.max(0,z.length-X.length),q=[],se=0;se<x;se++)q.push("$"+se);var ie=Function("binder","return function ("+q.join(",")+"){ return binder.apply(this, arguments); }")(J);return z.prototype&&(R.prototype=z.prototype,ie.prototype=new R,R.prototype=null),ie}}),d(Array,{isArray:l});var N=Object("a"),M=N[0]!=="a"||!(0 in N),E=function(C){var z=!0,X=!0;return C&&(C.call("foo",function(J,x,q){typeof q!="object"&&(z=!1)}),C.call([1],function(){X=typeof this=="string"},"x")),!!C&&z&&X};d(e,{forEach:function(C){var z=m(this),X=M&&c(this)?this.split(""):z,J=arguments[1],x=-1,q=X.length>>>0;if(!i(C))throw new TypeError;for(;++x<q;)x in X&&C.call(J,X[x],x,z)}},!E(e.forEach));var O=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;d(e,{indexOf:function(C){var z=M&&c(this)?this.split(""):m(this),X=z.length>>>0;if(!X)return-1;var J=0;for(arguments.length>1&&(J=y(arguments[1])),J=J>=0?J:Math.max(0,X+J);J<X;J++)if(J in z&&z[J]===C)return J;return-1}},O);var S=n.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var w=/()??/.exec("")[1]===void 0;n.split=function(C,z){var X=this;if(C===void 0&&z===0)return[];if(a.call(C)!=="[object RegExp]")return S.call(this,C,z);var J=[],x=(C.ignoreCase?"i":"")+(C.multiline?"m":"")+(C.extended?"x":"")+(C.sticky?"y":""),q=0,se,ie,he,te;for(C=new RegExp(C.source,x+"g"),X+="",w||(se=new RegExp("^"+C.source+"$(?!\\s)",x)),z=z===void 0?-1>>>0:P(z);(ie=C.exec(X))&&(he=ie.index+ie[0].length,!(he>q&&(J.push(X.slice(q,ie.index)),!w&&ie.length>1&&ie[0].replace(se,function(){for(var L=1;L<arguments.length-2;L++)arguments[L]===void 0&&(ie[L]=void 0)}),ie.length>1&&ie.index<X.length&&e.push.apply(J,ie.slice(1)),te=ie[0].length,q=he,J.length>=z)));)C.lastIndex===ie.index&&C.lastIndex++;return q===X.length?(te||!C.test(""))&&J.push(""):J.push(X.slice(q)),J.length>z?J.slice(0,z):J}}():"0".split(void 0,0).length&&(n.split=function(C,z){return C===void 0&&z===0?[]:S.call(this,C,z)});var A=n.substr,k="".substr&&"0b".substr(-1)!=="b";return d(n,{substr:function(C,z){return A.call(this,C<0&&(C=this.length+C)<0?0:C,z)}},k),gc}var Jo,_c;function t5(){if(_c)return Jo;_c=1;var e=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,t,s=function(n){var r,a={},i=[];for(r=0;r<65536;r++)i.push(String.fromCharCode(r));return n.lastIndex=0,i.join("").replace(n,function(l){return a[l]="\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4),""}),n.lastIndex=0,a};return Jo={quote:function(n){var r=JSON.stringify(n);return e.lastIndex=0,e.test(r)?(t||(t=s(e)),r.replace(e,function(a){return t[a]})):r}},Jo}var Go,bc;function s5(){if(bc)return Go;bc=1;var e=function(){};return Go=function(t){return{filterToEnabled:function(s,n){var r={main:[],facade:[]};return s?typeof s=="string"&&(s=[s]):s=[],t.forEach(function(a){if(a&&!(a.transportName==="websocket"&&n.websocket===!1)){if(s.length&&s.indexOf(a.transportName)===-1){e("not in whitelist",a.transportName);return}a.enabled(n)?(e("enabled",a.transportName),r.main.push(a),a.facadeTransport&&r.facade.push(a.facadeTransport)):e("disabled",a.transportName)}}),r}}},Go}var Ko,wc;function n5(){if(wc)return Ko;wc=1;var e={};return["log","debug","warn"].forEach(function(t){var s;try{s=globalThis.console&&globalThis.console[t]&&globalThis.console[t].apply}catch{}e[t]=s?function(){return globalThis.console[t].apply(globalThis.console,arguments)}:t==="log"?function(){}:e.log}),Ko=e,Ko}var Zo,kc;function ri(){if(kc)return Zo;kc=1;function e(t){this.type=t}return e.prototype.initEvent=function(t,s,n){return this.type=t,this.bubbles=s,this.cancelable=n,this.timeStamp=+new Date,this},e.prototype.stopPropagation=function(){},e.prototype.preventDefault=function(){},e.CAPTURING_PHASE=1,e.AT_TARGET=2,e.BUBBLING_PHASE=3,Zo=e,Zo}var Xo,Sc;function zd(){return Sc||(Sc=1,Xo=globalThis.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}),Xo}var Yo,Cc;function r5(){if(Cc)return Yo;Cc=1;var e=je(),t=ri();function s(){t.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}return e(s,t),Yo=s,Yo}var Qo,Ic;function o5(){if(Ic)return Qo;Ic=1;var e=je(),t=ri();function s(n){t.call(this),this.initEvent("message",!1,!1),this.data=n}return e(s,t),Qo=s,Qo}var ea,$c;function a5(){if($c)return ea;$c=1;var e=ct().EventEmitter,t=je();function s(){var n=this;e.call(this),this.to=setTimeout(function(){n.emit("finish",200,"{}")},s.timeout)}return t(s,e),s.prototype.close=function(){clearTimeout(this.to)},s.timeout=2e3,ea=s,ea}var ta,Ec;function Jd(){if(Ec)return ta;Ec=1;var e=ct().EventEmitter,t=je(),s=ni();function n(r,a){e.call(this);var i=this,l=+new Date;this.xo=new a("GET",r),this.xo.once("finish",function(c,f){var u,d;if(c===200){if(d=+new Date-l,f)try{u=JSON.parse(f)}catch{}s.isObject(u)||(u={})}i.emit("finish",u,d),i.removeAllListeners()})}return t(n,e),n.prototype.close=function(){this.removeAllListeners(),this.xo.close()},ta=n,ta}var sa,xc;function Gd(){if(xc)return sa;xc=1;var e=je(),t=ct().EventEmitter,s=Un(),n=Jd();function r(a){var i=this;t.call(this),this.ir=new n(a,s),this.ir.once("finish",function(l,c){i.ir=null,i.emit("message",JSON.stringify([l,c]))})}return e(r,t),r.transportName="iframe-info-receiver",r.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},sa=r,sa}var na,Tc;function i5(){if(Tc)return na;Tc=1;var e=ct().EventEmitter,t=je(),s=_s(),n=Wd(),r=Gd();function a(i,l){var c=this;e.call(this);var f=function(){var u=c.ifr=new n(r.transportName,l,i);u.once("message",function(d){if(d){var m;try{m=JSON.parse(d)}catch{c.emit("finish"),c.close();return}var y=m[0],P=m[1];c.emit("finish",y,P)}c.close()}),u.once("close",function(){c.emit("finish"),c.close()})};globalThis.document.body?f():s.attachEvent("load",f)}return t(a,e),a.enabled=function(){return n.enabled()},a.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},na=a,na}var ra,Ac;function l5(){if(Ac)return ra;Ac=1;var e=ct().EventEmitter,t=je(),s=It(),n=si(),r=Fr(),a=Un(),i=a5(),l=i5(),c=Jd();function f(u,d){var m=this;e.call(this),setTimeout(function(){m.doXhr(u,d)},0)}return t(f,e),f._getReceiver=function(u,d,m){return m.sameOrigin?new c(d,a):r.enabled?new c(d,r):n.enabled&&m.sameScheme?new c(d,n):l.enabled()?new l(u,d):new c(d,i)},f.prototype.doXhr=function(u,d){var m=this,y=s.addPath(u,"/info");this.xo=f._getReceiver(u,y,d),this.timeoutRef=setTimeout(function(){m._cleanup(!1),m.emit("finish")},f.timeout),this.xo.once("finish",function(P,R){m._cleanup(!0),m.emit("finish",P,R)})},f.prototype._cleanup=function(u){clearTimeout(this.timeoutRef),this.timeoutRef=null,!u&&this.xo&&this.xo.close(),this.xo=null},f.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},f.timeout=8e3,ra=f,ra}var oa,Rc;function c5(){if(Rc)return oa;Rc=1;var e=Bn();function t(s){this._transport=s,s.on("message",this._transportMessage.bind(this)),s.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(s,n){e.postMessage("c",JSON.stringify([s,n]))},t.prototype._transportMessage=function(s){e.postMessage("t",s)},t.prototype._send=function(s){this._transport.send(s)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},oa=t,oa}var aa,Pc;function u5(){if(Pc)return aa;Pc=1;var e=It(),t=_s(),s=c5(),n=Gd(),r=Bn(),a=zd(),i=function(){};return aa=function(l,c){var f={};c.forEach(function(d){d.facadeTransport&&(f[d.facadeTransport.transportName]=d.facadeTransport)}),f[n.transportName]=n;var u;l.bootstrap_iframe=function(){var d;r.currentWindowId=a.hash.slice(1);var m=function(y){if(y.source===parent&&(typeof u>"u"&&(u=y.origin),y.origin===u)){var P;try{P=JSON.parse(y.data)}catch{i("bad json",y.data);return}if(P.windowId===r.currentWindowId)switch(P.type){case"s":var R;try{R=JSON.parse(P.data)}catch{i("bad json",P.data);break}var N=R[0],M=R[1],E=R[2],O=R[3];if(N!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+N+'", the iframe: "'+l.version+'".');if(!e.isOriginEqual(E,a.href)||!e.isOriginEqual(O,a.href))throw new Error("Can't connect to different domain from within an iframe. ("+a.href+", "+E+", "+O+")");d=new s(new f[M](E,O));break;case"m":d._send(P.data);break;case"c":d&&d._close(),d=null;break}}};t.attachEvent("message",m),r.postMessage("s")}},aa}var ia,Oc;function d5(){if(Oc)return ia;Oc=1,e5();var e=Ud(),t=je(),s=Xs(),n=t5(),r=It(),a=_s(),i=s5(),l=ni(),c=jn(),f=n5(),u=ri(),d=jd(),m=zd(),y=r5(),P=o5(),R=l5(),N=function(){},M;function E(S,A,k){if(!(this instanceof E))return new E(S,A,k);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");d.call(this),this.readyState=E.CONNECTING,this.extensions="",this.protocol="",k=k||{},k.protocols_whitelist&&f.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=k.transports,this._transportOptions=k.transportOptions||{},this._timeout=k.timeout||0;var w=k.sessionId||8;if(typeof w=="function")this._generateSessionId=w;else if(typeof w=="number")this._generateSessionId=function(){return s.string(w)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=k.server||s.numberString(1e3);var C=new e(S);if(!C.host||!C.protocol)throw new SyntaxError("The URL '"+S+"' is invalid");if(C.hash)throw new SyntaxError("The URL must not contain a fragment");if(C.protocol!=="http:"&&C.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+C.protocol+"' is not allowed.");var z=C.protocol==="https:";if(m.protocol==="https:"&&!z&&!r.isLoopbackAddr(C.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");A?Array.isArray(A)||(A=[A]):A=[];var X=A.sort();X.forEach(function(x,q){if(!x)throw new SyntaxError("The protocols entry '"+x+"' is invalid.");if(q<X.length-1&&x===X[q+1])throw new SyntaxError("The protocols entry '"+x+"' is duplicated.")});var J=r.getOrigin(m.href);this._origin=J?J.toLowerCase():null,C.set("pathname",C.pathname.replace(/\/+$/,"")),this.url=C.href,N("using url",this.url),this._urlInfo={nullOrigin:!c.hasDomain(),sameOrigin:r.isOriginEqual(this.url,m.href),sameScheme:r.isSchemeEqual(this.url,m.href)},this._ir=new R(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}t(E,d);function O(S){return S===1e3||S>=3e3&&S<=4999}return E.prototype.close=function(S,A){if(S&&!O(S))throw new Error("InvalidAccessError: Invalid code");if(A&&A.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===E.CLOSING||this.readyState===E.CLOSED)){var k=!0;this._close(S||1e3,A||"Normal closure",k)}},E.prototype.send=function(S){if(typeof S!="string"&&(S=""+S),this.readyState===E.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===E.OPEN&&this._transport.send(n.quote(S))},E.version=Vd(),E.CONNECTING=0,E.OPEN=1,E.CLOSING=2,E.CLOSED=3,E.prototype._receiveInfo=function(S,A){if(this._ir=null,!S){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(A),this._transUrl=S.base_url?S.base_url:this.url,S=l.extend(S,this._urlInfo);var k=M.filterToEnabled(this._transportsWhitelist,S);this._transports=k.main,N(this._transports.length+" enabled transports"),this._connect()},E.prototype._connect=function(){for(var S=this._transports.shift();S;S=this._transports.shift()){if(N("attempt",S.transportName),S.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(S),a.attachEvent("load",this._connect.bind(this));return}var A=Math.max(this._timeout,this._rto*S.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),A);var k=r.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),w=this._transportOptions[S.transportName],C=new S(k,this._transUrl,w);C.on("message",this._transportMessage.bind(this)),C.once("close",this._transportClose.bind(this)),C.transportName=S.transportName,this._transport=C;return}this._close(2e3,"All transports failed",!1)},E.prototype._transportTimeout=function(){this.readyState===E.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},E.prototype._transportMessage=function(S){var A=this,k=S.slice(0,1),w=S.slice(1),C;switch(k){case"o":this._open();return;case"h":this.dispatchEvent(new u("heartbeat")),N("heartbeat",this.transport);return}if(w)try{C=JSON.parse(w)}catch{}if(!(typeof C>"u"))switch(k){case"a":Array.isArray(C)&&C.forEach(function(z){N("message",A.transport),A.dispatchEvent(new P(z))});break;case"m":N("message",this.transport),this.dispatchEvent(new P(C));break;case"c":Array.isArray(C)&&C.length===2&&this._close(C[0],C[1],!0);break}},E.prototype._transportClose=function(S,A){if(N("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!O(S)&&S!==2e3&&this.readyState===E.CONNECTING){this._connect();return}this._close(S,A)},E.prototype._open=function(){N("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===E.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=E.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new u("open")),N("connected",this.transport)):this._close(1006,"Server lost session")},E.prototype._close=function(S,A,k){N("_close",this.transport,S,A,k,this.readyState);var w=!1;if(this._ir&&(w=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===E.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=E.CLOSING,setTimeout((function(){this.readyState=E.CLOSED,w&&this.dispatchEvent(new u("error"));var C=new y("close");C.wasClean=k||!1,C.code=S||1e3,C.reason=A,this.dispatchEvent(C),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},E.prototype.countRTO=function(S){return S>100?4*S:300+S},ia=function(S){return M=i(S),u5()(E,S),E},ia}var la,Nc;function f5(){if(Nc)return la;Nc=1;var e=QE();return la=d5()(e),"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1),la}var p5=f5();const h5=UE(p5);function m5(e,t){e.terminate=function(){const s=()=>{};this.onerror=s,this.onmessage=s,this.onopen=s;const n=new Date,r=Math.random().toString().substring(2,8),a=this.onclose;this.onclose=i=>{const l=new Date().getTime()-n.getTime();t(`Discarded socket (#${r})  closed after ${l}ms, with code/reason: ${i.code}/${i.reason}`)},this.close(),a==null||a.call(e,{code:4001,reason:`Quick discarding socket (#${r}) without waiting for the shutdown sequence.`,wasClean:!1})}}const cn={LF:`
`,NULL:"\0"};class us{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){const{command:s,headers:n,body:r,binaryBody:a,escapeHeaderValues:i,skipContentLengthHeader:l}=t;this.command=s,this.headers=Object.assign({},n||{}),a?(this._binaryBody=a,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=i||!1,this.skipContentLengthHeader=l||!1}static fromRawFrame(t,s){const n={},r=a=>a.replace(/^\s+|\s+$/g,"");for(const a of t.headers.reverse()){a.indexOf(":");const i=r(a[0]);let l=r(a[1]);s&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=us.hdrValueUnEscape(l)),n[i]=l}return new us({command:t.command,headers:n,binaryBody:t.binaryBody,escapeHeaderValues:s})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?us.toUnit8Array(t,this._binaryBody).buffer:t+this._body+cn.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const s of Object.keys(this.headers||{})){const n=this.headers[s];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${s}:${us.hdrValueEscape(`${n}`)}`):t.push(`${s}:${n}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(cn.LF)+cn.LF+cn.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,s){const n=new TextEncoder().encode(t),r=new Uint8Array([0]),a=new Uint8Array(n.length+s.length+r.length);return a.set(n),a.set(s,n.length),a.set(r,n.length+s.length),a}static marshall(t){return new us(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const Lc=0,Yn=10,Qn=13,v5=58;class g5{constructor(t,s){this.onFrame=t,this.onIncomingPing=s,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,s=!1){let n;if(typeof t=="string"?n=this._encoder.encode(t):n=new Uint8Array(t),s&&n[n.length-1]!==0){const r=new Uint8Array(n.length+1);r.set(n,0),r[n.length]=0,n=r}for(let r=0;r<n.length;r++){const a=n[r];this._onByte(a)}}_collectFrame(t){if(t!==Lc&&t!==Qn){if(t===Yn){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==Qn){if(t===Yn){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==Qn){if(t===Yn){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===v5){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==Qn){if(t===Yn){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(s=>s[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===Lc){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var ds;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(ds||(ds={}));var $t;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})($t||($t={}));var br;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(br||(br={}));var An;(function(e){e.Interval="interval",e.Worker="worker"})(An||(An={}));class y5{constructor(t,s=An.Interval,n){this._interval=t,this._strategy=s,this._debug=n,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===An.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=s=>t(s.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const s=Date.now();this._timer=setInterval(()=>{t(Date.now()-s)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class it{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}it.V1_0="1.0";it.V1_1="1.1";it.V1_2="1.2";it.default=new it([it.V1_2,it.V1_1,it.V1_0]);class _5{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,s,n){this._client=t,this._webSocket=s,this._connected=!1,this._serverFrameHandlers={CONNECTED:r=>{this.debug(`connected to server ${r.headers.server}`),this._connected=!0,this._connectedVersion=r.headers.version,this._connectedVersion===it.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(r.headers),this.onConnect(r)},MESSAGE:r=>{const a=r.headers.subscription,i=this._subscriptions[a]||this.onUnhandledMessage,l=r,c=this,f=this._connectedVersion===it.V1_2?l.headers.ack:l.headers["message-id"];l.ack=(u={})=>c.ack(f,a,u),l.nack=(u={})=>c.nack(f,a,u),i(l)},RECEIPT:r=>{const a=this._receiptWatchers[r.headers["receipt-id"]];a?(a(r),delete this._receiptWatchers[r.headers["receipt-id"]]):this.onUnhandledReceipt(r)},ERROR:r=>{this.onStompError(r)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=n.debug,this.stompVersions=n.stompVersions,this.connectHeaders=n.connectHeaders,this.disconnectHeaders=n.disconnectHeaders,this.heartbeatIncoming=n.heartbeatIncoming,this.heartbeatOutgoing=n.heartbeatOutgoing,this.splitLargeFrames=n.splitLargeFrames,this.maxWebSocketChunkSize=n.maxWebSocketChunkSize,this.forceBinaryWSFrames=n.forceBinaryWSFrames,this.logRawCommunication=n.logRawCommunication,this.appendMissingNULLonIncoming=n.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=n.discardWebsocketOnCommFailure,this.onConnect=n.onConnect,this.onDisconnect=n.onDisconnect,this.onStompError=n.onStompError,this.onWebSocketClose=n.onWebSocketClose,this.onWebSocketError=n.onWebSocketError,this.onUnhandledMessage=n.onUnhandledMessage,this.onUnhandledReceipt=n.onUnhandledReceipt,this.onUnhandledFrame=n.onUnhandledFrame}start(){const t=new g5(s=>{const n=us.fromRawFrame(s,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${n}`),(this._serverFrameHandlers[n.command]||this.onUnhandledFrame)(n)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=s=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const n=s.data instanceof ArrayBuffer?new TextDecoder().decode(s.data):s.data;this.debug(`<<< ${n}`)}t.parseChunk(s.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=s=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(s)},this._webSocket.onerror=s=>{this.onWebSocketError(s)},this._webSocket.onopen=()=>{const s=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),s["accept-version"]=this.stompVersions.supportedVersions(),s["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:s})}}_setupHeartbeat(t){if(t.version!==it.V1_1&&t.version!==it.V1_2||!t["heart-beat"])return;const[s,n]=t["heart-beat"].split(",").map(r=>parseInt(r,10));if(this.heartbeatOutgoing!==0&&n!==0){const r=Math.max(this.heartbeatOutgoing,n);this.debug(`send PING every ${r}ms`),this._pinger=new y5(r,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===ds.OPEN&&(this._webSocket.send(cn.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&s!==0){const r=Math.max(this.heartbeatIncoming,s);this.debug(`check PONG every ${r}ms`),this._ponger=setInterval(()=>{const a=Date.now()-this._lastServerActivityTS;a>r*2&&(this.debug(`did not receive server activity for the last ${a}ms`),this._closeOrDiscardWebsocket())},r)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===ds.CONNECTING||this._webSocket.readyState===ds.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&m5(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:s,headers:n,body:r,binaryBody:a,skipContentLengthHeader:i}=t,l=new us({command:s,headers:n,body:r,binaryBody:a,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:i});let c=l.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${l}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let f=c;for(;f.length>0;){const u=f.substring(0,this.maxWebSocketChunkSize);f=f.substring(this.maxWebSocketChunkSize),this._webSocket.send(u),this.debug(`chunk sent = ${u.length}, remaining = ${f.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,s=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(s)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===ds.CONNECTING||this._webSocket.readyState===ds.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:s,headers:n,body:r,binaryBody:a,skipContentLengthHeader:i}=t,l=Object.assign({destination:s},n);this._transmit({command:"SEND",headers:l,body:r,binaryBody:a,skipContentLengthHeader:i})}watchForReceipt(t,s){this._receiptWatchers[t]=s}subscribe(t,s,n={}){n=Object.assign({},n),n.id||(n.id=`sub-${this._counter++}`),n.destination=t,this._subscriptions[n.id]=s,this._transmit({command:"SUBSCRIBE",headers:n});const r=this;return{id:n.id,unsubscribe(a){return r.unsubscribe(n.id,a)}}}unsubscribe(t,s={}){s=Object.assign({},s),delete this._subscriptions[t],s.id=t,this._transmit({command:"UNSUBSCRIBE",headers:s})}begin(t){const s=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:s}});const n=this;return{id:s,commit(){n.commit(s)},abort(){n.abort(s)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,s,n={}){n=Object.assign({},n),this._connectedVersion===it.V1_2?n.id=t:n["message-id"]=t,n.subscription=s,this._transmit({command:"ACK",headers:n})}nack(t,s,n={}){return n=Object.assign({},n),this._connectedVersion===it.V1_2?n.id=t:n["message-id"]=t,n.subscription=s,this._transmit({command:"NACK",headers:n})}}class b5{get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===$t.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=it.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=br.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=An.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=$t.INACTIVE;const s=()=>{};this.debug=s,this.beforeConnect=s,this.onConnect=s,this.onDisconnect=s,this.onUnhandledMessage=s,this.onUnhandledReceipt=s,this.onUnhandledFrame=s,this.onStompError=s,this.onWebSocketClose=s,this.onWebSocketError=s,this.logRawCommunication=!1,this.onChangeState=s,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState($t.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===$t.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new _5(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:s=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(s)},onDisconnect:s=>{this.onDisconnect(s)},onStompError:s=>{this.onStompError(s)},onWebSocketClose:s=>{this._stompHandler=void 0,this.state===$t.DEACTIVATING&&this._changeState($t.INACTIVE),this.onWebSocketClose(s),this.active&&this._schedule_reconnect()},onWebSocketError:s=>{this.onWebSocketError(s)},onUnhandledMessage:s=>{this.onUnhandledMessage(s)},onUnhandledReceipt:s=>{this.onUnhandledReceipt(s)},onUnhandledFrame:s=>{this.onUnhandledFrame(s)}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===br.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(t={}){var a;const s=t.force||!1,n=this.active;let r;if(this.state===$t.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState($t.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==ds.CLOSED){const i=this._stompHandler.onWebSocketClose;r=new Promise((l,c)=>{this._stompHandler.onWebSocketClose=f=>{i(f),l()}})}else return this._changeState($t.INACTIVE),Promise.resolve();return s?(a=this._stompHandler)==null||a.discardWebsocket():n&&this._disposeStompHandler(),r}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,s){this._checkConnection(),this._stompHandler.watchForReceipt(t,s)}subscribe(t,s,n={}){return this._checkConnection(),this._stompHandler.subscribe(t,s,n)}unsubscribe(t,s={}){this._checkConnection(),this._stompHandler.unsubscribe(t,s)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,s,n={}){this._checkConnection(),this._stompHandler.ack(t,s,n)}nack(t,s,n={}){this._checkConnection(),this._stompHandler.nack(t,s,n)}}const Dc={"heart-eyes":"/stickers/heart-eyes.png","megaphone-shout":"/stickers/megaphone-shout.png","fast-fly":"/stickers/fast-fly.png","thumbs-up":"/stickers/thumbs-up.png","bear-angry":"/stickers/bear-angry.png","bear-balloon":"/stickers/bear-balloon.png","bear-hi:":"/stickers/bear-hi.png","bear-idea":"/stickers/bear-idea.png","bear-nope":"/stickers/bear-nope.png","bear-proud":"/stickers/bear-proud.png","bear-sad":"/stickers/bear-sad.png"},Re=ss({userId:"",currentUser:""});class w5{constructor(){this.isInitialized=!1,this.init()}init(){this.isInitialized||(console.log("🌉 사용자 상태 브리지 초기화"),this.syncFromUserStoreToUserState(),this.syncFromUserStateToUserStore(),this.performInitialSync(),this.isInitialized=!0)}syncFromUserStoreToUserState(){Ge(()=>ce.id,(t,s)=>{t!==s&&(console.log("🔄 [헤더->채팅] ID 동기화:",t),Re.userId=t||"",Re.id=t)}),Ge(()=>ce.name,(t,s)=>{t!==s&&(console.log("🔄 [헤더->채팅] 이름 동기화:",t),Re.currentUser=t||"",Re.name=t)}),Ge(()=>ce.email,(t,s)=>{t!==s&&(console.log("🔄 [헤더->채팅] 이메일 동기화:",t),Re.email=t)}),Ge(()=>ce.role,(t,s)=>{t!==s&&(console.log("🔄 [헤더->채팅] 역할 동기화:",t),Re.role=t)})}syncFromUserStateToUserStore(){Ge(()=>Re.id,(t,s)=>{t!==s&&t!==ce.id&&(console.log("🔄 [채팅->헤더] ID 동기화:",t),ce.id=t,Re.userId=t||"")}),Ge(()=>Re.name,(t,s)=>{t!==s&&t!==ce.name&&(console.log("🔄 [채팅->헤더] 이름 동기화:",t),ce.name=t,Re.currentUser=t||"")}),Ge(()=>Re.currentUser,(t,s)=>{t!==s&&t!==ce.name&&(console.log("🔄 [채팅->헤더] 현재사용자 동기화:",t),ce.name=t,Re.name=t)}),Ge(()=>Re.userId,(t,s)=>{t!==s&&t!==ce.id&&(console.log("🔄 [채팅->헤더] 사용자ID 동기화:",t),ce.id=t,Re.id=t)})}performInitialSync(){console.log("🔄 초기 동기화 실행"),ce.id&&(Re.id=ce.id,Re.userId=ce.id),ce.name&&(Re.name=ce.name,Re.currentUser=ce.name),ce.email&&(Re.email=ce.email),ce.role&&(Re.role=ce.role),console.log("✅ 초기 동기화 완료:",{헤더:{id:ce.id,name:ce.name,email:ce.email,role:ce.role},채팅:{id:Re.id,name:Re.name,currentUser:Re.currentUser,userId:Re.userId}})}forceSync(){console.log("🔄 강제 동기화 실행"),this.performInitialSync()}checkSync(){console.log("🔍 동기화 상태 확인:",{헤더상태:{id:ce.id,name:ce.name,email:ce.email,role:ce.role,phone:ce.phone},채팅상태:{id:Re.id,name:Re.name,currentUser:Re.currentUser,userId:Re.userId,email:Re.email,role:Re.role,phone:Re.phone},토큰정보:{hasToken:!!localStorage.getItem("jwt"),loginType:localStorage.getItem("login_type"),socialProvider:localStorage.getItem("social_provider"),socialName:localStorage.getItem("social_name")}})}}const Et=new w5;typeof window<"u"&&(window.userStateBridge={forceSync:()=>Et.forceSync(),checkSync:()=>Et.checkSync(),bridge:Et});const k5={class:"chat-container"},S5={class:"chat-main"},C5={key:0,class:"system-box"},I5={key:1,class:"chat-line"},$5={key:0,class:"nickname"},E5={class:"bubble"},x5=["src"],T5={key:1,class:"chat-content"},A5={class:"chat-input"},R5=["placeholder"],P5=["disabled"],O5={key:1,class:"chat-tools"},N5={class:"tools-header"},L5={class:"tab-buttons"},D5={class:"sticker-list"},M5=["src","onClick"],U5={key:0,class:"login-popup-overlay"},j5={class:"login-popup"},B5={class:"popup-buttons"},ca=5,q5={__name:"ChatCommon",props:{class:String,broadcastId:{type:[Number,String],required:!0,default:0},role:{type:String,default:"user"}},setup(e,{expose:t}){const s=e,n=ke(()=>{const ee=typeof s.broadcastId=="string"?parseInt(s.broadcastId):s.broadcastId;return console.log("📌 broadcastId 변환:",s.broadcastId,"->",ee),ee}),r=Qe(),a=H(!1),i=H(!1),l=H([]),c=H(""),f=H(null),u=H(null),d=H(!1),m=H(!1),y=H(!0),P=H("bear"),R=H(""),N=H(!1),M=H(!1),E=H(0),O=H("disconnected"),S=ke(()=>Re.currentUser||Re.name||null),A=ke(()=>Re.userId||Re.id||null),k=ee=>String(ee||"").trim(),w=ee=>k(ee.from)===k(S.value),C=ke(()=>Object.fromEntries(Object.entries(Dc).filter(([ee])=>ee.startsWith(P.value)))),z=ke(()=>R.value.length>10),X=ke(()=>R.value.trim()!==""?R.value:"등록된 공지사항이 없습니다.");let J=null,x=null;const q=()=>{if(console.log("🔄 WebSocket 연결 시도 중... (시도 횟수:",E.value+1,")"),O.value==="connecting"){console.log("⏳ 이미 연결 중입니다.");return}if(O.value="connecting",M.value=!0,x)try{x.deactivate()}catch(ae){console.warn("⚠️ 기존 연결 정리 중 오류:",ae)}const ee="http://***.***.*.***:****/ws-chat";console.log("🌐 WebSocket URL:",ee);try{J=new h5(ee),x=new b5({webSocketFactory:()=>(console.log("🛰️ [WebSocketFactory] SockJS 연결 생성"),J),reconnectDelay:5e3,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:ae=>{console.log("✅ [STOMP] 연결 성공!",ae),O.value="connected",M.value=!1,E.value=0,l.value.push({text:"✅ 채팅방에 연결되었습니다.",systemOnly:!0}),x.subscribe("/topic/public",Y=>{console.log("📩 [STOMP] 수신 메시지:",Y.body);try{const p=JSON.parse(Y.body);if(p.type==="notice"){console.log("📢 [공지 메시지 수신]",p.text),R.value=p.text.trim()||"";return}l.value.push(p),Ht(()=>{j()?g():m.value=!0})}catch(p){console.error("❌ 메시지 파싱 오류:",p)}})},onStompError:ae=>{console.error("❌ [STOMP ERROR]",ae),O.value="failed",M.value=!1,E.value<ca?(E.value++,console.log(`🔄 재연결 시도 ${E.value}/${ca} (5초 후)`),l.value.push({text:`🔄 채팅 서버 재연결 시도 중... (${E.value}/${ca})`,systemOnly:!0}),setTimeout(()=>{q()},5e3)):(console.error("❌ 최대 재연결 시도 횟수 초과"),O.value="failed",l.value.push({text:"❌ 채팅 서버 연결에 실패했습니다. 페이지를 새로고침 해주세요.",systemOnly:!0}))},onWebSocketError:ae=>{console.error("❌ [WebSocket ERROR]",ae),O.value="failed",M.value=!1},onDisconnect:ae=>{console.log("🔌 [STOMP] 연결 종료",ae),O.value="disconnected",M.value=!1,l.value.push({text:"🔌 채팅 서버 연결이 끊어졌습니다.",systemOnly:!0})}}),x.activate()}catch(ae){console.error("❌ WebSocket 연결 생성 실패:",ae),O.value="failed",M.value=!1}},se=async()=>{var ae;if(console.log("🔍 사용자 정보 로드 시작"),Et.checkSync(),S.value&&A.value){console.log("✅ 브리지에서 사용자 정보 확인됨:",S.value),a.value=!0;return}const ee=localStorage.getItem("jwt")||sessionStorage.getItem("jwt");if(console.log("🔍 토큰 존재:",!!ee),ee)try{console.log("📡 사용자 프로필 API 호출");const Y=await He.get("/api/users/profile",{headers:{Authorization:`Bearer ${ee}`}});if(console.log("📡 API 응답:",Y.data),Y.data){let p=Y.data;Y.data.success&&Y.data.data&&(p=Y.data.data);const h=p.nickname||p.name||p.username||p.userName,I=p.userId||p.id||p.user_id;console.log("🔍 추출된 정보:"),console.log("- nickname:",h),console.log("- userId:",I),h?(Re.currentUser=h,Re.userId=I,Re.name=h,Re.id=I,Re.email=p.email,Re.role=p.role||"USER",Re.phone=p.phone,a.value=!0,console.log("✅ 사용자 정보 설정 성공 (브리지 통해):",h),Et.forceSync()):(console.error("❌ 사용자 닉네임을 찾을 수 없음"),console.log("📋 사용 가능한 필드:",Object.keys(p)))}else console.error("❌ 빈 응답 데이터")}catch(Y){console.error("❌ 사용자 정보 조회 실패:",Y),((ae=Y.response)==null?void 0:ae.status)===401&&(console.log("🗑️ 만료된 토큰 제거"),localStorage.removeItem("jwt"),sessionStorage.removeItem("jwt"),a.value=!1)}else console.log("⚠️ 토큰 없음 - 로그인 필요"),a.value=!1;console.log("✅ 사용자 정보 로드 완료:"),console.log("- currentUser:",S.value),console.log("- currentUserId:",A.value),console.log("- isLoggedIn:",a.value)},ie=async()=>{try{const ae=(await He.get(`/api/chat/history/${n.value}`)).data||[];l.value.push(...ae.filter(p=>p.type!=="notice"));const Y=[...ae].reverse().find(p=>p.type==="notice");Y&&Y.text.trim()&&(R.value=Y.text.trim()),console.log("✅ 채팅 히스토리 로드 성공:",ae.length,"개 메시지")}catch(ee){console.error("❌ 채팅 기록 조회 실패:",ee)}},he=()=>{if(console.log("🔍 sendMessage 호출"),console.log("- 연결 상태:",O.value),console.log("- STOMP 연결:",x==null?void 0:x.connected),console.log("- 사용자 정보:",S.value),console.log("- 로그인 상태:",a.value),!c.value.trim()){console.log("❌ 빈 메시지");return}if(!a.value){console.log("❌ 로그인 안됨 - 로그인 모달 표시"),i.value=!0;return}if(!S.value&&(console.log("❌ 사용자 정보 없음 - 브리지 상태 확인"),Et.checkSync(),!S.value)){console.log("❌ 브리지 후에도 사용자 정보 없음 - 재로드 시도"),se().then(()=>{console.log("🔄 사용자 정보 재로드 완료:",S.value),S.value?(console.log("✅ 재로드 성공 - 메시지 전송 재시도"),he()):(console.log("❌ 재로드 실패 - 로그인 필요"),i.value=!0)});return}if(O.value!=="connected"||!x||!x.connected){console.error("❌ WebSocket 연결 안됨 - 상태:",O.value),O.value!=="connecting"&&(console.log("🔄 재연결 시도"),q()),l.value.push({text:"🔄 채팅 서버에 연결 중입니다. 잠시 후 다시 시도해주세요.",systemOnly:!0});return}const ee={from:S.value,text:c.value.trim(),type:"text",broadcastId:n.value,userId:A.value};console.log("📤 메시지 전송:",ee);try{x.publish({destination:"/app/sendMessage",body:JSON.stringify(ee)}),c.value="",v(),console.log("✅ 메시지 전송 성공")}catch(ae){console.error("❌ 메시지 전송 실패:",ae),l.value.push({text:"❌ 메시지 전송에 실패했습니다. 다시 시도해주세요.",systemOnly:!0})}},te=ee=>{if(O.value!=="connected"||!x||!x.connected){console.error("❌ WebSocket 연결 안됨 - 공지사항 전송 불가");return}const ae={from:S.value,type:"notice",text:ee||"",broadcastId:n.value,userId:A.value};console.log("📢 공지사항 전송:",ae),x.publish({destination:"/app/sendMessage",body:JSON.stringify(ae)})},L=ee=>{if(!a.value){i.value=!0;return}if(O.value!=="connected"||!x||!x.connected){console.error("❌ WebSocket 연결 안됨 - 스티커 전송 불가");return}const ae={from:S.value,type:"sticker",text:ee,broadcastId:n.value,userId:A.value};console.log("📤 스티커 전송:",ae),x.publish({destination:"/app/sendMessage",body:JSON.stringify(ae)}),d.value=!1,v()},v=()=>Ht(()=>{var ee;return(ee=u.value)==null?void 0:ee.focus()}),g=()=>{Ht(()=>{const ee=f.value;ee&&(ee.scrollTo({top:ee.scrollHeight,behavior:"smooth"}),m.value=!1)})},j=(ee=200)=>{const ae=f.value;return!ae||ae.scrollHeight-ae.scrollTop-ae.clientHeight<ee},D=()=>{m.value=!j(200)},$=()=>{d.value=!d.value,v(),d.value&&g()},F=()=>r.push("/login"),re=ee=>{a.value||(ee.target.blur(),i.value=!0)},de=()=>{N.value=!N.value},V=()=>{console.log("🔍 WebSocket 연결 상태:"),console.log("- connectionStatus:",O.value),console.log("- stompClient exists:",!!x),console.log("- stompClient.connected:",x==null?void 0:x.connected),console.log("- isConnecting:",M.value),console.log("- connectionRetries:",E.value),console.log("- currentUser:",S.value),console.log("- currentUserId:",A.value),console.log("- isLoggedIn:",a.value),console.log("- broadcastId:",n.value),Et.checkSync()},oe=()=>{console.log("🔄 수동 재연결 시도"),E.value=0,O.value="disconnected",q()};return Ze(async()=>{console.log("🚀 ChatCommon 마운트 시작 - broadcastId:",n.value),Et.forceSync(),await se(),await ie(),setTimeout(()=>{q()},1e3),y.value=!1,g(),console.log("✅ 마운트 완료 - 사용자 정보:",S.value)}),Js(()=>{console.log("🧹 ChatCommon 언마운트 - 연결 정리"),O.value="disconnected",x&&x.deactivate()}),t({sendNotice:te,checkWebSocketConnection:V,reconnect:oe}),typeof window<"u"&&(window.chatDebug={checkWebSocketConnection:V,reconnect:oe,sendMessage:he,stompClient:()=>x,userState:Re,currentUser:S,currentUserId:A,isLoggedIn:a,newMessage:c,connectionStatus:O,isConnecting:M,connectionRetries:E,bridge:Et,forceSync:()=>Et.forceSync(),checkSync:()=>Et.checkSync()}),(ee,ae)=>(_(),b("div",k5,[o("div",{class:$e(["notice-banner",{expanded:N.value}])},[o("div",{class:$e(["notice-text",{expanded:N.value}])}," 📢 "+T(X.value),3),z.value?(_(),b("button",{key:0,class:"notice-toggle-btn",onClick:de},T(N.value?"접기":"더보기"),1)):G("",!0)],2),o("div",S5,[o("div",{class:"chat-messages",ref_key:"messagesContainer",ref:f,onScroll:D},[(_(!0),b(Ee,null,De(l.value,(Y,p)=>(_(),b("div",{key:p,class:$e(["chat-message",Y.systemOnly?"system-message":w(Y)?"my-message":"other-message"])},[Y.systemOnly?(_(),b("div",C5,T(Y.text),1)):(_(),b("div",I5,[w(Y)?G("",!0):(_(),b("div",$5,T(Y.from),1)),o("div",E5,[Y.type==="sticker"?(_(),b("img",{key:0,src:Ne(Dc)[Y.text],class:"chat-sticker"},null,8,x5)):(_(),b("span",T5,T(Y.text),1))])]))],2))),128))],544),m.value?(_(),b("div",{key:0,class:"scroll-to-bottom",onClick:g}," 최근 메시지로 이동 ")):G("",!0),o("div",A5,[_e(o("input",{ref_key:"inputRef",ref:u,"onUpdate:modelValue":ae[0]||(ae[0]=Y=>c.value=Y),onFocus:re,onKeyup:Pr(he,["enter"]),placeholder:a.value.value?"메시지를 입력하세요":"로그인 후 사용가능"},null,40,R5),[[Te,c.value]]),o("button",{onClick:he,disabled:!a.value||!c.value.trim()},"전송",8,P5),o("button",{onClick:$,class:"tools-toggle"},"😎")]),d.value?(_(),b("div",O5,[o("div",N5,[o("div",L5,[o("button",{class:$e({active:P.value==="bear"}),onClick:ae[1]||(ae[1]=Y=>P.value="bear")},"🐻",2),o("button",{class:$e({active:P.value==="rabbit"}),onClick:ae[2]||(ae[2]=Y=>P.value="rabbit")},"🐰",2)]),o("button",{class:"close-tools",onClick:ae[3]||(ae[3]=Y=>d.value=!1)},"✖")]),o("div",D5,[(_(!0),b(Ee,null,De(C.value,(Y,p)=>(_(),b("img",{key:p,src:Y,class:"sticker-item",onClick:()=>L(p)},null,8,M5))),128))])])):G("",!0)]),i.value?(_(),b("div",U5,[o("div",j5,[ae[5]||(ae[5]=o("p",null,"로그인 후 채팅이 가능합니다.",-1)),o("div",B5,[o("button",{onClick:F},"로그인 하고 채팅 참여하기"),o("button",{onClick:ae[4]||(ae[4]=Y=>i.value=!1)},"로그인 없이 방송 시청하기")])])])):G("",!0)]))}},oi=ze(q5,[["__scopeId","data-v-cef8bbf6"]]),H5={class:"live-broadcast-viewer"},F5={key:0,class:"loading-container"},V5={key:1,class:"error-container"},W5={key:2,class:"broadcast-content"},z5={class:"broadcast-header"},J5={class:"channel-info"},G5={class:"channel-logo"},K5=["src","alt"],Z5={class:"channel-details"},X5={class:"broadcast-title"},Y5={class:"channel-stats"},Q5={class:"live-badge"},ex={class:"viewer-count"},tx={class:"duration"},sx={class:"main-content"},nx={class:"video-section"},rx={class:"video-player"},ox=["poster"],ax=["src"],ix={key:0,class:"stream-info"},lx={class:"stream-status"},cx={class:"status-text"},ux={class:"sidebar"},dx={class:"product-list",ref:"productList"},fx={class:"section-header"},px=["onClick"],hx={key:0,class:"product-badge"},mx={class:"product-info"},vx={class:"product-name"},gx={class:"product-price"},yx={class:"price"},_x={__name:"BroadcastViewer",setup(e){const t=Vt(),s=Qe(),n=Number(t.params.broadcastId),r=H(!0),a=H(null),i=H(null),l=H([]),c=H(null),f=H(!1),u=H({url:null,status:"disconnected"}),d=H(null);let m=null,y=null;ke(()=>l.value.find(D=>D.isFeatured)||l.value[0]||null);const P=D=>{if(!D||!D.productId){console.error("상품 정보가 없습니다:",D),alert("상품 정보를 찾을 수 없습니다.");return}console.log("상품 상세페이지로 이동:",D.productId);try{s.push(`/product/${D.productId}`)}catch($){console.error("라우터 이동 실패:",$),window.location.href=`/product/${D.productId}`}},R=()=>{try{s.push("/products")}catch(D){console.error("전체 상품 페이지 이동 실패:",D),window.location.href="/products"}},N=()=>{if(c.value){const D=c.value;D.videoWidth/D.videoHeight<.75?videoAspectRatio.value="vertical":videoAspectRatio.value="horizontal";const F=D.closest(".video-player");F&&(F.classList.remove("vertical-video","horizontal-video"),F.classList.add(`${videoAspectRatio.value}-video`)),u.value.status="connected"}},M=D=>{if(D){if(D.streamUrl)d.value=D.streamUrl,u.value.url=D.streamUrl;else{const $=D.stream_key||D.broadcast_id,F=D.nginx_host||"localhost";d.value=`http://${F}:8080/hls/${$}/index.m3u8`,u.value.url=d.value}E()}},E=async()=>{if(!c.value&&(await Ht(),!c.value)){setTimeout(()=>{E()},100);return}d.value&&await O()},O=async()=>{if(!(!d.value||!c.value))try{window.Hls&&window.Hls.isSupported()?(m=new window.Hls({enableWorker:!0,lowLatencyMode:!0,backBufferLength:90,debug:!1}),m.on(window.Hls.Events.MANIFEST_PARSED,()=>{u.value.status="connected",c.value.play().catch(()=>{})}),m.on(window.Hls.Events.ERROR,(D,$)=>{u.value.status="error",$.fatal&&A($)}),m.loadSource(d.value),m.attachMedia(c.value)):S()}catch{u.value.status="error"}},S=()=>{c.value.canPlayType("application/vnd.apple.mpegurl")?(c.value.src=d.value,u.value.status="connected",c.value.play().catch(()=>{})):(u.value.status="error",c.value.src=d.value)},A=D=>{D.type==="networkError"?setTimeout(()=>{O()},3e3):D.type==="mediaError"&&m&&m.recoverMediaError()},k=async()=>{var D,$,F;try{r.value=!0,a.value=null;const re=t.params.broadcastId,de=await Ie.get(`/api/broadcast/${re}`);if(i.value=de.data,!i.value.streamUrl){a.value="스트림 URL이 설정되지 않았습니다.";return}await Ht(),M(i.value);const V=await Ie.get(`/api/broadcast/${re}/products`);l.value=V.data.map(oe=>({...oe,getDiscountPercent:()=>oe.price&&oe.salePrice&&oe.price>0?Math.round((oe.price-oe.salePrice)/oe.price*100):0,getFinalPrice:()=>oe.specialPrice||oe.salePrice})),await x(),q()}catch(re){((D=re.response)==null?void 0:D.status)===401||(a.value=((F=($=re.response)==null?void 0:$.data)==null?void 0:F.message)||"방송 정보를 불러오는데 실패했습니다")}finally{r.value=!1}},w=()=>{u.value.status="connecting"},C=()=>{u.value.status="connected",videoAspectRatio.value==="unknown"&&N()},z=D=>{u.value.status="error"},X=()=>{f.value=!0},J=()=>{f.value=!1},x=async()=>{try{const D=t.params.broadcastId;await Ie.post(`/api/broadcast/${D}/view`,{})}catch{}},q=()=>{y=setInterval(async()=>{try{const D=t.params.broadcastId,$=await Ie.get(`/api/broadcast/${D}/status`);$.data&&i.value&&(i.value.current_viewers=$.data.currentViewers,i.value.like_count=$.data.likeCount,i.value.broadcast_status=$.data.broadcastStatus)}catch{}},1e4)},se=()=>{y&&(clearInterval(y),y=null)},ie=()=>({connected:"연결됨",connecting:"연결 중...",disconnected:"연결 안됨",error:"오류 발생"})[u.value.status]||"알 수 없음",he=D=>({live:"LIVE",starting:"시작중",paused:"일시정지",scheduled:"예정",ended:"종료",cancelled:"취소"})[D]||"LIVE",te=D=>D?D>=1e3?`${(D/1e3).toFixed(1)}k`:D.toString():"0",L=D=>D?D.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0",v=D=>{if(!D)return"진행 중";const $=new Date(D),re=Math.floor((new Date-$)/(1e3*60));if(re<60)return`${re}분`;{const de=Math.floor(re/60),V=re%60;return`${de}시간 ${V}분`}},g=D=>`https://picsum.photos/seed/user${D}/40/40`,j=()=>new Promise((D,$)=>{if(window.Hls){D(window.Hls);return}const F=document.createElement("script");F.src="https://cdnjs.cloudflare.com/ajax/libs/hls.js/1.4.10/hls.min.js",F.onload=()=>D(window.Hls),F.onerror=$,document.head.appendChild(F)});return Ze(async()=>{try{await j()}catch{}await k(),window.addEventListener("beforeunload",()=>{m&&m.destroy()})}),Js(()=>{m&&(m.destroy(),m=null),se()}),(D,$)=>(_(),b("div",H5,[r.value?(_(),b("div",F5,$[0]||($[0]=[o("div",{class:"loading-spinner"},null,-1),o("p",null,"방송 정보를 불러오는 중...",-1)]))):a.value?(_(),b("div",V5,[$[1]||($[1]=o("div",{class:"error-icon"},"⚠️",-1)),$[2]||($[2]=o("h3",null,"방송을 불러오는데 실패했습니다",-1)),o("p",null,T(a.value),1),o("button",{onClick:k,class:"retry-button"},"다시 시도")])):i.value?(_(),b("div",W5,[o("div",z5,[o("div",J5,[o("div",G5,[o("img",{src:g(i.value.broadcaster_id),alt:i.value.broadcaster_name},null,8,K5)]),o("div",Z5,[o("h1",X5,T(i.value.title),1),o("div",Y5,[o("span",Q5,T(he(i.value.broadcast_status)),1),o("span",ex,T(te(i.value.current_viewers))+" 시청",1),o("span",tx,T(v(i.value.actual_start_time)),1)])])])]),o("div",sx,[o("div",nx,[o("div",rx,[o("video",{ref_key:"videoPlayer",ref:c,class:"video-element",poster:i.value.thumbnail_url,controls:"",autoplay:"",muted:"",playsinline:"",onLoadstart:w,onLoadedmetadata:N,onCanplay:C,onError:z,onPlay:X,onPause:J},[d.value?(_(),b("source",{key:0,src:d.value,type:"application/x-mpegURL"},null,8,ax)):G("",!0),$[3]||($[3]=ge(" 브라우저가 비디오를 지원하지 않습니다. "))],40,ox),u.value.url?(_(),b("div",ix,[o("div",lx,[o("span",{class:$e(["status-indicator",u.value.status])},null,2),o("span",cx,T(ie()),1)])])):G("",!0)])]),o("div",ux,[o("div",dx,[o("div",fx,[o("h3",null,"방송 상품 ("+T(l.value.length)+"개)",1)]),(_(!0),b(Ee,null,De(l.value,F=>(_(),b("div",{class:"product-item",key:F.productId,onClick:re=>P(F),style:{cursor:"pointer"}},[F.getDiscountPercent()>0?(_(),b("div",hx,T(F.getDiscountPercent())+"% ",1)):G("",!0),o("div",mx,[o("h4",vx,T(F.name),1),o("div",gx,[o("span",yx,T(L(F.getFinalPrice()))+"원",1)])])],8,px))),128)),l.value.length>0?(_(),b("button",{key:0,class:"view-more-btn",onClick:R}," 상품 "+T(l.value.length)+"개 전체 보기 ",1)):G("",!0)],512),we(oi,{"broadcast-id":Ne(n)},null,8,["broadcast-id"])])])])):G("",!0)]))}},bx=ze(_x,[["__scopeId","data-v-e6877ec0"]]),wx={class:"calendar-container bg-light border-bottom"},kx={class:"container-fluid"},Sx={class:"d-flex align-items-center justify-content-start py-2"},Cx={class:"d-flex gap-1 mx-2",style:{"overflow-x":"auto","white-space":"nowrap"}},Ix=["onClick"],$x={class:"fw-normal",style:{"font-size":"10px","line-height":"1"}},Ex={class:"fw-bold",style:{"font-size":"16px","line-height":"1"}},xx={class:"ms-auto"},Tx={class:"broadcast-schedule-container"},Ax={class:"container-fluid py-3"},Rx={key:0,class:"text-center py-5"},Px={key:1},Ox={class:"broadcast-list"},Nx=["onClick"],Lx={class:"time-display d-flex align-items-center justify-content-center"},Dx={class:"time-text"},Mx={key:0,class:"past-indicator"},Ux={class:"broadcast-thumbnail"},jx=["src","alt"],Bx={key:0,class:"live-overlay"},qx={key:1,class:"past-overlay"},Hx={class:"text-white"},Fx={class:"broadcast-info"},Vx={key:0,class:"badge bg-danger ms-2"},Wx={key:0,class:"product-section"},zx={class:"product-icon-name"},Jx={class:"product-name"},Gx={key:0,class:"price-section"},Kx={class:"sale-price"},Zx={class:"broadcaster-name"},Xx={class:"broadcast-action"},Yx=["onClick","disabled"],Qx={key:0},eT={key:1},tT={key:1,class:"live-status"},sT=["onClick"],nT={key:2,class:"ended-status"},rT=["onClick"],oT={key:3,class:"paused-status"},aT={key:4,class:"starting-status"},iT={key:5,class:"past-scheduled-status"},lT={key:2,class:"no-broadcasts text-center py-5"},cT={class:"text-muted"},uT={__name:"Calendar",setup(e){const t=H(!1),s=H(!1),n=H("disconnected"),r=H(new Date),a=H(new Date),i=["일","월","화","수","목","금","토"],l=H([]),c=g=>{console.log("방송 데이터 전체:",g);const j=["scheduledStartTime","scheduled_start_time","startTime","start_time","broadcastStartTime","broadcast_start_time"];for(const D of j)if(g[D])return console.log(`시간 필드 발견: ${D} = ${g[D]}`),new Date(g[D]);return console.log("시간 필드를 찾을 수 없음"),null},f=g=>{const j=c(g);if(!j||isNaN(j.getTime()))return console.log("유효하지 않은 시작 시간:",j),!1;const D=new Date,$=j<D;return console.log(`시간 체크: ${j.toLocaleString()} < ${D.toLocaleString()} = ${$}`),$},u=g=>g.status&&g.status.trim()==="ended"?!0:d(g),d=g=>g.status&&g.status.trim()!=="scheduled"?!1:f(g),m=g=>{const j=g.status&&g.status.trim()==="scheduled",D=!f(g);return console.log(`알림 버튼 표시 체크: 방송 "${g.title}" - scheduled: ${j}, notPast: ${D}`),j&&D},y=g=>g.status&&g.status.trim()==="ended"?"종료":d(g)?"시간 경과":"종료",P=()=>{if(!a.value)return"오늘";const g=new Date,j=new Date(a.value);return g.setHours(0,0,0,0),j.setHours(0,0,0,0),j.getTime()===g.getTime()?"오늘":j.getTime()===g.getTime()+24*60*60*1e3?"내일":j.getTime()===g.getTime()-24*60*60*1e3?"어제":j.toLocaleDateString("ko-KR",{month:"long",day:"numeric",weekday:"short"})},R=async()=>{try{if((await xt(_r.ENDPOINTS.HEALTH)).ok)return n.value="connected",!0}catch(g){console.error("알림 서버 연결 확인 실패:",g)}return n.value="disconnected",!1},N=async g=>{try{const j=g.getFullYear(),D=String(g.getMonth()+1).padStart(2,"0"),$=String(g.getDate()).padStart(2,"0"),F=`${j}-${D}-${$}`,re=await xt(`${_r.ENDPOINTS.BROADCASTS_SCHEDULE}?date=${F}`);if(re.ok){const de=await re.json();return console.log("서버에서 받은 원본 데이터:",de),de&&Array.isArray(de)?(de.forEach(V=>{V.broadcasts&&Array.isArray(V.broadcasts)&&(V.broadcasts=V.broadcasts.filter(oe=>{const ee=oe.status&&oe.status.trim();if(ee==="ended")return console.log(`종료된 방송 필터링: ${oe.title}`),!1;if(ee==="scheduled"){const ae=c(oe);if(ae&&ae<new Date)return console.log(`시간 지난 예정 방송 필터링: ${oe.title}`),!1}return!0}),V.broadcasts.forEach(oe=>{if(console.log("방송 데이터 처리 전:",oe),!c(oe)&&V.time){const[ee,ae]=V.time.split(":"),Y=new Date(g);Y.setHours(parseInt(ee),parseInt(ae),0,0),oe.scheduledStartTime=Y.toISOString(),console.log(`방송 "${oe.title}"의 시작 시간 설정: ${oe.scheduledStartTime}`)}}))}),de.filter(V=>V.broadcasts&&V.broadcasts.length>0)):de||[]}else return console.error("방송 스케줄 조회 실패:",re.status),[]}catch(j){return console.error("방송 스케줄 조회 중 오류:",j),[]}},M=async g=>{if(g.length===0)return g;try{const j=wl();if(!j.identifier)return console.log("사용자 정보 없음 - 로그인 필요"),g;const D=j.identifier,$=`/subscriptions/users/${D}`;console.log("사용자 구독 상태 조회 시도:",D);try{const F=await xt($);if(F.ok){const re=await F.json();console.log("서버 구독 목록:",re);const de=new Set(re.map(V=>V.broadcastId));return console.log("서버에서 가져온 구독 방송 ID들:",Array.from(de)),E(D,Array.from(de)),g.forEach(V=>{V.broadcasts.forEach(oe=>{const ee=de.has(oe.id);oe.isNotificationSet=ee,ee&&console.log(`방송 "${oe.title}" (ID: ${oe.id}) - 알림 설정됨 (서버 확인)`)})}),g}else throw console.warn("서버 구독 상태 조회 실패:",F.status),new Error("서버 API 실패")}catch(F){console.warn("서버 연결 실패, 로컬 데이터 사용:",F.message);const re=O(D);console.log("⚠️ 오프라인 모드: 로컬 저장소 알림 설정 사용:",re),g.forEach(de=>{de.broadcasts.forEach(V=>{const oe=re.includes(V.id);V.isNotificationSet=oe,oe&&console.log(`방송 "${V.title}" (ID: ${V.id}) - 알림 설정됨 (로컬 캐시)`)})})}}catch(j){console.error("사용자 알림 설정 로드 실패:",j),g.forEach(D=>{D.broadcasts.forEach($=>{$.isNotificationSet=!1})})}return g},E=(g,j)=>{const D=`notifications_${g}`;localStorage.setItem(D,JSON.stringify(j)),console.log("로컬 저장소 동기화 완료:",j)},O=g=>{const j=`notifications_${g}`;return JSON.parse(localStorage.getItem(j)||"[]")},S=async(g=a.value)=>{s.value=!0;try{let j=await N(g);j=await M(j),l.value=j}catch(j){console.error("방송 스케줄 로드 실패:",j),l.value=[]}finally{s.value=!1}},A=ke(()=>{const g=[];for(let j=3;j>0;j--){const D=new Date(r.value);D.setDate(r.value.getDate()-j),g.push(D)}g.push(new Date(r.value));for(let j=1;j<=7;j++){const D=new Date(r.value);D.setDate(r.value.getDate()+j),g.push(D)}return g}),k=g=>{const j=new Date;return g.toDateString()===j.toDateString()},w=g=>g.getMonth()!==r.value.getMonth(),C=g=>a.value&&g.toDateString()===a.value.toDateString(),z=async g=>{a.value=g,await S(g)},X=()=>{const g=new Date(r.value);g.setDate(r.value.getDate()-1),r.value=g},J=()=>{const g=new Date(r.value);g.setDate(r.value.getDate()+1),r.value=g},x=g=>g?g.toLocaleString("ko-KR"):"0",q=g=>{g.status&&g.status.trim()==="live"?se(g):g.status&&g.status.trim()==="ended"&&g.videoUrl&&ie(g)},se=g=>{alert(`${g.title} 라이브 방송을 시청합니다.`)},ie=g=>{alert(`${g.title} 다시보기를 시청합니다.`)},he=g=>{g.target.src="/default-thumbnail.jpg"},te=async g=>{if(t.value||n.value!=="connected")return;const j=wl();if(!j.identifier){alert("알림 설정을 위해 로그인이 필요합니다");return}if(f(g)){alert("이미 시작 시간이 지난 방송입니다.");return}try{t.value=!0;const D=j.identifier;if(console.log("=== 알림 토글 시작 ==="),console.log("사용자 ID:",D),console.log("방송 ID:",g.id),console.log("현재 알림 상태:",g.isNotificationSet),g.isNotificationSet){console.log("알림 구독 취소 요청...");const $=await bg(D,g.id);console.log("구독 취소 결과:",$),g.isNotificationSet=!1,v(D,g.id),alert("알림 구독이 취소되었습니다")}else{console.log("알림 구독 설정 요청...");const $=await _g(D,g.id);console.log("구독 설정 결과:",$),g.isNotificationSet=!0,L(D,g.id),alert("방송 시작 알림을 설정했습니다!")}}catch(D){console.error("알림 설정 오류:",D),g.isNotificationSet=!g.isNotificationSet;let $="알림 설정 중 오류가 발생했습니다.";if(D.response){const F=D.response.data;if(F&&F.error)switch(F.error){case"INVALID_PARAMETER":if(F.message&&F.message.includes("이미 구독")){g.isNotificationSet=!0,L(userParam,g.id),alert("이미 알림이 설정되어 있습니다!");return}else $="잘못된 요청입니다. 페이지를 새로고침해주세요.";break;case"INVALID_USER_ID":$="사용자 정보가 올바르지 않습니다. 다시 로그인해주세요.",localStorage.removeItem("jwt");break;case"INTERNAL_ERROR":$="서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요.";break;default:$=F.message||$}else if(D.response.status===401)$="인증이 필요합니다. 다시 로그인해주세요.",localStorage.removeItem("jwt");else if(D.response.status===403)$="권한이 없습니다.";else if(D.response.status===409){g.isNotificationSet=!0,L(userParam,g.id),alert("이미 알림이 설정되어 있습니다!");return}else D.response.status>=500&&($="서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요.")}else D.response||($="네트워크 연결을 확인해주세요.");alert($)}finally{t.value=!1}},L=(g,j)=>{const D=`notifications_${g}`,$=JSON.parse(localStorage.getItem(D)||"[]");$.includes(j)||($.push(j),localStorage.setItem(D,JSON.stringify($)))},v=(g,j)=>{const D=`notifications_${g}`,F=JSON.parse(localStorage.getItem(D)||"[]").filter(re=>re!==j);localStorage.setItem(D,JSON.stringify(F))};return Ge(a,async g=>{await S(g)}),Ze(async()=>{await R(),await S()}),(g,j)=>(_(),b(Ee,null,[o("div",wx,[o("div",kx,[o("div",Sx,[o("button",{class:"btn btn-sm btn-outline-secondary me-2",onClick:X}," ‹ "),o("div",Cx,[(_(!0),b(Ee,null,De(A.value,(D,$)=>(_(),b("div",{key:$,onClick:F=>z(D),class:$e(["d-flex flex-column align-items-center justify-content-center","rounded text-center position-relative","calendar-date-item",C(D)?"selected-date":k(D)?"today-date":"normal-date",w(D)?"other-month":""]),style:{"min-width":"50px",height:"65px",cursor:"pointer",transition:"all 0.2s"}},[o("small",$x,T(i[D.getDay()]),1),o("span",Ex,T(D.getDate()),1)],10,Ix))),128))]),o("button",{class:"btn btn-sm btn-outline-secondary ms-2",onClick:J}," › "),o("div",xx,[o("span",{class:$e(["badge",n.value==="connected"?"bg-success":"bg-danger"])},T(n.value==="connected"?"알림 서버 연결됨":"알림 서버 연결 안됨"),3)])])])]),o("div",Tx,[o("div",Ax,[s.value?(_(),b("div",Rx,j[0]||(j[0]=[o("div",{class:"spinner-border text-primary mb-3",role:"status"},[o("span",{class:"visually-hidden"},"Loading...")],-1),o("h5",{class:"text-muted"},"방송 스케줄을 불러오는 중...",-1)]))):l.value.length>0?(_(),b("div",Px,[(_(!0),b(Ee,null,De(l.value,D=>(_(),b("div",{key:D.time,class:"time-slot-section mb-4"},[o("div",Ox,[(_(!0),b(Ee,null,De(D.broadcasts,$=>(_(),b("div",{key:$.id,class:$e(["broadcast-item d-flex mb-3 bg-white",{"past-broadcast":u($),"live-broadcast":$.status&&$.status.trim()==="live"}]),onClick:F=>q($)},[o("div",Lx,[o("span",Dx,T(D.time),1),u($)?(_(),b("div",Mx,j[1]||(j[1]=[o("i",{class:"fas fa-clock text-muted",style:{"font-size":"10px"}},null,-1)]))):G("",!0)]),o("div",Ux,[o("img",{src:$.thumbnailUrl||"/default-thumbnail.jpg",alt:$.title,onError:he},null,40,jx),$.status&&$.status.trim()==="live"?(_(),b("div",Bx,j[2]||(j[2]=[o("span",{class:"text-white fw-bold"},"LIVE",-1)]))):u($)?(_(),b("div",qx,[o("span",Hx,T(y($)),1)])):G("",!0)]),o("div",Fx,[o("h6",{class:$e(["broadcast-title",{"text-muted":u($),"text-danger":$.status&&$.status.trim()==="live"}])},[ge(T($.title)+" ",1),$.status&&$.status.trim()==="live"?(_(),b("span",Vx,"LIVE")):G("",!0)],2),$.productName?(_(),b("div",Wx,[o("div",zx,[o("span",Jx,T($.productName),1)]),$.salePrice?(_(),b("div",Gx,[o("span",Kx,T(x($.salePrice))+"원",1)])):G("",!0)])):G("",!0),o("div",Zx,T($.broadcasterName),1),o("div",Xx,[m($)?(_(),b("button",{key:0,class:$e(["btn btn-outline-primary btn-sm","notification-btn-new",$.isNotificationSet?"notification-active btn-primary":""]),onClick:_t(F=>te($),["stop"]),disabled:t.value||n.value!=="connected"},[t.value?(_(),b("span",Qx,"로딩...")):(_(),b("span",eT,T($.isNotificationSet?"알림설정됨":"알림받기"),1))],10,Yx)):$.status&&$.status.trim()==="live"?(_(),b("div",tT,[j[3]||(j[3]=o("span",{class:"badge bg-danger"},[o("i",{class:"fas fa-circle me-1",style:{"font-size":"8px",animation:"blink 1s infinite"}}),ge(" 방송중 ")],-1)),o("button",{class:"btn btn-danger btn-sm ms-2",onClick:_t(F=>se($),["stop"])}," 시청하기 ",8,sT)])):$.status&&$.status.trim()==="ended"?(_(),b("div",nT,[j[4]||(j[4]=o("span",{class:"badge bg-secondary"},"방송 종료",-1)),$.videoUrl?(_(),b("button",{key:0,class:"btn btn-outline-primary btn-sm ms-2",onClick:_t(F=>ie($),["stop"])}," 다시보기 ",8,rT)):G("",!0)])):$.status&&$.status.trim()==="paused"?(_(),b("div",oT,j[5]||(j[5]=[o("span",{class:"badge bg-warning text-dark"},"일시정지",-1)]))):$.status&&$.status.trim()==="starting"?(_(),b("div",aT,j[6]||(j[6]=[o("span",{class:"badge bg-info"},"시작 준비중",-1)]))):d($)?(_(),b("div",iT,j[7]||(j[7]=[o("span",{class:"badge bg-warning text-dark"},"시간 경과",-1),o("small",{class:"text-muted ms-2"},"방송이 예정 시간을 지났습니다",-1)]))):G("",!0)])])],10,Nx))),128))])]))),128))])):(_(),b("div",lT,[j[8]||(j[8]=o("div",{class:"display-4 text-muted mb-3"},"📺",-1)),o("h5",cT,T(P())+"에 예정된 방송이 없습니다",1),j[9]||(j[9]=o("p",{class:"text-muted small"},"다른 날짜를 선택해보세요",-1))]))])])],64))}},dT=ze(uT,[["__scopeId","data-v-94bb4aef"]]),fT={class:"error-page"},pT={class:"error-container"},hT={class:"error-icon"},mT={class:"icon"},vT={class:"error-code"},gT={class:"error-title"},yT={class:"error-description"},_T={class:"error-actions"},bT=["onClick"],wT={__name:"ErrorPage",props:{errorCode:{type:[String,Number],default:500},errorMessage:{type:String,default:""},errorDetails:{type:String,default:""}},setup(e){const t=Qe(),s=Vt(),n=e,r={400:{icon:"",title:"잘못된 요청입니다",description:`요청하신 정보가 올바르지 않습니다.
입력 내용을 다시 확인해주세요.`,helpText:"문제가 계속 발생하면 고객센터로 문의해주세요.",supportLink:"/support",actions:[{key:"back",label:"이전 페이지로",type:"secondary"},{key:"home",label:"홈으로 이동",type:"primary"}]},401:{icon:"",title:"로그인이 필요합니다",description:`해당 페이지에 접근하려면 로그인이 필요합니다.
로그인 후 다시 이용해주세요.`,helpText:"계정이 없으시다면 회원가입을 진행해주세요.",supportLink:"/support",actions:[{key:"login",label:"로그인하기",type:"primary"},{key:"signup",label:"회원가입",type:"secondary"},{key:"home",label:"홈으로 이동",type:"outline"}]},403:{icon:"",title:"접근 권한이 없습니다",description:`요청하신 페이지에 접근할 권한이 없습니다.
관리자에게 문의하거나 다른 페이지를 이용해주세요.`,helpText:"권한이 필요한 경우 관리자에게 문의해주세요.",supportLink:"/support",actions:[{key:"back",label:"이전 페이지로",type:"secondary"},{key:"home",label:"홈으로 이동",type:"primary"}]},404:{icon:"",title:"페이지를 찾을 수 없습니다",description:`요청하신 페이지가 존재하지 않거나 이동되었습니다.
URL을 다시 확인하거나 홈페이지에서 원하는 정보를 찾아보세요.`,helpText:"찾으시는 페이지가 있다면 검색을 이용해보세요.",supportLink:"/support",actions:[{key:"home",label:"홈으로 이동",type:"primary"}]},422:{icon:"",title:"입력 정보가 올바르지 않습니다",description:`제출하신 정보에 오류가 있습니다.
각 항목을 다시 확인하고 올바르게 입력해주세요.`,helpText:"입력 형식을 확인하고 다시 시도해주세요.",supportLink:"/support",actions:[{key:"back",label:"다시 시도",type:"primary"},{key:"home",label:"홈으로 이동",type:"secondary"}]},429:{icon:"",title:"요청이 너무 많습니다",description:`잠시 후 다시 시도해주세요.
서비스 안정성을 위해 일시적으로 요청을 제한하고 있습니다.`,helpText:"5분 후에 다시 시도해보세요.",supportLink:"/support",actions:[{key:"retry",label:"다시 시도",type:"primary"},{key:"home",label:"홈으로 이동",type:"secondary"}]},500:{icon:"",title:"서버 오류가 발생했습니다",description:`일시적인 서버 오류로 인해 요청을 처리할 수 없습니다.
잠시 후 다시 시도해주세요.`,helpText:"문제가 지속되면 고객센터로 문의해주세요.",supportLink:"/support",actions:[{key:"retry",label:"새로고침",type:"primary"},{key:"home",label:"홈으로 이동",type:"secondary"}]},502:{icon:"",title:"게이트웨이 오류",description:`서비스 연결에 문제가 발생했습니다.
네트워크 상태를 확인하고 잠시 후 다시 시도해주세요.`,helpText:"네트워크 연결을 확인해주세요.",supportLink:"/support",actions:[{key:"retry",label:"다시 시도",type:"primary"},{key:"home",label:"홈으로 이동",type:"secondary"}]},503:{icon:"",title:"서비스를 이용할 수 없습니다",description:`서비스가 일시적으로 중단되었습니다.
시스템 점검이나 과부하로 인한 일시적 현상일 수 있습니다.`,helpText:"서비스 복구까지 잠시만 기다려주세요.",supportLink:"/support",actions:[{key:"retry",label:"다시 시도",type:"primary"},{key:"status",label:"서비스 상태 확인",type:"secondary"},{key:"home",label:"홈으로 이동",type:"outline"}]}},a=ke(()=>{const l=String(n.errorCode);return r[l]||r[500]}),i=l=>{switch(l){case"back":t.go(-1);break;case"home":t.push("/");break;case"login":const c=s.fullPath;t.push(`/login?redirect=${encodeURIComponent(c)}`);break;case"signup":t.push("/signup");break;case"search":t.push("/search");break;case"retry":window.location.reload();break;case"status":window.open("https://status.yourservice.com","_blank");break}};return Ze(()=>{n.errorCode>=500}),(l,c)=>(_(),b("div",fT,[o("div",pT,[o("div",hT,[o("span",mT,T(a.value.icon),1)]),o("div",vT,T(e.errorCode),1),o("h1",gT,T(a.value.title),1),o("p",yT,T(a.value.description),1),o("div",_T,[(_(!0),b(Ee,null,De(a.value.actions,f=>(_(),b("button",{key:f.key,class:$e(["action-btn",f.type]),onClick:u=>i(f.key)},T(f.label),11,bT))),128))])])]))}},kT=ze(wT,[["__scopeId","data-v-526742d1"]]),ST={class:"d-flex justify-content-center align-items-center vh-100 bg-light"},CT={class:"card p-4 shadow-sm text-center",style:{width:"100%","max-width":"400px"}},IT={key:0},$T={key:1},ET={class:"text-muted"},xT={__name:"SocialCallback",setup(e){const t=Qe(),s=H(!0),n=H(!1),r=H(""),a=async()=>{try{const u=new URLSearchParams(window.location.search),d=u.get("token")||u.get("jwt"),m=u.get("error"),y=window.location.origin+window.location.pathname;if(window.history.replaceState({},document.title,y),m){c(decodeURIComponent(m));return}if(!d){c("소셜 로그인 토큰을 받지 못했습니다.");return}let P="SOCIAL",R=null,N=null,M=null;try{const O=d.split(".");if(O.length===3){let S=O[1].replace(/-/g,"+").replace(/_/g,"/");for(;S.length%4;)S+="=";let A=null;try{const k=atob(S),w=new Uint8Array(k.length);for(let X=0;X<k.length;X++)w[X]=k.charCodeAt(X);const z=new TextDecoder("utf-8").decode(w);A=JSON.parse(z)}catch{try{const w=atob(S);A=JSON.parse(w)}catch{throw new Error("토큰 디코딩 실패")}}if(!A)throw new Error("토큰 페이로드가 null입니다");if(A.name&&A.name.trim()){let k=A.name.trim();k!=="사용자"&&k!=="소셜사용자"&&k!==A.sub&&k!==A.username&&k.length>=2&&(R=k)}A.provider?P=A.provider.toUpperCase():A.socialProvider&&(P=A.socialProvider.toUpperCase()),N=A.email,M=A.phone}}catch{}if(R||(R=`${i(P)}사용자`),localStorage.setItem("jwt",d),localStorage.setItem("login_type","SOCIAL"),sessionStorage.setItem("login_type","SOCIAL"),P&&(localStorage.setItem("social_provider",P),sessionStorage.setItem("social_provider",P)),R&&(localStorage.setItem("social_name",R),sessionStorage.setItem("social_name",R),localStorage.setItem("user_display_name",R),sessionStorage.setItem("current_user_name",R)),N&&(localStorage.setItem("social_email",N),sessionStorage.setItem("social_email",N)),M&&(localStorage.setItem("social_phone",M),sessionStorage.setItem("social_phone",M)),!jm(d,P,R,N,M)){c("소셜 로그인 정보 설정에 실패했습니다.");return}try{await l()}catch{}s.value=!1,setTimeout(async()=>{await t.push("/"),window.refreshHeaderUserInfo&&window.refreshHeaderUserInfo()},1e3)}catch{c("소셜 로그인 처리 중 오류가 발생했습니다.")}};function i(u){return{KAKAO:"카카오",NAVER:"네이버",GOOGLE:"구글"}[u]||"소셜"}const l=async()=>{try{const u=await Ie.get("/api/users/profile");if(u.data&&u.data.success&&u.data.data){const d=u.data.data;return ce.id=d.userId||ce.id,ce.role=d.role||ce.role||"USER",!localStorage.getItem("social_name")&&d.name&&(ce.name=d.name,localStorage.setItem("social_name",d.name),sessionStorage.setItem("social_name",d.name)),!localStorage.getItem("social_email")&&d.email&&(ce.email=d.email,localStorage.setItem("social_email",d.email),sessionStorage.setItem("social_email",d.email)),!localStorage.getItem("social_phone")&&d.phone&&(ce.phone=d.phone,localStorage.setItem("social_phone",d.phone),sessionStorage.setItem("social_phone",d.phone)),!0}}catch{}return!1},c=u=>{s.value=!1,n.value=!0,r.value=u},f=()=>{t.push("/login")};return Ze(()=>{a()}),(u,d)=>(_(),b("div",ST,[o("div",CT,[s.value?(_(),b("div",IT,d[0]||(d[0]=[o("div",{class:"spinner-border text-primary mb-3",role:"status"},[o("span",{class:"visually-hidden"},"Loading...")],-1),o("h5",null,"소셜 로그인 처리 중...",-1),o("p",{class:"text-muted"},"잠시만 기다려주세요.",-1)]))):n.value?(_(),b("div",$T,[d[1]||(d[1]=o("div",{class:"text-danger mb-3"},[o("div",{style:{"font-size":"2rem"}},"⚠️")],-1)),d[2]||(d[2]=o("h5",{class:"text-danger"},"소셜 로그인 실패",-1)),o("p",ET,T(r.value),1),o("button",{class:"btn btn-primary mt-3",onClick:f}," 로그인 페이지로 돌아가기 ")])):G("",!0)])]))}},TT=ze(xT,[["__scopeId","data-v-c95223d4"]]),AT={class:"chat-wrapper"},RT={class:"chat-header"},PT={class:"chat-header-buttons"},OT={class:"pin-wrapper"},NT={class:"toggle-wrapper"},LT={class:"chat-area-wrapper"},DT={key:0,class:"modal-overlay"},MT={class:"modal-content"},UT={class:"modal-buttons"},jT={__name:"SellerChat",props:{broadcastId:Number},setup(e){const t=e,s=H(null),n=H(""),r=H(!1),a=H(!1),i=()=>{n.value.trim()&&(s.value.sendNotice(n.value),a.value=!1)},l=()=>{s.value.sendNotice(""),n.value="",a.value=!1};return(c,f)=>(_(),b("div",AT,[o("div",RT,[f[4]||(f[4]=o("div",{class:"chat-title"},"💬 실시간 채팅",-1)),o("div",PT,[o("div",OT,[o("button",{class:"pin-btn",onClick:f[0]||(f[0]=u=>a.value=!0)},"📌 공지사항 등록")]),o("div",NT,[o("button",{class:"collapse-toggle-btn",onClick:f[1]||(f[1]=u=>r.value=!r.value)},T(r.value?"펼치기 ▼":"접기 ▲"),1)])])]),we(zu,{name:"chat-toggle"},{default:Je(()=>[_e(o("div",LT,[we(oi,{ref_key:"chatRef",ref:s,broadcastId:t.broadcastId,class:"chat-area"},null,8,["broadcastId"])],512),[[oh,!r.value]])]),_:1}),a.value?(_(),b("div",DT,[o("div",MT,[_e(o("textarea",{"onUpdate:modelValue":f[2]||(f[2]=u=>n.value=u),placeholder:"고정할 메시지를 입력하세요"},null,512),[[Te,n.value]]),o("div",UT,[o("button",{onClick:i},"고정"),o("button",{onClick:l},"해제"),o("button",{class:"close-btn",onClick:f[3]||(f[3]=u=>a.value=!1)},"닫기")])])])):G("",!0)]))}},BT=ze(jT,[["__scopeId","data-v-a00ac04c"]]),qT={__name:"UserChat",props:{broadcastId:Number},setup(e){return(t,s)=>(_(),qs(oi,{broadcastId:e.broadcastId,role:"user"},null,8,["broadcastId"]))}},HT={class:"chat-test-page"},FT={__name:"ChatTest",setup(e){const t=Vt(),s=Number(t.params.broadcastId),n=t.params.role||"user";return(r,a)=>(_(),b("div",HT,[o("h2",null,"🔧 채팅 테스트 페이지 (broadcastId: "+T(Ne(s))+" / role: "+T(Ne(n))+")",1),Ne(n)==="seller"?(_(),qs(BT,{key:0,broadcastId:Ne(s)},null,8,["broadcastId"])):(_(),qs(qT,{key:1,broadcastId:Ne(s)},null,8,["broadcastId"]))]))}},VT=ze(FT,[["__scopeId","data-v-a852a4a7"]]),WT=[{path:"/",name:"Home",component:uy,meta:{title:"홈페이지"}},{path:"/login",name:"Login",component:Cy,meta:{title:"로그인"}},{path:"/auth/callback",name:"SocialBackendCallback",redirect:"/login"},{path:"/auth/social-callback",name:"SocialCallback",component:TT,meta:{title:"로그인 처리 중...",hideNavigation:!0}},{path:"/register",name:"Register",component:u0,meta:{title:"회원가입"}},{path:"/findId",name:"FindId",component:C0,meta:{title:"아이디 찾기"}},{path:"/findPassword",name:"FindPassword",component:J0,meta:{title:"비밀번호 찾기"}},{path:"/mypage",name:"MyPage",component:zb,redirect:"/mypage/orders",children:[{path:"",name:"MyPageDefault",redirect:"/mypage/orders"},{path:"orders",name:"MyPageOrders",component:Qw},{path:"profile",name:"MyPageProfile",component:sk,meta:{title:"프로필 관리"}},{path:"edit",name:"ProfileEdit",component:El,meta:{requiresAuth:!0,title:"프로필 수정"}}]},{path:"/category",name:"Category",component:Sl,meta:{title:"카테고리"}},{path:"/category/:categoryId",name:"CategoryDetail",component:Sl,meta:{title:"카테고리 상품"}},{path:"/broadcasts/category/:categoryId?",name:"BroadcastCategory",component:ME,props:!0,meta:{title:"라이브 방송"}},{path:"/broadcasts/calendar",name:"BroadcastCalendar",component:dT,meta:{title:"방송 일정"}},{path:"/live/:broadcastId",name:"LiveBroadcastViewer",component:bx,props:!0,meta:{title:"라이브 방송 시청",requiresAuth:!1}},{path:"/product/:id",name:"ProductDetail",component:L4,meta:{title:"상품 상세"}},{path:"/users/edit/:userid",name:"UserEdit",component:El,props:!0,meta:{title:"사용자 정보 수정",requiresAuth:!0}},{path:"/cart",name:"Cart",component:QC,meta:{title:"장바구니"}},{path:"/checkout",name:"Checkout",component:p3,meta:{title:"주문서",requiresAuth:!0}},{path:"/order-complete",name:"OrderComplete",component:K$,meta:{title:"주문 완료",requiresAuth:!0}},{path:"/error/:code",name:"ErrorPage",component:kT,props:e=>({errorCode:e.params.code,errorMessage:e.query.message||"",errorDetails:e.query.details||""}),meta:{title:"에러 페이지",hideNavigation:!0}},{path:"/:pathMatch(.*)*",redirect:e=>({name:"ErrorPage",params:{code:"404"},query:{message:`페이지를 찾을 수 없습니다: ${e.path}`,details:JSON.stringify({requestedPath:e.path,requestedQuery:e.query,timestamp:new Date().toISOString(),referrer:document.referrer||"direct"},null,2)}})},{path:"/chat-test/:broadcastId/:role?",name:"ChatTest",component:VT,props:!0}],gs=Am({history:om(),routes:WT,scrollBehavior(e,t,s){return s||{top:0}}});gs.beforeEach((e,t,s)=>{if(e.meta.title?document.title=`${e.meta.title} - Your Site Name`:document.title="Your Site Name",e.meta.requiresAuth&&!localStorage.getItem("jwt")){s({name:"Login",query:{redirect:e.fullPath}});return}s()});gs.onError(e=>{console.error("라우터 에러:",e),gs.push({name:"ErrorPage",params:{code:"500"},query:{message:"페이지 로딩 중 오류가 발생했습니다",details:JSON.stringify({error:e.message,stack:e.stack,timestamp:new Date().toISOString()},null,2)}})});Ya();const Kd=$h(o1);Kd.config.globalProperties.$axios=He;const Mc=(e,t,s)=>{gs.currentRoute.value.path.startsWith("/error/")||gs.push({name:"ErrorPage",params:{code:e},query:{message:t||"",details:s||""}}).catch(n=>{window.location.href=`/error/${e}`})},zT=e=>e>=300&&e<400||e===401?!1:e>=400;He.interceptors.request.use(e=>{const t=localStorage.getItem("jwt");return t&&ce.id&&id(t)&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const JT=["/api/users/profile","/api/orders/checkout","/api/auth/verify","/api/users/me"];He.interceptors.response.use(e=>e,e=>{var a,i,l,c,f;const t=(a=e.response)==null?void 0:a.status,s=((i=e.config)==null?void 0:i.url)||"",n=((c=(l=e.response)==null?void 0:l.data)==null?void 0:c.message)||e.message,r=(f=e.response)==null?void 0:f.data;if(t===401)JT.some(d=>s.includes(d))&&(Gs(),gs.currentRoute.value.path!=="/login"&&gs.push("/login"));else if(t&&zT(t)){const u=JSON.stringify({url:s,status:t,message:n,serverData:r,timestamp:new Date().toISOString(),userAgent:navigator.userAgent},null,2);Mc(t,n,u)}else if(!e.response){const u=JSON.stringify({error:"Network Error",url:s,message:"Failed to connect to server",timestamp:new Date().toISOString()},null,2);Mc(502,"네트워크 연결에 문제가 발생했습니다",u)}return Promise.reject(e)});Kd.use(gs).mount("#app");
