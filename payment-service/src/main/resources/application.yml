server:
  port: 8090

spring:
  application:
    name: PAYMENT-SERVICE

  datasource:
    url: jdbc:mariadb://localhost:3306/shopmall
    username: kosa
    password: 1004
    driver-class-name: org.mariadb.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: validate
    database-platform: org.hibernate.dialect.MariaDBDialect
    show-sql: true
    properties:
      hibernate:
        format_sql: true

feign:
  client:
    config:
      default:
        connectTimeout: 5000
        readTimeout: 10000
        loggerLevel: basic
  circuitbreaker:
    enabled: true

# 기존 아임포트 설정 (그대로 유지)
iamport:
  api-key: ${IAMPORT_API_KEY:your_api_key}
  api-secret: ${IAMPORT_API_SECRET:your_api_secret}

eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka

management:
  endpoints:
    web:
      exposure:
        include: refresh, busrefresh
  endpoint:
    busrefresh:
      enabled: true
  security:
    enabled: false

rabbitmq:
  host: localhost
  port: 5672
  username: guest
  password: guest

# 🆓 NEW: PG 테스트 설정 추가 (기존 설정과 분리)
payment:
  test:
    enabled: true
    mode: development

  # PG사별 설정
  providers:
    # 현재 사용 중 (카카오페이)
    kakaopay:
      enabled: true
      active: true
      name: "카카오페이"
      pg-code: "kakaopay"
      test-mode: false

    # 테스트용 PG사들 (무료)
    inicis:
      enabled: true
      active: false  # 테스트만 가능
      name: "이니시스"
      pg-code: "html5_inicis"
      test-mode: true
      test-merchant-id: "INIpayTest"

    kcp:
      enabled: true
      active: false  # 테스트만 가능
      name: "KG이니시스"
      pg-code: "kcp"
      test-mode: true
      test-merchant-id: "T0000"

    toss:
      enabled: true
      active: false  # 테스트만 가능
      name: "토스페이먼츠"
      pg-code: "toss"
      test-mode: true
      test-merchant-id: "tosstest"

    nice:
      enabled: true
      active: false  # 테스트만 가능
      name: "나이스페이"
      pg-code: "nice"
      test-mode: true
      test-merchant-id: "nictest00m"

  # 결제수단별 설정
  methods:
    card:
      enabled: true
      name: "신용카드"
      test-cards:
        - number: "4000-0000-0000-0001"
          name: "신한카드 테스트"
        - number: "4000-0000-0000-0002"
          name: "삼성카드 테스트"
        - number: "4000-0000-0000-0003"
          name: "현대카드 테스트"

    trans:
      enabled: true
      name: "실시간계좌이체"

    vbank:
      enabled: true
      name: "가상계좌"

    phone:
      enabled: false
      name: "휴대폰소액결제"

# 🔧 로깅 설정 (선택사항)
logging:
  level:
    org.kosa.paymentservice: DEBUG
    com.siot.IamportRestClient: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level [%logger{36}] - %msg%n"